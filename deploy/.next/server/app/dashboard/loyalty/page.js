(()=>{var e={};e.id=3535,e.ids=[3535],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11159:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),t(93523),t(13321),t(81027),t(35866);var a=t(23191),l=t(88716),r=t(37922),i=t.n(r),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["loyalty",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,93523)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\dashboard\\loyalty\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,81027)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\dashboard\\loyalty\\page.tsx"],x="/dashboard/loyalty/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/loyalty/page",pathname:"/dashboard/loyalty",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69577:(e,s,t)=>{Promise.resolve().then(t.bind(t,48078))},48078:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(10326),l=t(17577),r=t(16721),i=t(77506),n=t(26092),c=t(33734),d=t(17069),o=t(98908),x=t(39183),p=t(997),m=t(14228),h=t(48998),u=t(1572),y=t(24061),j=t(32933),g=t(43810),f=t(33071),b=t(90772),N=t(77863),v=t(93917);function k(){let[e,s]=(0,l.useState)(null),[t,k]=(0,l.useState)(!0),[w,Z]=(0,l.useState)(!1),S=(0,l.useCallback)(()=>P(),[]);(0,v.w)(S);let P=async()=>{try{let e=await fetch("/api/user/loyalty",{credentials:"include"});if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Failed to fetch loyalty:",e)}finally{k(!1)}};if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(i.Z,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!e?.enabled)return(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(n.Z,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Loyalty Program Coming Soon"}),a.jsx("p",{className:"text-gray-600",children:"Stay tuned for exciting rewards!"})]});let M=e.currentTier,C=e.nextTier;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-4",style:{backgroundColor:M?.color||"#6B7280"},children:a.jsx(n.Z,{className:"w-12 h-12 text-white"})}),(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:[M?.displayName||"Loyalty Program"," Member"]}),a.jsx("p",{className:"text-gray-600",children:"You're part of our exclusive loyalty program!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(f.Zb,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:(0,a.jsxs)(f.aY,{className:"p-6 text-center",children:[a.jsx(c.Z,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("p",{className:"text-3xl font-bold",children:e.loyalty.totalPoints?.toLocaleString()}),a.jsx("p",{className:"text-purple-100",children:"Available Points"})]})}),a.jsx(f.Zb,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:(0,a.jsxs)(f.aY,{className:"p-6 text-center",children:[a.jsx(d.Z,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("p",{className:"text-3xl font-bold",children:e.loyalty.lifetimePoints?.toLocaleString()}),a.jsx("p",{className:"text-blue-100",children:"Lifetime Points"})]})}),a.jsx(f.Zb,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:(0,a.jsxs)(f.aY,{className:"p-6 text-center",children:[a.jsx(o.Z,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("p",{className:"text-3xl font-bold",children:(0,N.T4)(e.loyalty.lifetimeSpent||0)}),a.jsx("p",{className:"text-green-100",children:"Total Spent"})]})})]}),C&&a.jsx(f.Zb,{children:(0,a.jsxs)(f.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:M?.color},children:a.jsx(n.Z,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"font-bold",children:M?.displayName})]}),a.jsx(x.Z,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:C.color},children:a.jsx(n.Z,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"font-bold",children:C.displayName})]})]}),a.jsx("div",{className:"relative mb-2",children:a.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:a.jsx(r.E.div,{initial:{width:0},animate:{width:`${e.progress}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:M?.color}})})}),(0,a.jsxs)("p",{className:"text-center text-sm text-gray-600",children:["Spend ",(0,N.T4)(e.amountToNextTier)," more to reach ",C.displayName,"!"]})]})}),a.jsx(f.Zb,{children:(0,a.jsxs)(f.aY,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(p.Z,{className:"w-5 h-5 text-yellow-500"}),"Your Benefits"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[M?.discountPercent||0,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Discount"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[M?.pointsMultiplier||1,"x"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Points"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-pink-50 rounded-xl",children:[a.jsx("p",{className:"text-2xl font-bold text-pink-600",children:M?.birthdayBonus||0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Birthday Bonus"})]}),(0,a.jsxs)("div",{className:`text-center p-4 rounded-xl ${M?.freeShipping?"bg-blue-50":"bg-gray-50"}`,children:[a.jsx(m.Z,{className:`w-8 h-8 mx-auto mb-1 ${M?.freeShipping?"text-blue-600":"text-gray-400"}`}),a.jsx("p",{className:`text-sm ${M?.freeShipping?"text-blue-600 font-semibold":"text-gray-400"}`,children:M?.freeShipping?"Free Shipping":"Standard Shipping"})]})]}),(M?.prioritySupport||M?.earlyAccess||M?.exclusiveDeals)&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[M?.prioritySupport&&a.jsx("span",{className:"text-sm bg-purple-100 text-purple-800 px-3 py-1 rounded-full",children:"âš¡ Priority Support"}),M?.earlyAccess&&(0,a.jsxs)("span",{className:"text-sm bg-orange-100 text-orange-800 px-3 py-1 rounded-full flex items-center gap-1",children:[a.jsx(h.Z,{className:"w-3 h-3"})," Early Sale Access"]}),M?.exclusiveDeals&&(0,a.jsxs)("span",{className:"text-sm bg-pink-100 text-pink-800 px-3 py-1 rounded-full flex items-center gap-1",children:[a.jsx(u.Z,{className:"w-3 h-3"})," Exclusive Deals"]})]})]})}),(0,a.jsxs)(f.Zb,{className:"overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(y.Z,{className:"w-8 h-8"}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Refer Friends & Earn"}),(0,a.jsxs)("p",{className:"text-green-100",children:["Get ",e.referral.bonusPerReferral," points for each friend"]})]})]})}),a.jsx(f.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex-1 w-full",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your referral link:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",readOnly:!0,value:e.referral.link,className:"flex-1 px-4 py-2 bg-gray-100 rounded-lg text-sm"}),a.jsx(b.z,{onClick:()=>{e?.referral?.link&&(navigator.clipboard.writeText(e.referral.link),Z(!0),setTimeout(()=>Z(!1),2e3))},variant:"outline",children:w?a.jsx(j.Z,{className:"w-4 h-4"}):a.jsx(g.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.referral.completedReferrals}),a.jsx("p",{className:"text-sm text-gray-600",children:"Successful Referrals"})]})]})})]}),e.transactions?.length>0&&a.jsx(f.Zb,{children:(0,a.jsxs)(f.aY,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:e.transactions.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.description}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("span",{className:`font-bold ${e.points>0?"text-green-600":"text-red-600"}`,children:[e.points>0?"+":"",e.points," pts"]})]},e.id))})]})})]})}},93917:(e,s,t)=>{"use strict";t.d(s,{w:()=>l});var a=t(17577);function l(e,s={}){let{interval:t=3e4,refreshOnFocus:l=!0,enabled:r=!0}=s,i=(0,a.useRef)(e);return(0,a.useRef)(null),(0,a.useCallback)(()=>{"visible"===document.visibilityState&&l&&r&&i.current()},[l,r]),{refresh:(0,a.useCallback)(()=>{i.current()},[])}}},97147:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},997:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},77506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40617:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},8798:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},16671:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},93523:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\samia\Desktop\Learning Journey\HostNin\SilkMartWebSite\app\dashboard\loyalty\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,717,944,4048],()=>t(11159));module.exports=a})();