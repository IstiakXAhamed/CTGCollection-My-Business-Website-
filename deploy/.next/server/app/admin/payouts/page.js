(()=>{var e={};e.id=6136,e.ids=[6136],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},64610:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>l}),a(81531),a(90596),a(81027),a(35866);var s=a(23191),r=a(88716),n=a(37922),i=a.n(n),o=a(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);a.d(t,d);let l=["",{children:["admin",{children:["payouts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,81531)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\admin\\payouts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,81027)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\admin\\payouts\\page.tsx"],m="/admin/payouts/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/payouts/page",pathname:"/admin/payouts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},91795:(e,t,a)=>{Promise.resolve().then(a.bind(a,73364))},73364:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(10326),r=a(17577),n=a(33071),i=a(90772),o=a(567),d=a(60097),l=a(31048),c=a(87673),m=a(62288),p=a(77863),u=a(77506),x=a(44713),f=a(39447),g=a(94215);function h(){let{toast:e}=(0,g.pm)(),[t,a]=(0,r.useState)(!0),[h,y]=(0,r.useState)([]),[j,b]=(0,r.useState)("all"),[N,v]=(0,r.useState)(null),[w,k]=(0,r.useState)(""),[C,_]=(0,r.useState)(""),[R,z]=(0,r.useState)(!1),S=async()=>{try{a(!0);let e=await fetch(`/api/admin/payouts?status=${j}`);if(e.ok){let t=await e.json();y(t.payouts||[])}}finally{a(!1)}},P=(e,t)=>{v(e),k(t),_("")},q=async()=>{if(N&&w){z(!0);try{(await fetch("/api/admin/payouts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:N.id,action:w,note:C})})).ok?(e({title:"Success",description:`Request ${w}ed successfully`}),S(),v(null)):e({title:"Failed",variant:"destructive"})}catch(t){e({title:"Error",variant:"destructive"})}finally{z(!1)}}},Z=e=>{switch(e){case"paid":return"bg-green-100 text-green-700";case"approved":return"bg-blue-100 text-blue-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-orange-100 text-orange-700"}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payout Requests"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage seller withdrawal requests"})]}),s.jsx("div",{className:"flex items-center gap-2 bg-white p-1 rounded-lg border",children:["all","pending","approved","paid","rejected"].map(e=>s.jsx("button",{onClick:()=>b(e),className:`px-3 py-1.5 text-sm rounded-md capitalize transition ${j===e?"bg-gray-100 font-medium text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:e},e))})]}),s.jsx(n.Zb,{children:s.jsx(n.aY,{className:"p-0",children:t?s.jsx("div",{className:"p-12 flex justify-center",children:s.jsx(u.Z,{className:"animate-spin text-gray-400"})}):0===h.length?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"No requests found"}):s.jsx("div",{className:"divide-y",children:h.map(e=>(0,s.jsxs)("div",{className:"p-4 flex flex-col sm:flex-row gap-4 items-start sm:items-center hover:bg-gray-50 transition",children:[s.jsx("div",{className:`p-2 rounded-full hidden sm:block ${Z(e.status)}`,children:s.jsx(x.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:e.user?.name||"Seller"}),s.jsx("span",{className:"sm:hidden text-sm font-bold",children:(0,p.T4)(e.amount)})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:[e.user?.email," â€¢ ",e.user?.shop?.name]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs text-gray-500",children:[s.jsx(o.C,{variant:"secondary",className:"uppercase",children:e.method}),s.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()}),e.details&&s.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:JSON.parse(e.details).accountNumber||e.details})]})]}),(0,s.jsxs)("div",{className:"hidden sm:block text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:(0,p.T4)(e.amount)}),s.jsx(o.C,{className:`capitalize mt-1 ${Z(e.status)} hover:bg-opacity-80`,children:e.status})]}),(0,s.jsxs)("div",{className:"flex sm:hidden items-center justify-between w-full mt-2 pt-2 border-t",children:[s.jsx(o.C,{className:`capitalize ${Z(e.status)}`,children:e.status}),"pending"===e.status&&s.jsx(i.z,{size:"sm",variant:"outline",onClick:()=>P(e,"approve"),children:"Review"})]}),s.jsx("div",{className:"hidden sm:block",children:(0,s.jsxs)(d.h_,{children:[s.jsx(d.$F,{asChild:!0,children:s.jsx(i.z,{variant:"ghost",size:"icon",children:s.jsx(f.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)(d.AW,{align:"end",children:[s.jsx(d.Ju,{children:"Actions"}),s.jsx(d.VD,{}),"pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.Xi,{onClick:()=>P(e,"approve"),children:"Approve Request"}),s.jsx(d.Xi,{onClick:()=>P(e,"reject"),className:"text-red-600",children:"Reject Request"})]}),"approved"===e.status&&s.jsx(d.Xi,{onClick:()=>P(e,"mark_paid"),children:"Mark as Paid"}),s.jsx(d.Xi,{onClick:()=>navigator.clipboard.writeText(e.id),children:"Copy ID"})]})]})})]},e.id))})})}),s.jsx(m.Vq,{open:!!N,onOpenChange:e=>!e&&v(null),children:(0,s.jsxs)(m.cZ,{children:[(0,s.jsxs)(m.fK,{children:[(0,s.jsxs)(m.$N,{className:"capitalize",children:[w&&w.replace("_"," ")," Request"]}),s.jsx(m.Be,{children:"approve"===w?"Approve this request for payment processing?":"mark_paid"===w?"Confirm that you have sent the money?":"Reject this payout request?"})]}),(0,s.jsxs)("div",{className:"py-2",children:[s.jsx(l._,{children:"Admin Note (Optional)"}),s.jsx(c.g,{value:C,onChange:e=>_(e.target.value),placeholder:"Transaction ID or reason...",className:"mt-2"})]}),(0,s.jsxs)(m.cN,{children:[s.jsx(i.z,{variant:"outline",onClick:()=>v(null),children:"Cancel"}),(0,s.jsxs)(i.z,{onClick:q,disabled:R,variant:"reject"===w?"destructive":"default",className:"mark_paid"===w?"bg-green-600 hover:bg-green-700":"",children:[R&&s.jsx(u.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Confirm"]})]})]})})]})}},567:(e,t,a)=>{"use strict";a.d(t,{C:()=>o});var s=a(10326);a(17577);var r=a(79360),n=a(77863);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...a}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...a})}},62288:(e,t,a)=>{"use strict";a.d(t,{$N:()=>f,Be:()=>g,Vq:()=>d,cN:()=>x,cZ:()=>p,fK:()=>u,hg:()=>l});var s=a(10326),r=a(17577),n=a(37956),i=a(94019),o=a(77863);let d=n.fC,l=n.xz,c=n.h_;n.x8;let m=r.forwardRef(({className:e,...t},a)=>s.jsx(n.aV,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=n.aV.displayName;let p=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c,{children:[s.jsx(m,{}),(0,s.jsxs)(n.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(i.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=n.VY.displayName;let u=({className:e,...t})=>s.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let x=({className:e,...t})=>s.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="DialogFooter";let f=r.forwardRef(({className:e,...t},a)=>s.jsx(n.Dx,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=n.Dx.displayName;let g=r.forwardRef(({className:e,...t},a)=>s.jsx(n.dk,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=n.dk.displayName},60097:(e,t,a)=>{"use strict";a.d(t,{$F:()=>m,AW:()=>p,Ju:()=>x,VD:()=>f,Xi:()=>u,h_:()=>c});var s=a(10326),r=a(17577),n=a(75432),i=a(39183),o=a(32933),d=a(53982),l=a(77863);let c=n.fC,m=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef(({className:e,inset:t,children:a,...r},o)=>(0,s.jsxs)(n.fF,{ref:o,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.fF.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.tu,{ref:a,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.tu.displayName;let p=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(n.Uv,{children:s.jsx(n.VY,{ref:r,sideOffset:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));p.displayName=n.VY.displayName;let u=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(n.ck,{ref:r,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));u.displayName=n.ck.displayName,r.forwardRef(({className:e,children:t,checked:a,...r},i)=>(0,s.jsxs)(n.oC,{ref:i,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(o.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.oC.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.Rk,{ref:r,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.Rk.displayName;let x=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(n.__,{ref:r,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));x.displayName=n.__.displayName;let f=r.forwardRef(({className:e,...t},a)=>s.jsx(n.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));f.displayName=n.Z0.displayName},31048:(e,t,a)=>{"use strict";a.d(t,{_:()=>l});var s=a(10326),r=a(17577),n=a(29152),i=a(79360),o=a(77863);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...t},a)=>s.jsx(n.f,{ref:a,className:(0,o.cn)(d(),e),...t}));l.displayName=n.f.displayName},87673:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var s=a(10326),r=a(17577),n=a(77863);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},44713:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},81531:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\samia\Desktop\Learning Journey\HostNin\SilkMartWebSite\app\admin\payouts\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,717,7956,7239,944,8777],()=>a(64610));module.exports=s})();