(()=>{var e={};e.id=1565,e.ids=[1565],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11228:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(56826),t(81027),t(35866);var a=t(23191),l=t(88716),r=t(37922),i=t.n(r),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,56826)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,81027)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\cart\\page.tsx"],m="/cart/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22448:(e,s,t)=>{Promise.resolve().then(t.bind(t,27403))},27403:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(10326),l=t(17577),r=t(16721),i=t(77506),n=t(57671),c=t(98091),o=t(11019),d=t(83855),m=t(24230),x=t(90772),p=t(33071),u=t(11296),h=t(54432),f=t(46226),g=t(90434),j=t(77863),N=t(9014);function b(){let[e,s]=(0,l.useState)(""),[t,b]=(0,l.useState)(null),[y,v]=(0,l.useState)(!1),[w,C]=(0,l.useState)([]),[S,k]=(0,l.useState)(!1),[z,Z]=(0,l.useState)(null),D=(e,s)=>{s<1||N.x.getState().updateQuantity(e,s)},E=e=>{N.x.getState().removeItem(e)},P=async()=>{try{let s=await fetch(`/api/coupons/validate?code=${e}`);if(s.ok){let e=await s.json(),t={code:e.coupon.code,discountType:e.coupon.discountType,discountValue:e.coupon.discountValue,maxDiscount:e.coupon.maxDiscount};b(t),N.x.getState().applyCoupon(t),Z(null),alert("Coupon applied successfully!")}else if("WELCOME10"===e.toUpperCase()){let e={code:"WELCOME10",discountType:"percentage",discountValue:10};b(e),N.x.getState().applyCoupon(e),alert("Coupon applied! 10% discount")}else if("SAVE500"===e.toUpperCase()){let e={code:"SAVE500",discountType:"fixed",discountValue:500};b(e),N.x.getState().applyCoupon(e),alert("Coupon applied! à§³500 off")}else alert("Invalid coupon code")}catch(e){alert("Failed to validate coupon")}},T=w.reduce((e,s)=>e+s.price*s.quantity,0),M=T>=2e3?0:T>0?100:0,_=0,A=!1;t&&("free_shipping"===t.discountType?(A=!0,_=0):_="percentage"===t.discountType?Math.round(t.discountValue/100*T):t.discountValue);let q=A?0:M,F=Math.max(0,T-_+q);return y?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx(u.a,{items:[{label:"Cart"}],className:"mb-4"}),a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Shopping Cart"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[w.length," ",1===w.length?"item":"items"," in your cart"]})]}),0===w.length?(0,a.jsxs)(p.Zb,{className:"p-12 text-center",children:[a.jsx(n.Z,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to get started!"}),a.jsx(x.z,{asChild:!0,size:"lg",children:a.jsx(g.default,{href:"/shop",children:"Browse Products"})})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:(0,a.jsxs)(x.z,{variant:"outline",size:"sm",onClick:()=>{N.x.getState().clearCart()},className:"text-red-600 hover:bg-red-50",children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Clear Cart"]})}),w.map((e,s)=>a.jsx(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:a.jsx(p.Zb,{children:a.jsx(p.aY,{className:"p-3 sm:p-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 relative rounded-lg overflow-hidden bg-gray-100",children:a.jsx(f.default,{src:e.image||"/placeholder.png",alt:e.name,fill:!0,className:"object-cover"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base line-clamp-2",children:e.name}),(e.size||e.color)&&(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5 sm:mt-1",children:[e.size&&`Size: ${e.size}`,e.size&&e.color&&" \xb7 ",e.color&&`Color: ${e.color}`]}),a.jsx("p",{className:"text-base sm:text-lg font-bold text-blue-600 mt-1 sm:mt-2",children:(0,j.T4)(e.price)})]}),a.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>E(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 sm:hidden h-8 w-8 p-0",children:a.jsx(c.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between sm:flex-col sm:items-end sm:justify-between",children:[a.jsx(x.z,{variant:"ghost",size:"sm",onClick:()=>E(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 hidden sm:flex",children:a.jsx(c.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center border-2 rounded-lg",children:[a.jsx("button",{onClick:()=>D(e.id,e.quantity-1),className:"p-2 sm:p-2 hover:bg-gray-100 transition min-w-[40px] min-h-[40px] flex items-center justify-center",disabled:e.quantity<=1,children:a.jsx(o.Z,{className:"w-4 h-4"})}),a.jsx("span",{className:"px-3 sm:px-4 font-semibold min-w-[40px] text-center",children:e.quantity}),a.jsx("button",{onClick:()=>D(e.id,e.quantity+1),className:"p-2 sm:p-2 hover:bg-gray-100 transition min-w-[40px] min-h-[40px] flex items-center justify-center",children:a.jsx(d.Z,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground sm:mt-2",children:a.jsx("span",{className:"font-semibold text-foreground",children:(0,j.T4)(e.price*e.quantity)})})]})]})})})},e.id))]}),a.jsx("div",{children:a.jsx(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"sticky top-24",children:a.jsx(p.Zb,{children:(0,a.jsxs)(p.aY,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-6",children:"Order Summary"}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Have a coupon?"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(h.I,{placeholder:"Enter code",value:e,onChange:e=>s(e.target.value.toUpperCase())}),a.jsx(x.z,{onClick:P,variant:"outline",disabled:S,children:S?a.jsx(i.Z,{className:"w-4 h-4 animate-spin"}):"Apply"})]}),t&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("p",{className:"text-sm text-green-700 flex items-center gap-1 font-medium",children:["âœ“ ",t.code," applied",z&&a.jsx("span",{className:"text-green-600 font-bold ml-1",children:"(Auto-applied!)"})]}),z&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:z.isFreeShipping?"\uD83D\uDE9A Free shipping auto-applied!":`ðŸŽ‰ Best coupon auto-applied! You save à§³${z.savings?.toFixed(0)||"0"}`})]}),!t&&!S&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"\uD83D\uDCA1 We'll auto-apply the best coupon for you!"})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsx("span",{className:"font-semibold",children:(0,j.T4)(T)})]}),(_>0||A)&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:A?"\uD83D\uDE9A Free Shipping":"Discount"}),a.jsx("span",{className:"font-semibold",children:A?`FREE (was ${(0,j.T4)(M)})`:`-${(0,j.T4)(_)}`})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Shipping",A&&a.jsx("span",{className:"ml-1 text-xs text-green-600",children:"\uD83C\uDF89"})]}),a.jsx("span",{className:`font-semibold ${A?"text-green-600":""}`,children:0===q?a.jsx("span",{className:"text-green-600",children:"Free"}):(0,j.T4)(q)})]}),T>0&&T<2e3&&!A&&(0,a.jsxs)("p",{className:"text-xs text-blue-600",children:["Add ",(0,j.T4)(2e3-T)," more for free shipping!"]}),(0,a.jsxs)("div",{className:"border-t pt-3 flex justify-between text-lg",children:[a.jsx("span",{className:"font-bold",children:"Total"}),a.jsx("span",{className:"font-bold text-blue-600",children:(0,j.T4)(F)})]})]}),a.jsx(x.z,{asChild:!0,size:"lg",className:"w-full",children:(0,a.jsxs)(g.default,{href:"/checkout",children:["Proceed to Checkout",a.jsx(m.Z,{className:"w-5 h-5 ml-2"})]})}),a.jsx(x.z,{asChild:!0,variant:"outline",size:"lg",className:"w-full mt-3",children:a.jsx(g.default,{href:"/shop",children:"Continue Shopping"})})]})})})})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(i.Z,{className:"w-8 h-8 animate-spin text-blue-600"})})}},11296:(e,s,t)=>{"use strict";t.d(s,{a:()=>n});var a=t(10326),l=t(90434);let r=(0,t(62881).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var i=t(39183);function n({items:e,className:s=""}){return a.jsx("nav",{className:`flex items-center text-sm text-muted-foreground ${s}`,"aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"flex items-center flex-wrap gap-1 sm:gap-2",children:[a.jsx("li",{className:"flex items-center",children:(0,a.jsxs)(l.default,{href:"/",className:"flex items-center hover:text-foreground transition-colors",children:[a.jsx(r,{className:"w-4 h-4"}),a.jsx("span",{className:"sr-only",children:"Home"})]})}),e.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center",children:[a.jsx(i.Z,{className:"w-4 h-4 mx-1 text-muted-foreground/50"}),e.href?a.jsx(l.default,{href:e.href,className:"hover:text-foreground transition-colors font-medium",children:e.label}):a.jsx("span",{className:"text-foreground font-semibold truncate max-w-[200px]","aria-current":"page",children:e.label})]},s))]})})}},33071:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>o,Zb:()=>i,aY:()=>d,ll:()=>c});var a=t(10326),l=t(17577),r=t(77863);let i=l.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=l.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=l.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let o=l.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let d=l.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",l.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},77506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},11019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},56826:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\samia\Desktop\Learning Journey\HostNin\SilkMartWebSite\app\cart\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,717,944],()=>t(11228));module.exports=a})();