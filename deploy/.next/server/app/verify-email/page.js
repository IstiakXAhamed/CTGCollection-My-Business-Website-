(()=>{var e={};e.id=6931,e.ids=[6931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94272:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(86343),a(81027),a(35866);var s=a(23191),r=a(88716),i=a(37922),n=a.n(i),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["verify-email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,86343)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\verify-email\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,81027)),"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\verify-email\\page.tsx"],m="/verify-email/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/verify-email/page",pathname:"/verify-email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6434:(e,t,a)=>{Promise.resolve().then(a.bind(a,85034))},85034:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(10326),r=a(17577),i=a(35047),n=a(16721),l=a(30361),o=a(77506),d=a(5932),c=a(21405),m=a(86333),u=a(90772),x=a(33071),p=a(90434);function f(){let e=(0,i.useRouter)(),t=(0,i.useSearchParams)().get("email")||"",[a,f]=(0,r.useState)(["","","","","",""]),[h,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[k,P]=(0,r.useState)(0),S=(0,r.useRef)([]),C=(e,t)=>{if(!/^\d*$/.test(t))return;let s=[...a];if(s[e]=t.slice(-1),f(s),N(""),t&&e<5&&S.current[e+1]?.focus(),5===e&&t){let e=s.join("");6===e.length&&_(e)}},Z=(e,t)=>{"Backspace"===t.key&&!a[e]&&e>0&&S.current[e-1]?.focus()},_=async a=>{if(!t){N("Email is required. Please go back to registration.");return}g(!0),N("");try{let s=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,code:a})}),r=await s.json();s.ok?(w(!0),setTimeout(()=>{e.push("/login?verified=true")},2e3)):(N(r.message||"Verification failed"),f(["","","","","",""]),S.current[0]?.focus())}catch(e){N("Network error. Please try again.")}finally{g(!1)}},M=async()=>{if(t&&!(k>0)){b(!0),N("");try{let e=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),a=await e.json();e.ok?(P(60),f(["","","","","",""]),S.current[0]?.focus()):N(a.message||"Failed to resend code")}catch(e){N("Network error. Please try again.")}finally{b(!1)}}};return v?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 p-4",children:(0,s.jsxs)(n.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx(l.Z,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),s.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-2",children:"Email Verified!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Redirecting you to login..."}),s.jsx(o.Z,{className:"w-6 h-6 animate-spin mx-auto text-blue-600"})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:s.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,s.jsxs)(x.Zb,{className:"shadow-xl",children:[(0,s.jsxs)(x.Ol,{className:"text-center pb-2",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(d.Z,{className:"w-8 h-8 text-blue-600"})}),s.jsx(x.ll,{className:"text-2xl",children:"Verify Your Email"}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-2",children:["We sent a 6-digit code to",s.jsx("br",{}),s.jsx("span",{className:"font-semibold text-foreground",children:t||"your email"})]})]}),(0,s.jsxs)(x.aY,{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center gap-2",onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);6===t.length&&(f(t.split("")),_(t))},children:a.map((e,t)=>s.jsx("input",{ref:e=>{S.current[t]=e},type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>C(t,e.target.value),onKeyDown:e=>Z(t,e),className:`w-12 h-14 text-center text-2xl font-bold border-2 rounded-lg 
                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                    ${j?"border-red-500":"border-gray-200"}
                    ${e?"bg-blue-50 border-blue-300":"bg-white"}`,disabled:h},t))}),j&&s.jsx(n.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-red-500 text-sm",children:j}),s.jsx(u.z,{onClick:()=>_(a.join("")),disabled:h||a.some(e=>!e),className:"w-full h-12 text-lg",children:h?(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{className:"w-5 h-5 mr-2 animate-spin"}),"Verifying..."]}):"Verify Email"}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Didn't receive the code?"}),s.jsx(u.z,{variant:"ghost",onClick:M,disabled:y||k>0,className:"text-blue-600",children:y?(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):k>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Resend in ",k,"s"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Resend Code"]})})]}),s.jsx("div",{className:"text-center pt-4 border-t",children:(0,s.jsxs)(p.default,{href:"/register",className:"text-sm text-muted-foreground hover:text-foreground flex items-center justify-center gap-1",children:[s.jsx(m.Z,{className:"w-4 h-4"}),"Back to Registration"]})})]})]})})})}},33071:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var s=a(10326),r=a(17577),i=a(77863);let n=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},86333:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},77506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},86343:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\samia\Desktop\Learning Journey\HostNin\SilkMartWebSite\app\verify-email\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,717,944],()=>a(94272));module.exports=s})();