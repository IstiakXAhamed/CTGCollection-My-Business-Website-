"use strict";(()=>{var e={};e.id=5433,e.ids=[5433,7356],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},11466:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>k,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var a={};t.r(a),t.d(a,{GET:()=>p,dynamic:()=>u});var s=t(49303),n=t(88716),o=t(60670),i=t(87070),d=t(72331);let u="force-dynamic";async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("orderNumber");if(!t)return i.NextResponse.json({error:"Order number required"},{status:400});let a=await d.prisma.order.findUnique({where:{orderNumber:t},include:{items:{include:{product:{select:{name:!0}}}},address:!0}});if(!a)return i.NextResponse.json({error:"Order not found"},{status:404});let s={orderNumber:a.orderNumber,status:a.status,paymentStatus:a.paymentStatus,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString(),trackingNumber:a.trackingNumber,total:a.total,address:`${a.address.name}, ${a.address.address}, ${a.address.city}, ${a.address.district}`,items:a.items.map(e=>({name:e.product.name,quantity:e.quantity,price:e.price}))};return i.NextResponse.json(s)}catch(e){return console.error("Order tracking error:",e),i.NextResponse.json({error:e.message},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/orders/track/route",pathname:"/api/orders/track",filename:"route",bundlePath:"app/api/orders/track/route"},resolvedPagePath:"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\api\\orders\\track\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:g}=c,x="/api/orders/track/route";function k(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},72331:(e,r,t)=>{t.d(r,{prisma:()=>n});var a=t(53524);let s=globalThis,n=s.prisma??new a.PrismaClient({log:["error"]});s.prisma=n}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[8948,5972],()=>t(11466));module.exports=a})();