"use strict";(()=>{var e={};e.id=3781,e.ids=[3781,7356],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49699:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>l,dynamic:()=>p});var a=r(49303),i=r(88716),n=r(60670),o=r(87070);let u=r(72331).prisma,p="force-dynamic";async function l(e,{params:t}){try{let{slug:e}=await t,r=await u.siteSettings.findUnique({where:{id:"main"},select:{multiVendorEnabled:!0,storeName:!0}});if(!r?.multiVendorEnabled)return o.NextResponse.json({error:"Shop pages are not available in single-vendor mode"},{status:404});let s=await u.shop.findUnique({where:{slug:e,isActive:!0},include:{owner:{select:{id:!0,name:!0}},products:{where:{isActive:!0},take:20,orderBy:{createdAt:"desc"},select:{id:!0,name:!0,slug:!0,basePrice:!0,salePrice:!0,images:!0,isFeatured:!0,isBestseller:!0}},_count:{select:{products:!0}}}});if(!s)return o.NextResponse.json({error:"Shop not found"},{status:404});return o.NextResponse.json({shop:s})}catch(e){return o.NextResponse.json({error:e.message},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/shops/[slug]/route",pathname:"/api/shops/[slug]",filename:"route",bundlePath:"app/api/shops/[slug]/route"},resolvedPagePath:"C:\\Users\\samia\\Desktop\\Learning Journey\\HostNin\\SilkMartWebSite\\app\\api\\shops\\[slug]\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g}=d,h="/api/shops/[slug]/route";function v(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},72331:(e,t,r)=>{r.d(t,{prisma:()=>i});var s=r(53524);let a=globalThis,i=a.prisma??new s.PrismaClient({log:["error"]});a.prisma=i}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972],()=>r(49699));module.exports=s})();