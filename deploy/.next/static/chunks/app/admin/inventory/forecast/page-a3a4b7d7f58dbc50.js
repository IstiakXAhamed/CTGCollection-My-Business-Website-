(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7286],{15631:function(e,t,r){Promise.resolve().then(r.bind(r,88438))},88438:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(57437),a=r(2265),s=r(66070),i=r(62869),l=r(70525),o=r(82431),c=r(82023),d=r(51817),u=r(44794),f=r(76865),m=r(35974);function p(){let[e,t]=(0,a.useState)([]),[r,p]=(0,a.useState)(!0),[x,h]=(0,a.useState)([]),[y,g]=(0,a.useState)({});(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{p(!0);let e=await fetch("/api/admin/products?limit=100",{credentials:"include"});if(e.ok){let r=await e.json();t(r.products||[])}}catch(e){console.error("Failed to fetch products",e)}finally{p(!1)}},b=async e=>{if(!x.includes(e.id)){h(t=>[...t,e.id]);try{let t=await fetch("/api/ai/inventory-forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productData:{name:e.name,category:e.category,currentStock:e.stock,price:e.price},salesHistory:{last30Days:Math.floor(50*Math.random())+5,last7Days:Math.floor(10*Math.random())+1}})});if(t.ok){let r=await t.json();g(t=>({...t,[e.id]:r.forecast}))}}catch(e){console.error("Forecast failed",e)}finally{h(t=>t.filter(t=>t!==e.id))}}},j=async()=>{for(let t of e.filter(e=>e.stock<20))await b(t)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,n.jsx)(l.Z,{className:"w-8 h-8 text-blue-600"}),"AI Inventory Forecast"]}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Predict stockouts and restock needs using AI"})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(i.z,{variant:"outline",onClick:v,children:[(0,n.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Refresh Data"]}),(0,n.jsxs)(i.z,{onClick:j,className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Analyze Low Stock Items"]})]})]}),r?(0,n.jsx)("div",{className:"flex justify-center py-12",children:(0,n.jsx)(d.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{let t=y[e.id],r=x.includes(e.id),a=e.stock<10;return(0,n.jsxs)(s.Zb,{className:"overflow-hidden transition-all ".concat(a?"border-amber-200 bg-amber-50/30":""),children:[(0,n.jsx)(s.Ol,{className:"pb-3",children:(0,n.jsx)("div",{className:"flex justify-between items-start",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(s.ll,{className:"text-lg font-semibold truncate",title:e.name,children:e.name}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,n.jsxs)(m.C,{variant:"outline",className:"bg-white",children:[(0,n.jsx)(u.Z,{className:"w-3 h-3 mr-1"}),"Stock: ",e.stock]}),(0,n.jsx)(m.C,{variant:"secondary",className:"bg-gray-100",children:e.category})]})]})})}),(0,n.jsx)(s.aY,{children:t?(0,n.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border shadow-sm",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Daily Sales"}),(0,n.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["~",t.dailyRate]})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-gray-200"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Stockout In"}),(0,n.jsxs)("p",{className:"text-lg font-bold ".concat(t.daysUntilStockout<7?"text-red-600":"text-gray-900"),children:[t.daysUntilStockout," Days"]})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-gray-200"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-xs text-green-600 uppercase font-bold",children:"Restock"}),(0,n.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["+",t.restockRecommendation]})]})]}),(0,n.jsx)("div",{className:"p-3 rounded-lg text-sm border ".concat("critical"===t.urgency?"bg-red-50 border-red-100 text-red-800":"high"===t.urgency?"bg-amber-50 border-amber-100 text-amber-800":"bg-blue-50 border-blue-100 text-blue-800"),children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)(f.Z,{className:"w-4 h-4 mt-0.5 shrink-0"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"font-bold uppercase text-xs",children:[t.urgency," Priority"]}),(0,n.jsx)("p",{className:"mt-1 leading-snug",children:t.reason})]})]})})]}):(0,n.jsx)("div",{className:"text-center py-6 bg-gray-50/50 rounded-lg border border-dashed",children:r?(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 text-indigo-600",children:[(0,n.jsx)(d.Z,{className:"w-6 h-6 animate-spin"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Analyzing sales patterns..."})]}):(0,n.jsxs)(i.z,{variant:"ghost",className:"hover:bg-indigo-50 hover:text-indigo-600 group",onClick:()=>b(e),children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-2 text-gray-400 group-hover:text-indigo-500"}),"Generate Forecast"]})})})]},e.id)})})]})}},35974:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var n=r(57437);r(2265);var a=r(90535),s=r(94508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...a})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var n=r(57437),a=r(2265),s=r(37053),i=r(90535),l=r(94508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(57437),a=r(2265),s=r(94508);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},94508:function(e,t,r){"use strict";r.d(t,{T4:function(){return i},cn:function(){return s}});var n=r(61994),a=r(53335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function i(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},44794:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},82431:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},82023:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},70525:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},76865:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},98575:function(e,t,r){"use strict";r.d(t,{F:function(){return s},e:function(){return i}});var n=r(2265);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function i(...e){return n.useCallback(s(...e),e)}},37053:function(e,t,r){"use strict";r.d(t,{Z8:function(){return d},g7:function(){return u}});var n,a=r(2265),s=r(98575),i=r(57437),l=Symbol.for("react.lazy"),o=(n||(n=r.t(a,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function d(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(c(r)&&"function"==typeof o&&(r=o(r._payload)),a.isValidElement(r)){var i;let e,l;let o=(i=r,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...s}:"className"===n&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?(0,s.F)(t,o):o),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...s}=e;c(n)&&"function"==typeof o&&(n=o(n._payload));let l=a.Children.toArray(n),d=l.find(m);if(d){let e=d.props.children,n=l.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...s,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var u=d("Slot"),f=Symbol("radix.slottable");function m(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(61994);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.W,i=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],n=null==l?void 0:l[e];if(null===t)return null;let s=a(t)||a(n);return i[e][s]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return s(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[8590,2971,2117,1744],function(){return e(e.s=15631)}),_N_E=e.O()}]);