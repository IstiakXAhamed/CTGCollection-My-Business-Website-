(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4888],{70490:function(e,t,r){Promise.resolve().then(r.bind(r,57016))},57016:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(57437),s=r(2265),l=r(66070),i=r(62869);let a=(0,r(79205).Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var c=r(17689),o=r(92735),d=r(51817),u=r(41671),p=r(30401),f=r(32489),m=r(49322);function h(){let[e,t]=(0,s.useState)(null),[r,h]=(0,s.useState)([]),[x,g]=(0,s.useState)(!1),[y,j]=(0,s.useState)(null),v=(0,s.useRef)(null),b=e=>{let t=new FileReader;t.onload=e=>{var t;let r=(null===(t=e.target)||void 0===t?void 0:t.result).split("\n").filter(e=>e.trim()),n=r[0].split(",").map(e=>e.trim().toLowerCase()),s=[];for(let e=1;e<r.length;e++){let t=r[e].split(",").map(e=>e.trim()),l={status:"pending"};n.forEach((e,r)=>{"baseprice"===e||"saleprice"===e||"stock"===e?l["baseprice"===e?"basePrice":"saleprice"===e?"salePrice":"stock"]=parseFloat(t[r])||0:l[e]=t[r]}),l.name&&l.basePrice&&s.push(l)}h(s)},t.readAsText(e)},N=async()=>{if(0===r.length)return;g(!0);let e=0,t=0,n=[...r];for(let r=0;r<n.length;r++){let l=n[r];try{var s;let i=await fetch("/api/admin/products",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:l.name,description:l.description||"".concat(l.name," - Quality product"),categorySlug:null===(s=l.category)||void 0===s?void 0:s.toLowerCase().replace(/\s+/g,"-"),basePrice:l.basePrice,salePrice:l.salePrice||null,images:l.images?l.images.split("|"):[],variants:[{size:l.size||null,color:l.color||null,stock:l.stock||0,sku:"SKU-".concat(Date.now(),"-").concat(r)}]})});if(i.ok)n[r].status="success",e++;else{let e=await i.json();n[r].status="error",n[r].error=e.error||"Failed to import",t++}}catch(e){n[r].status="error",n[r].error=e.message,t++}h([...n])}j({success:e,failed:t}),g(!1)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCE4 Bulk Product Import"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Import multiple products at once using CSV file"})]}),(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(a,{className:"w-5 h-5 text-green-600"}),"Upload CSV File"]})}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,n.jsxs)("div",{onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"w-full border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-12 text-center cursor-pointer hover:border-blue-500 transition",children:[(0,n.jsx)(c.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,n.jsx)("p",{className:"text-lg font-medium mb-2",children:e?e.name:"Click to upload or drag & drop"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"CSV files only. Max 1000 products per import."})]}),(0,n.jsx)("input",{ref:v,type:"file",accept:".csv",onChange:e=>{var r;let n=null===(r=e.target.files)||void 0===r?void 0:r[0];if(n){if(!n.name.endsWith(".csv")){alert("Please select a CSV file");return}t(n),b(n)}},className:"hidden"}),(0,n.jsxs)(i.z,{variant:"outline",onClick:()=>{let e=new Blob(["name,description,category,basePrice,salePrice,size,color,stock,images\nPremium T-Shirt,Comfortable cotton t-shirt,Clothing,999,799,M,Black,50,https://example.com/img1.jpg|https://example.com/img2.jpg\nWireless Earbuds,High quality audio,Electronics,2499,1999,,White,100,https://example.com/earbuds.jpg\nLeather Wallet,Genuine leather wallet,Accessories,599,,One Size,Brown,75,"],{type:"text/csv"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="sample-products.csv",r.click(),URL.revokeObjectURL(t)},children:[(0,n.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Download Sample CSV"]})]})})]}),r.length>0&&(0,n.jsxs)(l.Zb,{children:[(0,n.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between",children:[(0,n.jsxs)(l.ll,{children:["Preview (",r.length," products)"]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(i.z,{variant:"outline",onClick:()=>{t(null),h([]),j(null)},children:"Clear"}),(0,n.jsx)(i.z,{onClick:N,disabled:x,children:x?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Import All"]})})]})]}),(0,n.jsxs)(l.aY,{children:[y&&(0,n.jsxs)("div",{className:"p-4 rounded-lg mb-4 ".concat(0===y.failed?"bg-green-50 text-green-800":"bg-yellow-50 text-yellow-800"),children:[(0,n.jsx)(u.Z,{className:"w-5 h-5 inline mr-2"}),"Import complete: ",y.success," success, ",y.failed," failed"]}),(0,n.jsxs)("div",{className:"overflow-x-auto",children:[(0,n.jsxs)("table",{className:"w-full text-sm",children:[(0,n.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left",children:"Name"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left",children:"Category"}),(0,n.jsx)("th",{className:"px-4 py-3 text-right",children:"Base Price"}),(0,n.jsx)("th",{className:"px-4 py-3 text-right",children:"Sale Price"}),(0,n.jsx)("th",{className:"px-4 py-3 text-center",children:"Stock"})]})}),(0,n.jsx)("tbody",{children:r.slice(0,20).map((e,t)=>(0,n.jsxs)("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,n.jsxs)("td",{className:"px-4 py-3",children:["pending"===e.status&&(0,n.jsx)("span",{className:"text-gray-400",children:"⏳"}),"success"===e.status&&(0,n.jsx)(p.Z,{className:"w-5 h-5 text-green-600"}),"error"===e.status&&(0,n.jsx)("span",{title:e.error,children:(0,n.jsx)(f.Z,{className:"w-5 h-5 text-red-600"})})]}),(0,n.jsx)("td",{className:"px-4 py-3 font-medium",children:e.name}),(0,n.jsx)("td",{className:"px-4 py-3",children:e.category}),(0,n.jsxs)("td",{className:"px-4 py-3 text-right",children:["৳",e.basePrice]}),(0,n.jsx)("td",{className:"px-4 py-3 text-right",children:e.salePrice?"৳".concat(e.salePrice):"-"}),(0,n.jsx)("td",{className:"px-4 py-3 text-center",children:e.stock})]},t))})]}),r.length>20&&(0,n.jsxs)("p",{className:"text-center text-muted-foreground py-4",children:["Showing 20 of ",r.length," products"]})]})]})]}),(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(m.Z,{className:"w-5 h-5 text-blue-600"}),"CSV Format Guide"]})}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{children:"Your CSV file should have the following columns:"}),(0,n.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg font-mono text-sm overflow-x-auto",children:"name, description, category, basePrice, salePrice, size, color, stock, images"}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"Required Fields:"}),(0,n.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"name"})," - Product name"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"basePrice"})," - Original price (number)"]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"Optional Fields:"}),(0,n.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"description"})," - Product description"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"category"})," - Category name"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"salePrice"})," - Discounted price"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"size, color"})," - Variant info"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"stock"})," - Quantity available"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"images"})," - URLs separated by |"]})]})]})]})]})})]})]})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return o}});var n=r(57437),s=r(2265),l=r(37053),i=r(90535),a=r(94508);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:o=!1,...d}=e,u=o?l.g7:"button";return(0,n.jsx)(u,{className:(0,a.cn)(c({variant:s,size:i,className:r})),ref:t,...d})});o.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return a},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var n=r(57437),s=r(2265),l=r(94508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});a.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},94508:function(e,t,r){"use strict";r.d(t,{T4:function(){return i},cn:function(){return l}});var n=r(61994),s=r(53335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function i(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}},30401:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92735:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},17689:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},98575:function(e,t,r){"use strict";r.d(t,{F:function(){return l},e:function(){return i}});var n=r(2265);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function i(...e){return n.useCallback(l(...e),e)}},37053:function(e,t,r){"use strict";r.d(t,{Z8:function(){return d},g7:function(){return u}});var n,s=r(2265),l=r(98575),i=r(57437),a=Symbol.for("react.lazy"),c=(n||(n=r.t(s,2)))[" use ".trim().toString()];function o(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function d(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(o(r)&&"function"==typeof c&&(r=c(r._payload)),s.isValidElement(r)){var i;let e,a;let c=(i=r,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),o=function(e,t){let r={...t};for(let n in t){let s=e[n],l=t[n];/^on[A-Z]/.test(n)?s&&l?r[n]=(...e)=>{let t=l(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...l}:"className"===n&&(r[n]=[s,l].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(o.ref=t?(0,l.F)(t,c):c),s.cloneElement(r,o)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:n,...l}=e;o(n)&&"function"==typeof c&&(n=c(n._payload));let a=s.Children.toArray(n),d=a.find(f);if(d){let e=d.props.children,n=a.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...l,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var u=d("Slot"),p=Symbol("radix.slottable");function f(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}},90535:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(61994);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=n.W,i=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let l=s(t)||s(n);return i[e][l]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return l(e,c,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...o}[t]):({...a,...o})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[8590,2971,2117,1744],function(){return e(e.s=70490)}),_N_E=e.O()}]);