(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5172],{72281:function(e,s,i){Promise.resolve().then(i.bind(i,89655))},89655:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return A}});var a=i(57437),t=i(2265),r=i(48614),n=i(36891),l=i(26e3),c=i(82431),o=i(98617),d=i(32489),m=i(40340),p=i(33327),u=i(91723),x=i(82023),h=i(95805),f=i(86595),g=i(70525),y=i(95252),j=i(98728),b=i(83229),v=i(88893),N=i(99397),w=i(18930),S=i(66070),C=i(62869),D=i(95186),k=i(26815),P=i(94508);let T=[{name:"bronze",label:"Bronze",emoji:"\uD83D\uDEE1️"},{name:"silver",label:"Silver",emoji:"\uD83D\uDEE1️"},{name:"gold",label:"Gold",emoji:"\uD83D\uDC51"},{name:"platinum",label:"Platinum",emoji:"\uD83D\uDC51"},{name:"diamond",label:"Diamond",emoji:"\uD83D\uDC8E"},{name:"emerald",label:"Emerald",emoji:"\uD83C\uDF3F"},{name:"ruby",label:"Ruby",emoji:"❤️‍\uD83D\uDD25"},{name:"sapphire",label:"Sapphire",emoji:"\uD83D\uDCA0"},{name:"obsidian",label:"Obsidian",emoji:"\uD83D\uDDA4"},{name:"legendary",label:"Legendary",emoji:"\uD83D\uDC51"}],F={name:"",displayName:"",minSpending:0,discountPercent:0,freeShipping:!1,freeShippingMin:null,pointsMultiplier:1,prioritySupport:!1,earlyAccess:!1,exclusiveDeals:!1,birthdayBonus:0,color:"#CD7F32",icon:"medal",isActive:!0};function A(){var e,s,i;let[A,E]=(0,t.useState)(null),[Z,B]=(0,t.useState)([]),[_,M]=(0,t.useState)(null),[z,R]=(0,t.useState)(!0),[I,O]=(0,t.useState)(!1),[L,Y]=(0,t.useState)(!1),[J,G]=(0,t.useState)(!1),[U,W]=(0,t.useState)(null),[q,H]=(0,t.useState)(F),[Q,V]=(0,t.useState)(!1),K=(0,t.useCallback)(()=>X(),[]);(0,t.useEffect)(()=>{X()},[]),(0,l.w)(K);let X=async()=>{R(!0);try{let e=await fetch("/api/admin/loyalty",{credentials:"include"});if(e.ok){let s=await e.json();E(s.settings),B(s.tiers||[]),M(s.stats)}}catch(e){console.error("Failed to fetch loyalty data:",e)}finally{R(!1)}},$=async()=>{if(confirm("Create 10 premium loyalty tiers (Bronze to Legendary)?"))try{let e=await fetch("/api/admin/loyalty",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"seed_tiers"})});if(e.ok)await X(),alert("Premium tiers created!");else{let s=await e.json();alert(s.error||"Failed to create tiers")}}catch(e){alert("Failed to seed tiers")}},ee=async()=>{if(confirm("⚠️ WARNING: This will DELETE all existing tiers and recreate 10 premium tiers with correct values.\n\nAll customer tier assignments will be removed.\n\nContinue?"))try{let e=await fetch("/api/admin/loyalty",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"reset_tiers"})});if(e.ok)await X(),alert("✅ Tiers reset to premium defaults! All 10 tiers recreated with correct values.");else{let s=await e.json();alert(s.error||"Failed to reset tiers")}}catch(e){alert("Failed to reset tiers")}},es=async()=>{if(confirm("This will reorder tiers by their Min Spending values.\n\nLowest spending tier will appear first.\n\nFix order now?"))try{let e=await fetch("/api/admin/loyalty",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"fix_tier_order"})});if(e.ok)await X(),alert("✅ Tiers reordered by spending! Lowest first.");else{let s=await e.json();alert(s.error||"Failed to fix tier order")}}catch(e){alert("Failed to fix tier order")}},ei=async()=>{if(A){O(!0);try{(await fetch("/api/admin/loyalty",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)})).ok&&(Y(!1),alert("Settings saved!"))}catch(e){alert("Failed to save settings")}finally{O(!1)}}},ea=e=>{H({name:e.name,displayName:e.displayName,minSpending:e.minSpending,discountPercent:e.discountPercent,freeShipping:e.freeShipping,freeShippingMin:e.freeShippingMin,pointsMultiplier:e.pointsMultiplier,prioritySupport:e.prioritySupport,earlyAccess:e.earlyAccess,exclusiveDeals:e.exclusiveDeals,birthdayBonus:e.birthdayBonus,color:e.color,icon:e.icon||"bronze",isActive:e.isActive}),W(e.id),G(!0)},et=async()=>{if(!q.name||!q.displayName){alert("Name and Display Name are required");return}V(!0);try{if(U){let e=await fetch("/api/admin/loyalty/".concat(U),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(q)});if(e.ok)G(!1),await X();else{let s=await e.json();alert(s.error||"Failed to update tier")}}else{let e=await fetch("/api/admin/loyalty",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"create_tier",tier:q})});if(e.ok)G(!1),await X();else{let s=await e.json();alert(s.error||"Failed to create tier")}}}catch(e){alert("Failed to save tier")}finally{V(!1)}},er=async e=>{if(confirm("Delete this tier? Members will lose their tier status."))try{let s=await fetch("/api/admin/loyalty/".concat(e),{method:"DELETE",credentials:"include"});if(s.ok)await X();else{let e=await s.json();alert(e.error||"Failed to delete tier")}}catch(e){alert("Failed to delete tier")}};return z?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(c.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(r.M,{children:J&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>G(!1),children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5",style:{color:q.color}}),U?"Edit Tier":"Create New Tier"]}),(0,a.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]}),!U&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(k._,{className:"mb-2 block",children:"Quick Presets"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{name:"bronze",displayName:"Bronze",color:"#CD7F32",icon:"bronze",minSpending:0,discountPercent:0,pointsMultiplier:1,birthdayBonus:50},{name:"silver",displayName:"Silver",color:"#C0C0C0",icon:"silver",minSpending:5e3,discountPercent:3,pointsMultiplier:1.5,birthdayBonus:100},{name:"gold",displayName:"Gold",color:"#FFD700",icon:"gold",minSpending:15e3,discountPercent:5,pointsMultiplier:2,birthdayBonus:200,freeShipping:!0,prioritySupport:!0,earlyAccess:!0},{name:"platinum",displayName:"Platinum",color:"#8C8C8C",icon:"platinum",minSpending:35e3,discountPercent:8,pointsMultiplier:2.5,birthdayBonus:350,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"diamond",displayName:"Diamond",color:"#B9F2FF",icon:"diamond",minSpending:6e4,discountPercent:12,pointsMultiplier:3,birthdayBonus:500,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"emerald",displayName:"Emerald",color:"#50C878",icon:"emerald",minSpending:1e5,discountPercent:15,pointsMultiplier:3.5,birthdayBonus:750,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"ruby",displayName:"Ruby",color:"#E0115F",icon:"ruby",minSpending:15e4,discountPercent:18,pointsMultiplier:4,birthdayBonus:1e3,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"sapphire",displayName:"Sapphire",color:"#0F52BA",icon:"sapphire",minSpending:25e4,discountPercent:22,pointsMultiplier:5,birthdayBonus:1500,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"obsidian",displayName:"Obsidian",color:"#1C1C1C",icon:"obsidian",minSpending:4e5,discountPercent:25,pointsMultiplier:6,birthdayBonus:2e3,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0},{name:"legendary",displayName:"Legendary",color:"#FFD700",icon:"legendary",minSpending:75e4,discountPercent:30,pointsMultiplier:10,birthdayBonus:5e3,freeShipping:!0,prioritySupport:!0,earlyAccess:!0,exclusiveDeals:!0}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>H({...F,...e,freeShipping:e.freeShipping||!1,prioritySupport:e.prioritySupport||!1,earlyAccess:e.earlyAccess||!1,exclusiveDeals:e.exclusiveDeals||!1,isActive:!0}),className:"px-3 py-2 rounded-lg border-2 hover:border-gray-400 transition-all flex items-center gap-2",style:{borderColor:q.name===e.name?e.color:"#e5e7eb",backgroundColor:q.name===e.name?"".concat(e.color,"15"):"transparent"},children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"font-medium",children:e.displayName})]},e.name))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Internal Name"}),(0,a.jsx)(D.I,{value:q.name,onChange:e=>H({...q,name:e.target.value.toLowerCase().replace(/\s/g,"_")}),placeholder:"e.g., diamond"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Display Name"}),(0,a.jsx)(D.I,{value:q.displayName,onChange:e=>H({...q,displayName:e.target.value}),placeholder:"e.g., Diamond"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Min Spending (৳)"}),(0,a.jsx)(D.I,{type:"number",value:q.minSpending,onChange:e=>H({...q,minSpending:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Discount %"}),(0,a.jsx)(D.I,{type:"number",value:q.discountPercent,onChange:e=>H({...q,discountPercent:parseFloat(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Points Multiplier"}),(0,a.jsx)(D.I,{type:"number",step:"0.5",value:q.pointsMultiplier,onChange:e=>H({...q,pointsMultiplier:parseFloat(e.target.value)||1})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Birthday Bonus Points"}),(0,a.jsx)(D.I,{type:"number",value:q.birthdayBonus,onChange:e=>H({...q,birthdayBonus:parseInt(e.target.value)||0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Badge Color"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(D.I,{type:"color",value:q.color,onChange:e=>H({...q,color:e.target.value}),className:"w-16 h-10 p-1"}),(0,a.jsx)(D.I,{value:q.color,onChange:e=>H({...q,color:e.target.value}),className:"flex-1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Badge Icon"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:T.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>H({...q,icon:e.name}),className:"px-3 py-2 rounded-lg border-2 transition-all flex items-center gap-2 ".concat(q.icon===e.name?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"text-lg",children:e.emoji}),(0,a.jsx)("span",{className:"text-sm",children:e.label})]},e.name))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(k._,{children:"Free Ship Min (৳)"}),(0,a.jsx)(D.I,{type:"number",value:null!==(i=q.freeShippingMin)&&void 0!==i?i:"",onChange:e=>H({...q,freeShippingMin:e.target.value?parseFloat(e.target.value):null}),placeholder:"Leave empty for always free"})]})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.freeShipping,onChange:e=>H({...q,freeShipping:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{children:"Free Shipping"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.prioritySupport,onChange:e=>H({...q,prioritySupport:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)(p.Z,{className:"w-4 h-4 text-purple-500"}),(0,a.jsx)("span",{children:"Priority Support"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.earlyAccess,onChange:e=>H({...q,earlyAccess:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)(u.Z,{className:"w-4 h-4 text-orange-500"}),(0,a.jsx)("span",{children:"Early Sale Access"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.exclusiveDeals,onChange:e=>H({...q,exclusiveDeals:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)(x.Z,{className:"w-4 h-4 text-pink-500"}),(0,a.jsx)("span",{children:"Exclusive Deals"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.isActive,onChange:e=>H({...q,isActive:e.target.checked}),className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Active"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,a.jsx)(C.z,{variant:"outline",onClick:()=>G(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(C.z,{onClick:et,disabled:Q,className:"flex-1",children:Q?"Saving...":U?"Update Tier":"Create Tier"})]})]})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3 md:text-3xl",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-yellow-500"}),"Loyalty & Referral Program"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage tiers, points, and referral rewards"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(C.z,{variant:"outline",onClick:X,children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Refresh"]}),0===Z.length&&(0,a.jsxs)(C.z,{onClick:$,className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Create Default Tiers"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(S.Zb,{children:(0,a.jsx)(S.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-6 h-6 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Members"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==_?void 0:_.totalMembers)||0})]})]})})}),(0,a.jsx)(S.Zb,{children:(0,a.jsx)(S.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Active Points"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==_?void 0:null===(e=_.totalPointsActive)||void 0===e?void 0:e.toLocaleString())||0})]})]})})}),(0,a.jsx)(S.Zb,{children:(0,a.jsx)(S.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Lifetime Points"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(null==_?void 0:null===(s=_.totalPointsEarned)||void 0===s?void 0:s.toLocaleString())||0})]})]})})}),(0,a.jsx)(S.Zb,{children:(0,a.jsx)(S.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,a.jsx)(y.Z,{className:"w-6 h-6 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Spending"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:(0,P.T4)((null==_?void 0:_.totalSpending)||0)})]})]})})})]}),(0,a.jsxs)(S.Zb,{children:[(0,a.jsxs)(S.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5"}),"Program Settings"]}),L?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(C.z,{size:"sm",variant:"outline",onClick:()=>Y(!1),children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"})," Cancel"]}),(0,a.jsxs)(C.z,{size:"sm",onClick:ei,disabled:I,children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-1"})," Save"]})]}):(0,a.jsxs)(C.z,{size:"sm",variant:"outline",onClick:()=>Y(!0),children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-1"})," Edit"]})]}),(0,a.jsx)(S.aY,{children:A&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{children:"Points per ৳1 spent"}),(0,a.jsx)(D.I,{type:"number",step:"0.01",value:A.pointsPerTaka,onChange:e=>E({...A,pointsPerTaka:parseFloat(e.target.value)}),disabled:!L})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{children:"Points to ৳1 Discount"}),(0,a.jsx)(D.I,{type:"number",value:A.pointsToTakaRatio,onChange:e=>E({...A,pointsToTakaRatio:parseInt(e.target.value)}),disabled:!L})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{children:"Min Points to Redeem"}),(0,a.jsx)(D.I,{type:"number",value:A.minimumRedeemPoints,onChange:e=>E({...A,minimumRedeemPoints:parseInt(e.target.value)}),disabled:!L})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{children:"Referrer Bonus Points"}),(0,a.jsx)(D.I,{type:"number",value:A.referralBonusReferrer,onChange:e=>E({...A,referralBonusReferrer:parseInt(e.target.value)}),disabled:!L})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{children:"Referred Bonus Points"}),(0,a.jsx)(D.I,{type:"number",value:A.referralBonusReferred,onChange:e=>E({...A,referralBonusReferred:parseInt(e.target.value)}),disabled:!L})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,a.jsx)("input",{type:"checkbox",id:"enabled",checked:A.isEnabled,onChange:e=>E({...A,isEnabled:e.target.checked}),disabled:!L,className:"w-5 h-5"}),(0,a.jsx)(k._,{htmlFor:"enabled",children:"Program Enabled"})]})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-yellow-500"}),"Loyalty Tiers"]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(C.z,{onClick:()=>{H(F),W(null),G(!0)},className:"gap-2",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Add New Tier"]}),(0,a.jsxs)(C.z,{onClick:es,variant:"outline",className:"gap-2 border-blue-200 text-blue-600 hover:bg-blue-50",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Fix Tier Order"]}),(0,a.jsxs)(C.z,{onClick:ee,variant:"outline",className:"gap-2 border-red-200 text-red-600 hover:bg-red-50",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Reset All Tiers"]})]})]}),0===Z.length?(0,a.jsxs)(S.Zb,{className:"text-center py-12",children:[(0,a.jsx)(o.Z,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No tiers created yet"}),(0,a.jsx)(C.z,{onClick:$,children:"Create Default Tiers"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Z.map(e=>{var s;return(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative",children:(0,a.jsxs)(S.Zb,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"h-3",style:{backgroundColor:e.color}}),(0,a.jsxs)(S.aY,{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",style:{color:e.color},children:e.displayName}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===(s=e._count)||void 0===s?void 0:s.members)||0," members"]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Min Spending"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,P.T4)(e.minSpending)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Discount"}),(0,a.jsxs)("span",{className:"font-semibold text-green-600",children:[e.discountPercent,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Points"}),(0,a.jsxs)("span",{className:"font-semibold text-purple-600",children:[e.pointsMultiplier,"x"]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-1",children:[e.freeShipping&&(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"\uD83D\uDE9A Free Ship"}),e.earlyAccess&&(0,a.jsx)("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full",children:"⏰ Early"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsxs)(C.z,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>ea(e),children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-1"})," Edit"]}),(0,a.jsx)(C.z,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>er(e.id),children:(0,a.jsx)(w.Z,{className:"w-4 h-4"})})]})]})]})},e.id)})})]})]})}},62869:function(e,s,i){"use strict";i.d(s,{d:function(){return c},z:function(){return o}});var a=i(57437),t=i(2265),r=i(37053),n=i(90535),l=i(94508);let c=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,s)=>{let{className:i,variant:t,size:n,asChild:o=!1,...d}=e,m=o?r.g7:"button";return(0,a.jsx)(m,{className:(0,l.cn)(c({variant:t,size:n,className:i})),ref:s,...d})});o.displayName="Button"},66070:function(e,s,i){"use strict";i.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return n},aY:function(){return d},ll:function(){return c}});var a=i(57437),t=i(2265),r=i(94508);let n=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",i),...t})});n.displayName="Card";let l=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",i),...t})});l.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",i),...t})});c.displayName="CardTitle";let o=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",i),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",i),...t})});d.displayName="CardContent",t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",i),...t})}).displayName="CardFooter"},95186:function(e,s,i){"use strict";i.d(s,{I:function(){return n}});var a=i(57437),t=i(2265),r=i(94508);let n=t.forwardRef((e,s)=>{let{className:i,type:t,...n}=e;return(0,a.jsx)("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:s,...n})});n.displayName="Input"},26815:function(e,s,i){"use strict";i.d(s,{_:function(){return o}});var a=i(57437),t=i(2265),r=i(370),n=i(90535),l=i(94508);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:i,...t}=e;return(0,a.jsx)(r.f,{ref:s,className:(0,l.cn)(c(),i),...t})});o.displayName=r.f.displayName},26e3:function(e,s,i){"use strict";i.d(s,{w:function(){return t}});var a=i(2265);function t(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{interval:i=3e4,refreshOnFocus:t=!0,enabled:r=!0}=s,n=(0,a.useRef)(e),l=(0,a.useRef)(null);(0,a.useEffect)(()=>{n.current=e},[e]);let c=(0,a.useCallback)(()=>{"visible"===document.visibilityState&&t&&r&&n.current()},[t,r]);return(0,a.useEffect)(()=>{if(r)return l.current=setInterval(()=>{n.current()},i),t&&document.addEventListener("visibilitychange",c),()=>{l.current&&clearInterval(l.current),t&&document.removeEventListener("visibilitychange",c)}},[i,t,r,c]),{refresh:(0,a.useCallback)(()=>{n.current()},[])}}},94508:function(e,s,i){"use strict";i.d(s,{T4:function(){return n},cn:function(){return r}});var a=i(61994),t=i(53335);function r(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return(0,t.m6)((0,a.W)(s))}function n(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}}},function(e){e.O(0,[8590,6891,5048,2971,2117,1744],function(){return e(e.s=72281)}),_N_E=e.O()}]);