(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6061],{16690:function(e,s,a){Promise.resolve().then(a.bind(a,33738))},33738:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return ew}});var t=a(57437),i=a(2265),r=a(66070),l=a(62869),n=a(95186),c=a(35974),o=a(26815),d=a(51817),m=a(83578),p=a(51884),u=a(54001),x=a(66337),g=a(76865),h=a(35153),f=a(26110),b=a(19060),y=a(1828),j=a(87414),v=a(99397),N=a(18930);let w=[{id:"1",label:"5% OFF",code:"SPIN5",color:"#FF6B6B",probability:25},{id:"2",label:"10% OFF",code:"SPIN10",color:"#4ECDC4",probability:20},{id:"3",label:"Free Ship",code:"FREESHIP",color:"#45B7D1",probability:15},{id:"4",label:"15% OFF",code:"SPIN15",color:"#96CEB4",probability:10},{id:"5",label:"Try Again",code:"",color:"#DDA0DD",probability:20},{id:"6",label:"20% OFF",code:"SPIN20",color:"#FFEAA7",probability:5}];function C(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)(!0),[c,m]=(0,i.useState)(!1),[p,u]=(0,i.useState)({enabled:!0,cooldownMinutes:1440,delaySeconds:10,prizes:w});(0,i.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/settings/public"),s=await e.json();s.spinWheelConfig&&u(s.spinWheelConfig)}catch(e){console.error("Failed to fetch config",e)}finally{a(!1)}},g=async()=>{m(!0);try{if((await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({spinWheelConfig:p})})).ok)e({title:"Saved",description:"Gamification settings updated successfully."});else throw Error("Failed to save")}catch(s){e({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{m(!1)}},f=e=>{u({...p,prizes:p.prizes.filter(s=>s.id!==e)})},b=(e,s,a)=>{u({...p,prizes:p.prizes.map(t=>t.id===e?{...t,[s]:a}:t)})};return s?(0,t.jsx)("div",{className:"p-8 text-center",children:(0,t.jsx)(d.Z,{className:"animate-spin mx-auto"})}):(0,t.jsxs)(r.Zb,{className:"border-purple-200 shadow-sm mt-8",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2 text-purple-700",children:[(0,t.jsx)(j.Z,{className:"w-6 h-6"}),"Spin to Win Configuration"]}),(0,t.jsx)(r.SZ,{children:"Manage the gamification wheel for customers"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o._,{htmlFor:"wheel-enabled",children:"Enable Wheel"}),(0,t.jsx)(y.r,{id:"wheel-enabled",checked:p.enabled,onCheckedChange:e=>u({...p,enabled:e})})]})]})}),(0,t.jsxs)(r.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{children:"Cooldown (Minutes)"}),(0,t.jsx)(n.I,{type:"number",value:p.cooldownMinutes,onChange:e=>u({...p,cooldownMinutes:parseInt(e.target.value)||0}),className:"mt-1"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Time before a user can spin again (0 = infinite)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{children:"Appearance Delay (Seconds)"}),(0,t.jsx)(n.I,{type:"number",value:p.delaySeconds,onChange:e=>u({...p,delaySeconds:parseInt(e.target.value)||0}),className:"mt-1"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Time to wait before showing popup"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Prizes & Segments"}),(0,t.jsxs)(l.z,{size:"sm",onClick:()=>{let e={id:Date.now().toString(),label:"New Prize",code:"",color:"#"+Math.floor(16777215*Math.random()).toString(16),probability:10};u({...p,prizes:[...p.prizes,e]})},variant:"outline",className:"gap-1",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4"})," Add Segment"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[p.prizes.map(e=>(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-12 gap-2 p-3 border rounded bg-white items-end",children:[(0,t.jsxs)("div",{className:"col-span-2 sm:col-span-3",children:[(0,t.jsx)(o._,{className:"text-xs",children:"Label"}),(0,t.jsx)(n.I,{value:e.label,onChange:s=>b(e.id,"label",s.target.value)})]}),(0,t.jsxs)("div",{className:"col-span-2 sm:col-span-3",children:[(0,t.jsx)(o._,{className:"text-xs",children:"Coupon Code"}),(0,t.jsx)(n.I,{value:e.code||"",onChange:s=>b(e.id,"code",s.target.value),placeholder:"SPIN5"})]}),(0,t.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,t.jsx)(o._,{className:"text-xs",children:"Color"}),(0,t.jsx)(n.I,{type:"color",value:e.color,onChange:s=>b(e.id,"color",s.target.value),className:"h-9 cursor-pointer"})]}),(0,t.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,t.jsx)(o._,{className:"text-xs",children:"Prob (%)"}),(0,t.jsx)(n.I,{type:"number",value:e.probability,onChange:s=>b(e.id,"probability",parseFloat(s.target.value))})]}),(0,t.jsx)("div",{className:"col-span-2 sm:col-span-2 flex justify-end pb-1",children:(0,t.jsx)(l.z,{size:"icon",variant:"ghost",className:"text-red-500 hover:bg-red-50",onClick:()=>f(e.id),children:(0,t.jsx)(N.Z,{className:"w-4 h-4"})})})]},e.id)),(0,t.jsxs)("div",{className:"text-right text-sm text-gray-500",children:["Total Probability: ",p.prizes.reduce((e,s)=>e+(s.probability||0),0),"%"]})]})]}),(0,t.jsxs)(l.z,{onClick:g,disabled:c,className:"w-full",children:[c&&(0,t.jsx)(d.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Configuration"]})]})]})}var _=a(21206),S=a(74991),A=a(9089),k=a(95080);function Z(e){let{canEdit:s=!1}=e,{toast:a}=(0,h.pm)(),[m,p]=(0,i.useState)(!0),[u,x]=(0,i.useState)(!1),[g,f]=(0,i.useState)(5),[b,y]=(0,i.useState)("platform");(0,i.useEffect)(()=>{fetch("/api/admin/site-settings").then(e=>e.json()).then(e=>{if(e.settings){var s,a;f(null!==(s=e.settings.defaultCommission)&&void 0!==s?s:5),y(null!==(a=e.settings.couponCostPolicy)&&void 0!==a?a:"platform")}}).finally(()=>p(!1))},[]);let j=async()=>{if(s){x(!0);try{(await fetch("/api/admin/site-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({defaultCommission:g,couponCostPolicy:b})})).ok?a({title:"Settings Updated",description:"Commission logic saved."}):a({title:"Error",description:"Failed to save settings",variant:"destructive"})}catch(e){a({title:"Error",description:"Something went wrong",variant:"destructive"})}finally{x(!1)}}};return m?(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(d.Z,{className:"animate-spin"})}):(0,t.jsxs)(r.Zb,{className:"w-full",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5 text-blue-600"}),"Commission & Fees"]}),(0,t.jsx)(r.SZ,{children:"Configure platform fees and coupon logic for multi-vendor orders."})]}),(0,t.jsxs)(r.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(o._,{className:"text-sm sm:text-base font-semibold",children:"Default Platform Commission"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:max-w-xs",children:[(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(n.I,{type:"number",value:g,onChange:e=>f(parseFloat(e.target.value)),disabled:!s,className:"pr-8"}),(0,t.jsx)("span",{className:"absolute right-3 top-2.5 text-gray-400",children:"%"})]}),!s&&(0,t.jsx)(c.C,{variant:"secondary",className:"whitespace-nowrap",children:"Read Only"})]}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Percentage deducted from each order before seller payout."})]}),(0,t.jsx)("div",{className:"h-px bg-gray-100 my-4"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(o._,{className:"text-sm sm:text-base font-semibold flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"w-4 h-4"}),"Coupon Cost Responsibility"]}),(0,t.jsxs)(S.E,{value:b,onValueChange:y,disabled:!s,className:"flex flex-col gap-2 sm:gap-3",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-2 border p-2 sm:p-3 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsx)(S.m,{value:"platform",id:"r1",className:"mt-0.5 sm:mt-1"}),(0,t.jsxs)("div",{className:"grid gap-1 leading-none",children:[(0,t.jsx)(o._,{htmlFor:"r1",className:"cursor-pointer font-medium text-sm sm:text-base",children:"Platform Bears Cost"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Platform pays for discounts. Seller receives full price minus commission."})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2 border p-2 sm:p-3 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsx)(S.m,{value:"shop",id:"r2",className:"mt-0.5 sm:mt-1"}),(0,t.jsxs)("div",{className:"grid gap-1 leading-none",children:[(0,t.jsx)(o._,{htmlFor:"r2",className:"cursor-pointer font-medium text-sm sm:text-base",children:"Shop Bears Cost"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Seller pays for discounts. Discount deducted from earnings."})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2 border p-2 sm:p-3 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsx)(S.m,{value:"shared",id:"r3",className:"mt-0.5 sm:mt-1"}),(0,t.jsxs)("div",{className:"grid gap-1 leading-none",children:[(0,t.jsx)(o._,{htmlFor:"r3",className:"cursor-pointer font-medium text-sm sm:text-base",children:"Shared (50/50)"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Cost split equally between Platform and Seller."})]})]})]})]}),s&&(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsxs)(l.z,{onClick:j,disabled:u,className:"bg-blue-600 hover:bg-blue-700",children:[u&&(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Configuration"]})})]})]})}var E=a(42449),P=a(40340),D=a(88226),I=a(82023),F=a(95805),T=a(53417),M=a(10866),O=a(83229);let R=[{id:"multiVendor",label:"Multi-Vendor Mode",description:"Enable multiple seller shops",field:"multiVendorEnabled",icon:E.Z,category:"marketplace"},{id:"cod",label:"Cash on Delivery",description:"COD payment option",field:"codEnabled",icon:P.Z,category:"payment"},{id:"ssl",label:"SSLCommerz",description:"Card & bank payments",field:"sslEnabled",icon:D.Z,category:"payment"},{id:"bkash",label:"bKash",description:"bKash mobile banking",field:"bkashEnabled",icon:D.Z,category:"payment"},{id:"nagad",label:"Nagad",description:"Nagad mobile banking",field:"nagadEnabled",icon:D.Z,category:"payment"},{id:"rocket",label:"Rocket",description:"Rocket mobile banking",field:"rocketEnabled",icon:D.Z,category:"payment"},{id:"spinWheel",label:"Spin Wheel",description:"Gamified coupon wheel",field:"spinWheelEnabled",icon:j.Z,category:"marketing"},{id:"promoBanner",label:"Promo Banner",description:"Top promotional banner",field:"promoEnabled",icon:I.Z,category:"marketing"},{id:"loyalty",label:"Loyalty Program",description:"Points & tier system",field:"loyaltyEnabled",icon:F.Z,category:"loyalty"},{id:"liveChat",label:"Live Chat",description:"Customer support chat",field:"chatEnabled",icon:T.Z,category:"communication"}];function z(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)(!0),[n,m]=(0,i.useState)(!1),[p,u]=(0,i.useState)({});(0,i.useEffect)(()=>{x()},[]);let x=async()=>{try{let s=await fetch("/api/settings"),a=await s.json();if(a.settings){let s={};if(R.forEach(e=>{var t;s[e.field]=null===(t=a.settings[e.field])||void 0===t||t}),a.settings.spinWheelConfig){var e;s.spinWheelEnabled=null===(e=a.settings.spinWheelConfig.enabled)||void 0===e||e}u(s)}}catch(e){console.error("Failed to fetch settings:",e)}finally{a(!1)}},g=(e,s)=>{u(a=>({...a,[e]:s}))},f=async()=>{m(!0);try{let s={...p};if("spinWheelEnabled"in s){let e=await fetch("/api/settings/public"),a=(await e.json()).spinWheelConfig||{enabled:!0,cooldownMinutes:1440,delaySeconds:10,prizes:[]};s.spinWheelConfig={...a,enabled:s.spinWheelEnabled},delete s.spinWheelEnabled}let a=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok)e({title:"Saved",description:"Feature settings updated successfully."});else{let s=await a.json();e({title:"Error",description:s.error||"Failed to save settings",variant:"destructive"})}}catch(s){e({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{m(!1)}},b=e=>({marketplace:{label:"Marketplace",color:"bg-blue-100 text-blue-700"},payment:{label:"Payment",color:"bg-green-100 text-green-700"},marketing:{label:"Marketing",color:"bg-purple-100 text-purple-700"},loyalty:{label:"Loyalty",color:"bg-amber-100 text-amber-700"},communication:{label:"Communication",color:"bg-pink-100 text-pink-700"}})[e]||{label:e,color:"bg-gray-100 text-gray-700"};if(s)return(0,t.jsx)(r.Zb,{className:"border-blue-200",children:(0,t.jsx)(r.aY,{className:"flex items-center justify-center p-8",children:(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin text-blue-600"})})});let j=R.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{});return(0,t.jsxs)(r.Zb,{className:"border-blue-200 shadow-sm",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2 text-blue-700",children:[(0,t.jsx)(M.Z,{className:"w-6 h-6"}),"Feature Control"]}),(0,t.jsx)(r.SZ,{children:"Enable or disable site features"})]}),(0,t.jsxs)(l.z,{onClick:f,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[n?(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}):(0,t.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})}),(0,t.jsx)(r.aY,{className:"space-y-6",children:Object.entries(j).map(e=>{let[s,a]=e,i=b(s);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c.C,{className:i.color,children:i.label}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(e=>{var s;let a=e.icon,i=null===(s=p[e.field])||void 0===s||s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-all ".concat(i?"bg-white border-gray-200":"bg-gray-50 border-gray-100 opacity-60"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full ".concat(i?"bg-blue-100 text-blue-600":"bg-gray-200 text-gray-400"),children:(0,t.jsx)(a,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{className:"font-medium text-sm cursor-pointer",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>g(e.field,s)})]},e.id)})})]},s)})})]})}var V=a(12339),U=a(19378),L=a(98617),B=a(88906),q=a(64413),G=a(92369),K=a(49589),W=a(73247),Y=a(10407),Q=a(92934),J=a(82431),X=a(1012),H=a(53647);function $(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)([]),[m,u]=(0,i.useState)(!0),[f,y]=(0,i.useState)(!1),[j,v]=(0,i.useState)(""),[N,w]=(0,i.useState)("all"),[C,_]=(0,i.useState)(null),[S,A]=(0,i.useState)([]),[k,Z]=(0,i.useState)([]),[E,P]=(0,i.useState)("");(0,i.useEffect)(()=>{D()},[]);let D=async()=>{try{let e=await fetch("/api/admin/super-admin/users");if(e.ok){let s=await e.json();a(s.users||[])}}catch(e){console.error("Failed to fetch users:",e)}finally{u(!1)}},I=(0,i.useMemo)(()=>s.filter(e=>{let s=e.name.toLowerCase().includes(j.toLowerCase())||e.email.toLowerCase().includes(j.toLowerCase()),a="all"===N||e.role.toLowerCase()===N;return s&&a}),[s,j,N]),F=e=>{_(e),A(e.permissions||[]),Z([]),P("")},T=e=>{A(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},M=e=>{Z(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},R=s=>{let a=Object.values(X.x2).find(e=>e.id===s);a&&(A(a.permissions),e({title:"Template Applied",description:'Applied "'.concat(a.name,'" template. Click Save to confirm.')}))},z=async()=>{if(!C||!E){e({title:"Error",description:"Please enter your password to confirm",variant:"destructive"});return}y(!0);try{let s=await fetch("/api/admin/super-admin/permissions",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:C.id,permissions:S,lockedPermissions:k,password:E})});if(s.ok)e({title:"Success",description:"Permissions updated successfully!"}),a(e=>e.map(e=>e.id===C.id?{...e,permissions:S}:e)),_(e=>e?{...e,permissions:S}:null),P("");else{let a=await s.json();e({title:"Error",description:a.error||"Failed to update permissions",variant:"destructive"})}}catch(s){e({title:"Error",description:"Failed to save permissions",variant:"destructive"})}finally{y(!1)}},$=e=>{let s={superadmin:{color:"bg-purple-100 text-purple-700 border-purple-200",icon:L.Z,label:"Super Admin"},admin:{color:"bg-blue-100 text-blue-700 border-blue-200",icon:B.Z,label:"Admin"},seller:{color:"bg-green-100 text-green-700 border-green-200",icon:q.Z,label:"Seller"},customer:{color:"bg-gray-100 text-gray-700 border-gray-200",icon:G.Z,label:"Customer"}},a=s[e.toLowerCase()]||s.customer,i=a.icon;return(0,t.jsxs)(c.C,{className:"".concat(a.color," border flex items-center gap-1"),children:[(0,t.jsx)(i,{className:"w-3 h-3"}),a.label]})},ee=e=>{let s=(0,X.nN)(e),a=(0,X.or)(e),i=s.icon;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 ".concat(s.textColor," font-semibold border-b ").concat(s.borderColor," pb-2"),children:[(0,t.jsx)(i,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:s.label}),(0,t.jsxs)(c.C,{variant:"outline",className:"ml-auto text-xs",children:[a.filter(e=>S.includes(e.id)).length,"/",a.length]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map(e=>{let a=S.includes(e.id),i=k.includes(e.id),r=e.icon||B.Z;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border transition-all ".concat(a?"".concat(s.bgColor," ").concat(s.borderColor):"bg-gray-50 border-gray-200 opacity-60"," ").concat(i?"ring-2 ring-red-300":""),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.X,{id:e.id,checked:a,onCheckedChange:()=>T(e.id),disabled:i}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r,{className:"w-3 h-3 text-gray-500"}),(0,t.jsx)(o._,{htmlFor:e.id,className:"text-sm cursor-pointer",children:e.label})]})]}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",className:"p-1 h-6 w-6 ".concat(i?"text-red-500":"text-gray-400"),onClick:()=>M(e.id),title:i?"Unlock this permission":"Lock this permission",children:i?(0,t.jsx)(x.Z,{className:"w-3 h-3"}):(0,t.jsx)(K.Z,{className:"w-3 h-3"})})]},e.id)})})]})};return m?(0,t.jsx)(r.Zb,{className:"border-purple-200",children:(0,t.jsx)(r.aY,{className:"flex items-center justify-center p-8",children:(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin text-purple-600"})})}):(0,t.jsxs)(r.Zb,{className:"border-purple-200 shadow-lg",children:[(0,t.jsxs)(r.Ol,{className:"bg-gradient-to-r from-purple-50 to-blue-50",children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2 text-purple-800",children:[(0,t.jsx)(B.Z,{className:"w-6 h-6"}),"Permission Management Center"]}),(0,t.jsx)(r.SZ,{children:"Dynamically manage roles, permissions, and feature access for all users"})]}),(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(W.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.I,{placeholder:"Search users...",value:j,onChange:e=>v(e.target.value),className:"pl-8"})]}),(0,t.jsxs)(H.Ph,{value:N,onValueChange:w,children:[(0,t.jsx)(H.i4,{className:"w-28",children:(0,t.jsx)(H.ki,{placeholder:"Role"})}),(0,t.jsxs)(H.Bw,{children:[(0,t.jsx)(H.Ql,{value:"all",children:"All Roles"}),(0,t.jsx)(H.Ql,{value:"admin",children:"Admin"}),(0,t.jsx)(H.Ql,{value:"seller",children:"Seller"}),(0,t.jsx)(H.Ql,{value:"customer",children:"Customer"})]})]})]}),(0,t.jsx)(U.x,{className:"h-[400px] border rounded-lg",children:(0,t.jsxs)("div",{className:"p-2 space-y-1",children:[I.map(e=>{var s;return(0,t.jsxs)("div",{onClick:()=>"superadmin"!==e.role.toLowerCase()&&F(e),className:"p-3 rounded-lg cursor-pointer transition-all ".concat((null==C?void 0:C.id)===e.id?"bg-purple-100 border-purple-300 border-2":"bg-white hover:bg-gray-50 border border-gray-200"," ").concat("superadmin"===e.role.toLowerCase()?"opacity-50 cursor-not-allowed":""),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ".concat("superadmin"===e.role.toLowerCase()?"bg-purple-500":"admin"===e.role.toLowerCase()?"bg-blue-500":"seller"===e.role.toLowerCase()?"bg-green-500":"bg-gray-400"),children:e.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:e.email})]})]}),(0,t.jsx)(Y.Z,{className:"w-4 h-4 text-gray-400 ".concat((null==C?void 0:C.id)===e.id?"text-purple-600":"")})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[$(e.role),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(s=e.permissions)||void 0===s?void 0:s.length)||0," perms"]})]})]},e.id)}),0===I.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(G.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-30"}),(0,t.jsx)("p",{children:"No users found"})]})]})})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:C?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-lg font-bold ".concat("admin"===C.role.toLowerCase()?"bg-blue-500":"seller"===C.role.toLowerCase()?"bg-green-500":"bg-gray-400"),children:C.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold",children:C.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:C.email})]})]}),$(C.role)]}),(0,t.jsxs)(V.mQ,{defaultValue:"abilities",className:"w-full",children:[(0,t.jsxs)(V.dr,{className:"grid w-full grid-cols-4 mb-4",children:[(0,t.jsxs)(V.SP,{value:"abilities",className:"text-xs sm:text-sm",children:[(0,t.jsx)(B.Z,{className:"w-3 h-3 mr-1"}),"Abilities"]}),(0,t.jsxs)(V.SP,{value:"restricted",className:"text-xs sm:text-sm",children:[(0,t.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),"Restricted"]}),(0,t.jsxs)(V.SP,{value:"features",className:"text-xs sm:text-sm",children:[(0,t.jsx)(Q.Z,{className:"w-3 h-3 mr-1"}),"Features"]}),(0,t.jsxs)(V.SP,{value:"templates",className:"text-xs sm:text-sm",children:[(0,t.jsx)(J.Z,{className:"w-3 h-3 mr-1"}),"Templates"]})]}),(0,t.jsx)(V.nU,{value:"abilities",className:"space-y-4",children:(0,t.jsx)(U.x,{className:"h-[280px] pr-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[ee("admin"),ee("seller")]})})}),(0,t.jsxs)(V.nU,{value:"restricted",className:"space-y-4",children:[(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"These abilities are restricted by default. Only Super Admin can grant them."})]})}),(0,t.jsx)(U.x,{className:"h-[240px] pr-4",children:ee("restricted")})]}),(0,t.jsx)(V.nU,{value:"features",className:"space-y-4",children:(0,t.jsx)(U.x,{className:"h-[280px] pr-4",children:ee("feature")})}),(0,t.jsx)(V.nU,{value:"templates",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.values(X.x2).map(e=>(0,t.jsx)(l.z,{variant:"outline",className:"h-auto py-3 px-4 justify-start",onClick:()=>R(e.id),children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description}),(0,t.jsxs)(c.C,{variant:"secondary",className:"mt-1 text-xs",children:[e.permissions.length," permissions"]})]})},e.id))})})]}),(0,t.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-amber-600"}),(0,t.jsx)(o._,{className:"text-amber-600 font-medium",children:"Confirm with your password"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.I,{type:"password",placeholder:"Enter your password",value:E,onChange:e=>P(e.target.value),className:"flex-1"}),(0,t.jsxs)(l.z,{onClick:z,disabled:f||!E,className:"bg-purple-600 hover:bg-purple-700",children:[f?(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}):(0,t.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"Apply Instantly"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Changes take effect immediately. No code changes or redeployment required."})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-16 text-gray-500",children:[(0,t.jsx)(p.Z,{className:"w-16 h-16 mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Select a User"}),(0,t.jsx)("p",{className:"text-sm",children:"Choose a user from the list to manage their permissions"})]})})]})})]})}function ee(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)(!0),[l,n]=(0,i.useState)(!1),[c,o]=(0,i.useState)({multiVendorEnabled:!1,storeName:"CTG Collection"});(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{var e;let s=await fetch("/api/settings/public"),a=await s.json();o({multiVendorEnabled:null!==(e=a.multiVendorEnabled)&&void 0!==e&&e,storeName:a.storeName||"CTG Collection"})}catch(e){console.error("Failed to fetch settings:",e)}finally{a(!1)}},p=async()=>{let s=!c.multiVendorEnabled;o(e=>({...e,multiVendorEnabled:s})),n(!0);try{(await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({multiVendorEnabled:s})})).ok?e({title:"Saved",description:s?"Multi-Vendor Mode enabled!":"Single Vendor Mode enabled!"}):(o(e=>({...e,multiVendorEnabled:!s})),e({title:"Error",description:"Failed to save settings",variant:"destructive"}))}catch(a){o(e=>({...e,multiVendorEnabled:!s})),e({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{n(!1)}};return s?(0,t.jsx)(r.Zb,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,t.jsx)(r.aY,{className:"flex items-center justify-center p-8",children:(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin text-purple-600"})})}):(0,t.jsxs)(r.Zb,{className:"border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(q.Z,{className:"w-5 h-5 text-purple-600"}),"Multi-Vendor Marketplace"]}),(0,t.jsx)(r.SZ,{children:"Enable multi-vendor mode to transform your store into a marketplace with multiple sellers and shops"})]}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 bg-white rounded-lg border gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"Multi-Vendor Mode"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:c.multiVendorEnabled?"✅ Active: Products show individual shop/seller info":"❌ Disabled: All products sold under your store name"})]}),(0,t.jsx)("button",{onClick:p,disabled:l,className:"relative inline-flex h-7 w-14 items-center rounded-full transition-colors flex-shrink-0 ".concat(c.multiVendorEnabled?"bg-purple-600":"bg-gray-300"," ").concat(l?"opacity-50":""),children:(0,t.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow-lg transition-transform ".concat(c.multiVendorEnabled?"translate-x-8":"translate-x-1")})})]}),c.multiVendorEnabled&&(0,t.jsxs)("div",{className:"p-4 bg-purple-100 rounded-lg border border-purple-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"\uD83C\uDFEA Marketplace Mode Active"}),(0,t.jsxs)("ul",{className:"text-sm text-purple-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Each seller can have their own shop profile"}),(0,t.jsx)("li",{children:'• Products display "Sold by: [Shop Name]"'}),(0,t.jsx)("li",{children:"• Customers can visit individual shop pages"}),(0,t.jsxs)("li",{children:["• Go to ",(0,t.jsx)("strong",{children:"Admin → Shops"})," to manage shops"]})]})]}),!c.multiVendorEnabled&&(0,t.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg border border-gray-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"\uD83D\uDED2 Single Vendor Mode"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("li",{children:['• All products sold under "',c.storeName,'"']}),(0,t.jsx)("li",{children:"• No individual shop pages"}),(0,t.jsx)("li",{children:"• Simpler customer experience"})]})]})]})]})}var es=a(48736),ea=a(53113),et=a(62883),ei=a(75368),er=a(73559),el=a(44794),en=a(56439),ec=a(41217),eo=a(89345),ed=a(96215),em=a(70525),ep=a(29202),eu=a(82222),ex=a(99388),eg=a(87769),eh=a(42208);let ef=[{id:"product_assist",name:"Product AI Assistant",description:"Smart descriptions with tone & language control",icon:E.Z,enabled:!0,category:"core"},{id:"chat_assist",name:"Customer Support AI",description:"AI-powered chat response suggestions",icon:T.Z,enabled:!0,category:"core"},{id:"review_moderation",name:"Review Moderation",description:"Spam detection + auto-response generator",icon:es.Z,enabled:!0,category:"core"},{id:"image_studio",name:"AI Image Studio",description:"Smart image search with Gemini keywords",icon:ea.Z,enabled:!0,category:"product"},{id:"magic_rewrite",name:"Magic Rewrite",description:"Improve/expand/shorten any text",icon:et.Z,enabled:!0,category:"product"},{id:"faq_generator",name:"FAQ Generator",description:"Auto-create product Q&A sections",icon:ei.Z,enabled:!0,category:"product"},{id:"size_recommender",name:"Size Recommender",description:"Help customers pick the right size",icon:er.Z,enabled:!0,category:"product"},{id:"bundle_suggester",name:"Bundle Suggester",description:"AI-powered cross-sell recommendations",icon:el.Z,enabled:!0,category:"product"},{id:"marketing_ai",name:"Marketing AI Center",description:"Facebook posts, emails, ad copy in BN/EN",icon:en.Z,enabled:!0,category:"marketing"},{id:"hashtag_generator",name:"Hashtag Generator",description:"Trending social media hashtags",icon:ec.Z,enabled:!0,category:"marketing"},{id:"seo_generator",name:"SEO Generator",description:"Meta titles, descriptions, keywords",icon:I.Z,enabled:!0,category:"marketing"},{id:"email_ai",name:"Order Email AI",description:"Shipping updates in Bengali/English",icon:eo.Z,enabled:!0,category:"marketing"},{id:"analytics_insights",name:"Analytics Insights",description:"Smart insights from sales data",icon:ed.Z,enabled:!0,category:"analytics"},{id:"inventory_forecast",name:"Inventory Forecaster",description:"Predict stock needs & reorder points",icon:em.Z,enabled:!0,category:"analytics"},{id:"discount_optimizer",name:"Discount Optimizer",description:"Calculate optimal sale prices",icon:A.Z,enabled:!0,category:"analytics"},{id:"fraud_detector",name:"Fraud Detector",description:"Flag suspicious orders with risk scores",icon:m.Z,enabled:!0,category:"analytics"},{id:"customer_persona",name:"Customer Persona AI",description:"Segment customers by behavior",icon:F.Z,enabled:!0,category:"customer"},{id:"multi_language",name:"Multi-Language AI",description:"Bengali/English with tone control",icon:ep.Z,enabled:!0,category:"customer"}];function eb(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)(!0),[m,p]=(0,i.useState)(!1),[u,x]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null),[j,v]=(0,i.useState)(!1),[N,w]=(0,i.useState)({enabled:!0,apiKey:"",features:{},maxTokens:1024,temperature:.7,defaultLanguage:"en",defaultTone:"professional",rateLimitPerMinute:60});(0,i.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/admin/ai-settings");if(e.ok){let s=await e.json();w({enabled:"boolean"!=typeof s.enabled||s.enabled,apiKey:s.apiKey||"",features:s.features||{},maxTokens:s.maxTokens||1024,temperature:s.temperature||.7,defaultLanguage:s.defaultLanguage||"en",defaultTone:s.defaultTone||"professional",rateLimitPerMinute:s.rateLimitPerMinute||60}),b(s.apiKeyValid)}}catch(e){console.error("Failed to fetch AI settings:",e)}finally{a(!1)}},_=async()=>{if(!N.apiKey){e({title:"Error",description:"Enter an API key first",variant:"destructive"});return}x(!0);try{let s=await fetch("/api/admin/ai-settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:N.apiKey})}),a=await s.json();b(a.valid),a.valid?e({title:"Success!",description:"API key is valid and working!"}):e({title:"Invalid",description:a.error||"API key test failed",variant:"destructive"})}catch(s){e({title:"Error",description:"Failed to test API key",variant:"destructive"}),b(!1)}finally{x(!1)}},S=(e,s)=>{w(a=>({...a,features:{...a.features,[e]:s}}))},A=async()=>{p(!0);try{let s=await fetch("/api/admin/ai-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(s.ok)e({title:"Saved!",description:"AI settings updated successfully."});else{let a=await s.json();e({title:"Error",description:a.error||"Failed to save settings",variant:"destructive"})}}catch(s){e({title:"Error",description:"Failed to save settings",variant:"destructive"})}finally{p(!1)}};return s?(0,t.jsx)(r.Zb,{className:"border-2 border-indigo-200",children:(0,t.jsx)(r.aY,{className:"flex items-center justify-center p-8",children:(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin text-indigo-600"})})}):(0,t.jsxs)(r.Zb,{className:"border-2 border-indigo-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2 text-indigo-800",children:[(0,t.jsx)(eu.Z,{className:"w-6 h-6"}),"AI Settings (Gemini)"]}),(0,t.jsx)(r.SZ,{children:"Configure Google Gemini AI features across your site"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-1.5 rounded-full border shadow-sm",children:[(0,t.jsx)("span",{className:"text-sm font-medium ".concat(N.enabled?"text-green-600":"text-gray-500"),children:N.enabled?"Integration Active":"Integration Disabled"}),(0,t.jsx)(y.r,{checked:N.enabled,onCheckedChange:e=>{w(s=>({...s,enabled:e}))}})]}),(0,t.jsxs)(l.z,{onClick:A,disabled:m,className:"bg-indigo-600 hover:bg-indigo-700 w-full sm:w-auto",children:[m?(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}):(0,t.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})}),(0,t.jsxs)(r.aY,{className:"space-y-6 ".concat(N.enabled?"":"opacity-60 pointer-events-none"),children:[(0,t.jsxs)("div",{className:"p-4 bg-white rounded-lg border space-y-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD11 API Key Configuration",!0===f&&(0,t.jsxs)(c.C,{className:"bg-green-100 text-green-700",children:[(0,t.jsx)(Q.Z,{className:"w-3 h-3 mr-1"}),"Valid"]}),!1===f&&(0,t.jsxs)(c.C,{className:"bg-red-100 text-red-700",children:[(0,t.jsx)(ex.Z,{className:"w-3 h-3 mr-1"}),"Invalid"]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(n.I,{type:j?"text":"password",placeholder:"Enter your Google AI API Key",value:N.apiKey,onChange:e=>w(s=>({...s,apiKey:e.target.value})),className:"pr-10"}),(0,t.jsx)("button",{type:"button",onClick:()=>v(!j),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?(0,t.jsx)(eg.Z,{className:"w-4 h-4"}):(0,t.jsx)(eh.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)(l.z,{variant:"outline",onClick:_,disabled:u||!N.apiKey,className:"w-full sm:w-auto",children:[u?(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}):null,"Test Key"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Get your API key from"," ",(0,t.jsx)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline",children:"Google AI Studio"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 text-lg",children:["⚡ AI Features (",ef.length," Available)"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-bold text-blue-700 flex items-center gap-2",children:"\uD83D\uDD37 Core Features"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ef.filter(e=>"core"===e.category).map(e=>{var s;let a=e.icon,i=null!==(s=N.features[e.id])&&void 0!==s?s:e.enabled;return(0,t.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(i?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4 ".concat(i?"text-blue-600":"text-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-xs",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>S(e.id,s)})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-bold text-purple-700 flex items-center gap-2",children:"\uD83D\uDCE6 Product AI"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ef.filter(e=>"product"===e.category).map(e=>{var s;let a=e.icon,i=null!==(s=N.features[e.id])&&void 0!==s?s:e.enabled;return(0,t.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(i?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4 ".concat(i?"text-purple-600":"text-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-xs",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>S(e.id,s)})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-bold text-orange-700 flex items-center gap-2",children:"\uD83D\uDCE3 Marketing AI"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ef.filter(e=>"marketing"===e.category).map(e=>{var s;let a=e.icon,i=null!==(s=N.features[e.id])&&void 0!==s?s:e.enabled;return(0,t.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(i?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4 ".concat(i?"text-orange-600":"text-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-xs",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>S(e.id,s)})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-bold text-green-700 flex items-center gap-2",children:"\uD83D\uDCCA Analytics AI"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ef.filter(e=>"analytics"===e.category).map(e=>{var s;let a=e.icon,i=null!==(s=N.features[e.id])&&void 0!==s?s:e.enabled;return(0,t.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(i?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4 ".concat(i?"text-green-600":"text-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-xs",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>S(e.id,s)})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"text-sm font-bold text-rose-700 flex items-center gap-2",children:"\uD83D\uDC65 Customer AI"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ef.filter(e=>"customer"===e.category).map(e=>{var s;let a=e.icon,i=null!==(s=N.features[e.id])&&void 0!==s?s:e.enabled;return(0,t.jsx)("div",{className:"p-3 rounded-lg border transition-all ".concat(i?"bg-rose-50 border-rose-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4 ".concat(i?"text-rose-600":"text-gray-400")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-xs",children:e.name}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 line-clamp-1",children:e.description})]})]}),(0,t.jsx)(y.r,{checked:i,onCheckedChange:s=>S(e.id,s)})]})},e.id)})})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-white rounded-lg border space-y-6",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"⚙️ Advanced Settings & Defaults"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.Z,{className:"w-4 h-4"}),"Default Language"]}),(0,t.jsxs)("div",{className:"flex rounded-lg overflow-hidden border",children:[(0,t.jsx)("button",{type:"button",onClick:()=>w(e=>({...e,defaultLanguage:"en"})),className:"flex-1 py-2 px-4 text-sm font-medium transition-all ".concat("en"===N.defaultLanguage?"bg-indigo-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:"\uD83C\uDDFA\uD83C\uDDF8 English"}),(0,t.jsx)("button",{type:"button",onClick:()=>w(e=>({...e,defaultLanguage:"bn"})),className:"flex-1 py-2 px-4 text-sm font-medium transition-all ".concat("bn"===N.defaultLanguage?"bg-indigo-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:"\uD83C\uDDE7\uD83C\uDDE9 বাংলা"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Default output language for AI"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(o._,{className:"flex items-center gap-2",children:[(0,t.jsx)(I.Z,{className:"w-4 h-4"}),"Default Tone"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:[{value:"professional",emoji:"\uD83D\uDCBC",label:"Pro"},{value:"luxury",emoji:"✨",label:"Luxury"},{value:"friendly",emoji:"\uD83D\uDE0A",label:"Friendly"},{value:"urgent",emoji:"\uD83D\uDD25",label:"Urgent"},{value:"casual",emoji:"\uD83D\uDC4B",label:"Casual"}].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>w(s=>({...s,defaultTone:e.value})),className:"px-3 py-1.5 text-xs rounded-lg transition-all ".concat(N.defaultTone===e.value?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.emoji," ",e.label]},e.value))}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Default writing style for AI content"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{children:"Max Tokens"}),(0,t.jsx)(n.I,{type:"number",value:N.maxTokens,onChange:e=>w(s=>({...s,maxTokens:parseInt(e.target.value)||1024})),min:256,max:8192}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Response length (256-8192)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{children:"Temperature"}),(0,t.jsx)(n.I,{type:"number",step:"0.1",value:N.temperature,onChange:e=>w(s=>({...s,temperature:parseFloat(e.target.value)||.7})),min:0,max:1}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Creativity (0=focused, 1=creative)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{children:"Rate Limit"}),(0,t.jsx)(n.I,{type:"number",value:N.rateLimitPerMinute,onChange:e=>w(s=>({...s,rateLimitPerMinute:parseInt(e.target.value)||60})),min:1,max:100}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Requests per minute (Gemini Free: 60)"})]})]})]}),!N.apiKey&&(0,t.jsx)("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(g.Z,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-amber-800",children:"API Key Required"}),(0,t.jsx)("p",{className:"text-sm text-amber-700",children:"AI features are running in fallback mode with limited capabilities. Add your Gemini API key for full AI functionality."})]})]})})]})]})}var ey=a(8522),ej=a(40875);function ev(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)(!1),[n,m]=(0,i.useState)("seller"),[p,u]=(0,i.useState)([]),[x,g]=(0,i.useState)(null),[f,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{j()},[]),(0,i.useEffect)(()=>{u((0,X.xN)(n))},[n]);let j=async()=>{try{let e=await fetch("/api/auth/role-switch");if(e.ok){let s=await e.json();g(s)}}catch(e){console.error("Failed to fetch role status:",e)}},v=async()=>{a(!0);try{let s=await fetch("/api/auth/role-switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetRole:n,testPermissions:p})}),a=await s.json();s.ok?(e({title:"Switched to ".concat(n.toUpperCase()),description:"Testing with ".concat(p.length," permissions")}),setTimeout(()=>window.location.reload(),500)):e({title:"Error",description:a.error,variant:"destructive"})}catch(s){e({title:"Error",description:"Failed to switch role",variant:"destructive"})}finally{a(!1)}},N=async()=>{a(!0);try{(await fetch("/api/auth/role-switch",{method:"DELETE"})).ok&&(e({title:"Reverted",description:"Back to Super Admin"}),setTimeout(()=>window.location.reload(),500))}catch(s){e({title:"Error",description:"Failed to revert",variant:"destructive"})}finally{a(!1)}},w=e=>{p.includes(e)?u(p.filter(s=>s!==e)):u([...p,e])},C="seller"===n?"seller":"admin",_=X.pd.filter(e=>e.category===C||"feature"===e.category),S="seller"===n?[{id:"full_seller",name:"Full Seller",desc:"All seller permissions"},{id:"restricted_seller",name:"Restricted Seller",desc:"View only access"},{id:"empty",name:"No Permissions",desc:"Empty slate"}]:[{id:"full_admin",name:"Full Admin",desc:"All admin permissions"},{id:"limited_admin",name:"Limited Admin",desc:"Basic access only"},{id:"empty",name:"No Permissions",desc:"Empty slate"}];return(0,t.jsxs)(r.Zb,{className:"border-indigo-200 shadow-sm",children:[(0,t.jsxs)(r.Ol,{className:"bg-gradient-to-r from-indigo-50 to-purple-50",children:[(0,t.jsxs)(r.ll,{className:"flex items-center gap-2 text-indigo-700",children:[(0,t.jsx)(ey.Z,{className:"w-5 h-5"}),"Role Switch Testing"]}),(0,t.jsx)(r.SZ,{children:"Test the platform as different roles with specific permissions"})]}),(0,t.jsxs)(r.aY,{className:"pt-4 space-y-4",children:[(null==x?void 0:x.isSwitched)&&(0,t.jsxs)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-amber-800 font-medium",children:"Currently viewing as: "}),(0,t.jsx)(c.C,{variant:"secondary",className:"ml-2 bg-amber-100",children:x.currentRole})]}),(0,t.jsxs)(l.z,{size:"sm",variant:"outline",onClick:N,disabled:s,children:[(0,t.jsx)(J.Z,{className:"w-4 h-4 mr-1"}),"Revert to Super Admin"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(o._,{className:"font-medium min-w-[80px]",children:"Test as:"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.z,{size:"sm",variant:"seller"===n?"default":"outline",onClick:()=>m("seller"),className:"gap-1",children:[(0,t.jsx)(q.Z,{className:"w-4 h-4"}),"Seller"]}),(0,t.jsxs)(l.z,{size:"sm",variant:"admin"===n?"default":"outline",onClick:()=>m("admin"),className:"gap-1",children:[(0,t.jsx)(L.Z,{className:"w-4 h-4"}),"Admin"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(o._,{className:"font-medium min-w-[80px]",children:"Template:"}),(0,t.jsxs)(H.Ph,{onValueChange:s=>{let a={full_admin:X.x2.fullAdmin.permissions,limited_admin:X.x2.limitedAdmin.permissions,full_seller:X.x2.fullSeller.permissions,restricted_seller:X.x2.restrictedSeller.permissions,empty:[]};a[s]&&(u(a[s]),e({title:"Template Applied",description:"Loaded ".concat(s.replace("_"," ")," permissions")}))},children:[(0,t.jsx)(H.i4,{className:"w-[200px]",children:(0,t.jsx)(H.ki,{placeholder:"Select a template..."})}),(0,t.jsx)(H.Bw,{children:S.map(e=>(0,t.jsxs)(H.Ql,{value:e.id,children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",e.desc,")"]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eh.Z,{className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("span",{className:"font-medium text-blue-800",children:[p.length," Permissions Selected"]})]}),(0,t.jsxs)(l.z,{size:"sm",variant:"ghost",onClick:()=>y(!f),className:"gap-1 text-blue-700",children:[(0,t.jsx)(ej.Z,{className:"w-4 h-4 transition-transform ".concat(f?"rotate-180":"")}),f?"Hide Details":"Customize"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[p.slice(0,5).map(e=>(0,t.jsx)(c.C,{variant:"outline",className:"text-xs bg-white",children:e.replace("seller_","").replace("manage_","").replace(/_/g," ")},e)),p.length>5&&(0,t.jsxs)(c.C,{variant:"outline",className:"text-xs bg-white",children:["+",p.length-5," more"]}),0===p.length&&(0,t.jsx)("span",{className:"text-xs text-gray-500 italic",children:"No permissions - will see minimal menu"})]})]}),f&&(0,t.jsxs)("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["seller"===n?"Seller":"Admin"," Permissions:"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.z,{size:"sm",variant:"ghost",onClick:()=>u(_.map(e=>e.id)),className:"text-xs h-7",children:"Select All"}),(0,t.jsx)(l.z,{size:"sm",variant:"ghost",onClick:()=>u([]),className:"text-xs h-7",children:"Clear All"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1",children:_.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm p-1.5 rounded hover:bg-white cursor-pointer",children:[(0,t.jsx)(b.X,{checked:p.includes(e.id),onCheckedChange:()=>w(e.id)}),(0,t.jsx)("span",{className:"truncate text-xs",children:e.label})]},e.id))})]}),(0,t.jsxs)(l.z,{onClick:v,disabled:s,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:[s&&(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),(0,t.jsx)(ey.Z,{className:"w-4 h-4 mr-2"}),"Switch to ",n.charAt(0).toUpperCase()+n.slice(1)," with ",p.length," Permissions"]})]})]})}let eN=[{id:"manage_shops",label:"Manage Shops (Multi-Vendor)",category:"admin",description:"Approve and manage vendor shops"},{id:"approve_sellers",label:"Approve Seller Applications",category:"admin",description:"Approve or reject seller applications"},{id:"manage_products",label:"Manage Products & Inventory",category:"admin",description:"Manage all products and stock"},{id:"manage_orders",label:"Manage Orders",category:"admin",description:"Update order status"},{id:"manage_users",label:"Manage Customers & Reviews",category:"admin",description:"Customer accounts and reviews"},{id:"manage_marketing",label:"Manage Marketing (Coupons, Banners)",category:"admin",description:"Create coupons and promo banners"},{id:"manage_content",label:"Manage Content (Announcements)",category:"admin",description:"Post announcements"},{id:"manage_settings",label:"Manage Site Settings",category:"admin",description:"Edit site settings"},{id:"manage_admins",label:"Manage Other Admins",category:"admin",description:"Create/edit admins"},{id:"manage_communications",label:"Manage Messages & Chat",category:"admin",description:"Reply to chat and messages"},{id:"manage_storage",label:"Manage File Storage",category:"admin",description:"Upload and delete files"},{id:"manage_payouts",label:"Process Payout Requests",category:"admin",description:"Approve/reject seller payouts"},{id:"manage_refunds",label:"Process Refund Requests",category:"admin",description:"Approve/reject refund requests"},{id:"seller_add_products",label:"Add New Products",category:"seller",description:"Add new products to shop"},{id:"seller_edit_products",label:"Edit Own Products",category:"seller",description:"Edit own products"},{id:"seller_delete_products",label:"Delete Own Products",category:"seller",description:"Delete own products"},{id:"seller_view_orders",label:"View Own Orders",category:"seller",description:"View orders for own products"},{id:"seller_update_orders",label:"Update Order Status",category:"seller",description:"Update order status"},{id:"seller_request_payout",label:"Request Payouts",category:"seller",description:"Request money withdrawal"},{id:"seller_create_coupons",label:"Create Shop Coupons",category:"seller",description:"Create coupons for own shop"},{id:"seller_reply_reviews",label:"Reply to Reviews",category:"seller",description:"Reply to customer reviews"},{id:"seller_answer_questions",label:"Answer Product Questions",category:"seller",description:"Answer Q&A questions"},{id:"set_customer_tiers",label:"Set Customer Loyalty Tiers",category:"restricted",description:"Assign loyalty tiers to customers"},{id:"modify_loyalty_points",label:"Modify Loyalty Points",category:"restricted",description:"Add/remove loyalty points"},{id:"configure_spin_wheel",label:"Configure Spin Wheel",category:"restricted",description:"Edit spin wheel prizes"},{id:"set_commission_rates",label:"Set Commission Rates",category:"restricted",description:"Change seller commission rates"},{id:"override_pricing",label:"Override Product Pricing",category:"restricted",description:"Manually adjust prices"},{id:"access_financial_reports",label:"Access Financial Reports",category:"restricted",description:"View revenue and profit reports"},{id:"manage_tier_benefits",label:"Manage Tier Benefits",category:"restricted",description:"Set tier discounts and perks"},{id:"bulk_user_actions",label:"Bulk User Actions",category:"restricted",description:"Mass email/ban/activate users"},{id:"database_backup",label:"Database Backup Access",category:"restricted",description:"Create and restore backups"},{id:"view_audit_logs",label:"View Audit Logs",category:"restricted",description:"See all admin actions history"},{id:"access_loyalty_dashboard",label:"Access Loyalty Dashboard",category:"feature",description:"View loyalty program dashboard"},{id:"access_analytics",label:"Access Analytics & Reports",category:"feature",description:"View sales reports"},{id:"access_internal_chat",label:"Use Internal Chat",category:"feature",description:"Use internal team chat"},{id:"access_flash_sales",label:"Create Flash Sales",category:"feature",description:"Create flash sale events"},{id:"access_bulk_upload",label:"Bulk Product Upload",category:"feature",description:"Upload products in bulk"},{id:"access_export_data",label:"Export Data (CSV/PDF)",category:"feature",description:"Export data to files"},{id:"access_api_keys",label:"Manage API Keys",category:"feature",description:"Manage API integrations"}];function ew(){let{toast:e}=(0,h.pm)(),[s,a]=(0,i.useState)([]),[y,j]=(0,i.useState)(!0),[v,N]=(0,i.useState)(!1),[w,S]=(0,i.useState)(null),[A,k]=(0,i.useState)(""),[E,P]=(0,i.useState)(null),[D,I]=(0,i.useState)([]);(0,i.useEffect)(()=>{F()},[]);let F=async()=>{try{let e=await fetch("/api/admin/super-admin/users");if(e.ok){let s=await e.json();a(s.users||[])}}catch(e){console.error("Fetch error:",e)}finally{j(!1)}},T=async()=>{if(w&&A){N(!0);try{let s=await fetch("/api/admin/super-admin/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:w.id,password:A})}),a=await s.json();s.ok?(e({title:"Role Transferred",description:"You have been demoted to Admin. Redirecting..."}),setTimeout(()=>window.location.href="/admin",2e3)):e({title:"Transfer Failed",description:a.error,variant:"destructive"})}catch(s){e({title:"Error",description:"Action failed",variant:"destructive"})}finally{N(!1)}}},M=async()=>{if(E&&A){N(!0);try{let s=await fetch("/api/admin/super-admin/permissions",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:E.id,permissions:D,password:A})}),a=await s.json();s.ok?(e({title:"Permissions Updated",description:"Updated for ".concat(E.name)}),F(),P(null),k("")):e({title:"Error",description:a.error||"Failed to update permissions",variant:"destructive"})}finally{N(!1)}}},O=e=>{P(e),I(e.permissions||[])};return y?(0,t.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,t.jsx)(d.Z,{className:"w-8 h-8 animate-spin text-purple-600"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2 text-purple-700",children:[(0,t.jsx)(m.Z,{className:"w-8 h-8"}),"Super Admin Console"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage granular permissions and roles. Use with caution."})]})}),(0,t.jsxs)(r.Zb,{className:"border-purple-200 shadow-sm",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Privileged Users"}),(0,t.jsx)(r.SZ,{children:"Admins and Sellers with special access"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-4 border rounded-lg bg-gray-50 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-full ".concat("SUPER_ADMIN"===e.role?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"),children:"SUPER_ADMIN"===e.role?(0,t.jsx)(m.Z,{className:"w-5 h-5"}):(0,t.jsx)(p.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,t.jsx)(c.C,{variant:"SUPER_ADMIN"===e.role?"default":"secondary",children:e.role}),null===(s=e.permissions)||void 0===s?void 0:s.map(e=>(0,t.jsx)(c.C,{variant:"outline",className:"text-xs bg-white text-gray-600",children:e.replace(/_/g," ")},e))]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:["SUPER_ADMIN"!==e.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>O(e),className:"gap-2",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4"})," Permissions"]}),(0,t.jsx)(l.z,{size:"sm",variant:"destructive",onClick:()=>S(e),className:"gap-2 bg-red-100 text-red-700 hover:bg-red-200 border-red-200",children:"Make Super Admin"})]}),"SUPER_ADMIN"===e.role&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground italic px-3",children:"Cannot modify self here"})]})]},e.id)})})})]}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(ev,{})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(ee,{})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(eb,{})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)($,{})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(z,{})}),(0,t.jsx)("div",{className:"mt-8 mb-8",children:(0,t.jsx)(Z,{canEdit:!0})}),(0,t.jsx)(C,{}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"Direct Command Chat"}),(0,t.jsx)(_.B,{})]}),(0,t.jsx)(f.Vq,{open:!!E,onOpenChange:e=>!e&&P(null),children:(0,t.jsxs)(f.cZ,{children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsxs)(f.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5 text-blue-600"}),"Edit Permissions"]}),(0,t.jsxs)(f.Be,{children:["Grant specific capabilities to ",null==E?void 0:E.name,"."]})]}),(0,t.jsxs)("div",{className:"py-4 space-y-4 max-h-80 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-blue-700 border-b pb-1",children:"\uD83D\uDD37 Admin Abilities"}),eN.filter(e=>"admin"===e.category).map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 rounded hover:bg-blue-50",children:[(0,t.jsx)(b.X,{id:e.id,checked:D.includes(e.id),onCheckedChange:s=>{s?I([...D,e.id]):I(D.filter(s=>s!==e.id))},className:"mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:e.id,className:"cursor-pointer text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-green-700 border-b pb-1",children:"\uD83C\uDFEA Seller Abilities"}),eN.filter(e=>"seller"===e.category).map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 rounded hover:bg-green-50",children:[(0,t.jsx)(b.X,{id:e.id,checked:D.includes(e.id),onCheckedChange:s=>{s?I([...D,e.id]):I(D.filter(s=>s!==e.id))},className:"mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:e.id,className:"cursor-pointer text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-red-700 border-b pb-1",children:"\uD83D\uDD12 Restricted Abilities (Super Admin Grant)"}),eN.filter(e=>"restricted"===e.category).map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 rounded hover:bg-red-50",children:[(0,t.jsx)(b.X,{id:e.id,checked:D.includes(e.id),onCheckedChange:s=>{s?I([...D,e.id]):I(D.filter(s=>s!==e.id))},className:"mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:e.id,className:"cursor-pointer text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-purple-700 border-b pb-1",children:"⚡ Feature Access"}),eN.filter(e=>"feature"===e.category).map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-2 rounded hover:bg-purple-50",children:[(0,t.jsx)(b.X,{id:e.id,checked:D.includes(e.id),onCheckedChange:s=>{s?I([...D,e.id]):I(D.filter(s=>s!==e.id))},className:"mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:e.id,className:"cursor-pointer text-sm font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)(o._,{className:"flex items-center gap-2 text-amber-600",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4"}),"Confirm with Password"]}),(0,t.jsx)(n.I,{type:"password",value:A,onChange:e=>k(e.target.value),className:"mt-1",placeholder:"Your current password"})]}),(0,t.jsxs)(f.cN,{children:[(0,t.jsx)(l.z,{variant:"outline",onClick:()=>{P(null),k("")},children:"Cancel"}),(0,t.jsxs)(l.z,{onClick:M,disabled:v||!A,children:[v&&(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}),"Save Changes"]})]})]})}),(0,t.jsx)(f.Vq,{open:!!w,onOpenChange:e=>!e&&S(null),children:(0,t.jsxs)(f.cZ,{className:"border-red-200",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsxs)(f.$N,{className:"text-red-700 flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"w-5 h-5"}),"Transfer Super Admin Role?"]}),(0,t.jsxs)(f.Be,{children:["This action is IRREVERSIBLE. You will be demoted to a regular Admin immediately.",(0,t.jsx)("br",{}),"Please enter your password to confirm."]})]}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)(o._,{children:"Confirm Password"}),(0,t.jsx)(n.I,{type:"password",value:A,onChange:e=>k(e.target.value),className:"mt-1",placeholder:"Current password"})]}),(0,t.jsxs)(f.cN,{children:[(0,t.jsx)(l.z,{variant:"outline",onClick:()=>S(null),children:"Cancel"}),(0,t.jsxs)(l.z,{variant:"destructive",onClick:T,disabled:v||!A,children:[v&&(0,t.jsx)(d.Z,{className:"w-4 h-4 animate-spin mr-2"}),"Confirm Transfer"]})]})]})})]})}},66070:function(e,s,a){"use strict";a.d(s,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var t=a(57437),i=a(2265),r=a(94508);let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});l.displayName="Card";let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...i})});n.displayName="CardHeader";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});c.displayName="CardTitle";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...i})});o.displayName="CardDescription";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...i})});d.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},19060:function(e,s,a){"use strict";a.d(s,{X:function(){return c}});var t=a(57437),i=a(2265),r=a(9270),l=a(30401),n=a(94508);let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.fC,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,t.jsx)(r.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})})});c.displayName=r.fC.displayName},26815:function(e,s,a){"use strict";a.d(s,{_:function(){return o}});var t=a(57437),i=a(2265),r=a(370),l=a(90535),n=a(94508);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.f,{ref:s,className:(0,n.cn)(c(),a),...i})});o.displayName=r.f.displayName},74991:function(e,s,a){"use strict";a.d(s,{E:function(){return c},m:function(){return o}});var t=a(57437),i=a(2265),r=a(42325),l=a(40519),n=a(94508);let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.fC,{className:(0,n.cn)("grid gap-2",a),...i,ref:s})});c.displayName=r.fC.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.ck,{ref:s,className:(0,n.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...i,children:(0,t.jsx)(r.z$,{className:"flex items-center justify-center",children:(0,t.jsx)(l.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=r.ck.displayName},53647:function(e,s,a){"use strict";a.d(s,{Bw:function(){return m},Ph:function(){return c},Ql:function(){return p},i4:function(){return o},ki:function(){return d}});var t=a(57437),i=a(2265),r=a(94508),l=a(40875);let n=i.createContext(null),c=e=>{let{value:s,defaultValue:a,onValueChange:r,children:l}=e,[c,o]=i.useState(a||""),[d,m]=i.useState(!1),p=void 0!==s?s:c,u=i.useCallback(e=>{void 0===s&&o(e),null==r||r(e),m(!1)},[s,r]);return(0,t.jsx)(n.Provider,{value:{value:p,onValueChange:u,open:d,setOpen:m},children:(0,t.jsx)("div",{className:"relative",children:l})})},o=i.forwardRef((e,s)=>{let{className:a,children:c,...o}=e,d=i.useContext(n);if(!d)throw Error("SelectTrigger must be used within Select");return(0,t.jsxs)("button",{ref:s,type:"button",onClick:()=>d.setOpen(!d.open),className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...o,children:[c,(0,t.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})]})});o.displayName="SelectTrigger";let d=e=>{let{placeholder:s}=e,a=i.useContext(n);if(!a)throw Error("SelectValue must be used within Select");return(0,t.jsx)("span",{className:a.value?"":"text-muted-foreground",children:a.value||s})},m=i.forwardRef((e,s)=>{let{className:a,children:l,...c}=e,o=i.useContext(n);if(!o)throw Error("SelectContent must be used within Select");return o.open?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o.setOpen(!1)}),(0,t.jsx)("div",{ref:s,className:(0,r.cn)("absolute z-50 mt-1 min-w-[8rem] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",a),...c,children:(0,t.jsx)("div",{className:"p-1",children:l})})]}):null});m.displayName="SelectContent";let p=i.forwardRef((e,s)=>{let{className:a,children:l,value:c,...o}=e,d=i.useContext(n);if(!d)throw Error("SelectItem must be used within Select");let m=d.value===c;return(0,t.jsx)("div",{ref:s,onClick:()=>d.onValueChange(c),className:(0,r.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",m&&"bg-accent text-accent-foreground",a),...o,children:l})});p.displayName="SelectItem"},1828:function(e,s,a){"use strict";a.d(s,{r:function(){return n}});var t=a(57437),i=a(2265),r=a(50721),l=a(94508);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:s,children:(0,t.jsx)(r.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=r.fC.displayName},12339:function(e,s,a){"use strict";a.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return n},nU:function(){return d}});var t=a(57437),i=a(2265),r=a(94508);let l=i.createContext(void 0),n=e=>{let{defaultValue:s,className:a,children:n}=e,[c,o]=i.useState(s);return(0,t.jsx)(l.Provider,{value:{activeTab:c,setActiveTab:o},children:(0,t.jsx)("div",{className:(0,r.cn)("w-full",a),children:n})})},c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});c.displayName="TabsList";let o=i.forwardRef((e,s)=>{let{className:a,value:n,...c}=e,o=i.useContext(l);if(!o)throw Error("TabsTrigger must be used within Tabs");let d=o.activeTab===n;return(0,t.jsx)("button",{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",d&&"bg-background text-foreground shadow-sm",a),onClick:()=>o.setActiveTab(n),...c})});o.displayName="TabsTrigger";let d=i.forwardRef((e,s)=>{let{className:a,value:n,children:c,...o}=e,d=i.useContext(l);if(!d)throw Error("TabsContent must be used within Tabs");return d.activeTab!==n?null:(0,t.jsx)("div",{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...o,children:c})});d.displayName="TabsContent"},35153:function(e,s,a){"use strict";a.d(s,{pm:function(){return p}});var t=a(2265);let i=0,r=new Map,l=e=>{if(r.has(e))return;let s=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=n(o,e),c.forEach(e=>{e(o)})}function m(e){let{...s}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,s]=t.useState(o);return t.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},1012:function(e,s,a){"use strict";a.d(s,{nN:function(){return N},or:function(){return j},pd:function(){return y},x2:function(){return w},xN:function(){return v}});var t=a(88906),i=a(64413),r=a(66337),l=a(82023),n=a(51884),c=a(44794),o=a(16275),d=a(95805),m=a(94766),p=a(98728),u=a(53417),x=a(48736),g=a(88226),h=a(96215),f=a(50091);let b={admin:{id:"admin",label:"Admin Abilities",description:"Core administrative capabilities",color:"blue",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700",icon:t.Z},seller:{id:"seller",label:"Seller Abilities",description:"Vendor and shop management",color:"green",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700",icon:i.Z},restricted:{id:"restricted",label:"Restricted Abilities",description:"Only Super Admin can grant these",color:"red",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700",icon:r.Z},feature:{id:"feature",label:"Feature Access",description:"Access to specific features",color:"purple",bgColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-700",icon:l.Z}},y=[{id:"manage_shops",label:"Manage Shops (Multi-Vendor)",description:"Approve and manage vendor shops",category:"admin",icon:i.Z,defaultFor:["admin"]},{id:"approve_sellers",label:"Approve Seller Applications",description:"Approve or reject seller applications",category:"admin",icon:n.Z,defaultFor:["admin"]},{id:"manage_products",label:"Manage Products & Inventory",description:"Manage all products and stock",category:"admin",icon:c.Z,defaultFor:["admin"]},{id:"manage_orders",label:"Manage Orders",description:"Update order status",category:"admin",icon:o.Z,defaultFor:["admin"]},{id:"manage_users",label:"Manage Customers & Reviews",description:"Customer accounts and reviews",category:"admin",icon:d.Z,defaultFor:["admin"]},{id:"manage_marketing",label:"Manage Marketing (Coupons, Banners)",description:"Create coupons and promo banners",category:"admin",icon:l.Z,defaultFor:["admin"]},{id:"manage_content",label:"Manage Content (Announcements)",description:"Post announcements",category:"admin",icon:m.Z,defaultFor:["admin"]},{id:"manage_settings",label:"Manage Site Settings",description:"Edit site settings",category:"admin",icon:p.Z,defaultFor:["admin"]},{id:"manage_admins",label:"Manage Other Admins",description:"Create/edit admins",category:"admin",icon:n.Z,superAdminOnly:!0},{id:"manage_communications",label:"Manage Messages & Chat",description:"Reply to chat and messages",category:"admin",icon:u.Z,defaultFor:["admin"]},{id:"manage_storage",label:"Manage File Storage",description:"Upload and delete files",category:"admin",icon:x.Z,defaultFor:["admin"]},{id:"manage_payouts",label:"Process Payout Requests",description:"Approve/reject seller payouts",category:"admin",icon:g.Z,defaultFor:["admin"]},{id:"manage_refunds",label:"Process Refund Requests",description:"Approve/reject refund requests",category:"admin",icon:g.Z,defaultFor:["admin"]},{id:"seller_add_products",label:"Add New Products",description:"Add new products to shop",category:"seller",icon:c.Z,defaultFor:["seller"]},{id:"seller_edit_products",label:"Edit Own Products",description:"Edit own products",category:"seller",icon:c.Z,defaultFor:["seller"]},{id:"seller_delete_products",label:"Delete Own Products",description:"Delete own products",category:"seller",icon:c.Z,defaultFor:["seller"]},{id:"seller_view_orders",label:"View Own Orders",description:"View orders for own products",category:"seller",icon:o.Z,defaultFor:["seller"]},{id:"seller_update_orders",label:"Update Order Status",description:"Update order status",category:"seller",icon:o.Z,defaultFor:["seller"]},{id:"seller_request_payout",label:"Request Payouts",description:"Request money withdrawal",category:"seller",icon:g.Z,defaultFor:["seller"]},{id:"seller_create_coupons",label:"Create Shop Coupons",description:"Create coupons for own shop",category:"seller",icon:l.Z,defaultFor:["seller"]},{id:"seller_reply_reviews",label:"Reply to Reviews",description:"Reply to customer reviews",category:"seller",icon:u.Z,defaultFor:["seller"]},{id:"seller_answer_questions",label:"Answer Product Questions",description:"Answer Q&A questions",category:"seller",icon:u.Z,defaultFor:["seller"]},{id:"set_customer_tiers",label:"Set Customer Loyalty Tiers",description:"Assign loyalty tiers to customers",category:"restricted",icon:d.Z,superAdminOnly:!0},{id:"modify_loyalty_points",label:"Modify Loyalty Points",description:"Add/remove loyalty points",category:"restricted",icon:l.Z,superAdminOnly:!0},{id:"configure_spin_wheel",label:"Configure Spin Wheel",description:"Edit spin wheel prizes",category:"restricted",icon:l.Z,superAdminOnly:!0},{id:"set_commission_rates",label:"Set Commission Rates",description:"Change seller commission rates",category:"restricted",icon:g.Z,superAdminOnly:!0},{id:"override_pricing",label:"Override Product Pricing",description:"Manually adjust prices",category:"restricted",icon:c.Z,superAdminOnly:!0},{id:"access_financial_reports",label:"Access Financial Reports",description:"View revenue and profit reports",category:"restricted",icon:h.Z,superAdminOnly:!0},{id:"manage_tier_benefits",label:"Manage Tier Benefits",description:"Set tier discounts and perks",category:"restricted",icon:d.Z,superAdminOnly:!0},{id:"bulk_user_actions",label:"Bulk User Actions",description:"Mass email/ban/activate users",category:"restricted",icon:d.Z,superAdminOnly:!0},{id:"database_backup",label:"Database Backup Access",description:"Create and restore backups",category:"restricted",icon:f.Z,superAdminOnly:!0},{id:"view_audit_logs",label:"View Audit Logs",description:"See all admin actions history",category:"restricted",icon:x.Z,superAdminOnly:!0},{id:"access_loyalty_dashboard",label:"Access Loyalty Dashboard",description:"View loyalty program dashboard",category:"feature",icon:d.Z},{id:"access_analytics",label:"Access Analytics & Reports",description:"View sales reports",category:"feature",icon:h.Z},{id:"access_internal_chat",label:"Use Internal Chat",description:"Use internal team chat",category:"feature",icon:u.Z},{id:"access_flash_sales",label:"Create Flash Sales",description:"Create flash sale events",category:"feature",icon:l.Z},{id:"access_bulk_upload",label:"Bulk Product Upload",description:"Upload products in bulk",category:"feature",icon:c.Z},{id:"access_export_data",label:"Export Data (CSV/PDF)",description:"Export data to files",category:"feature",icon:x.Z},{id:"access_api_keys",label:"Manage API Keys",description:"Manage API integrations",category:"feature",icon:p.Z},{id:"use_ai_product_assist",label:"Use AI Product Assistant",description:"Generate descriptions, tags, and analyze products with AI",category:"feature",icon:l.Z,defaultFor:["admin","seller"]},{id:"use_ai_chat_assist",label:"Use AI Chat Assistant",description:"Get AI-powered suggestions for customer support",category:"feature",icon:u.Z,defaultFor:["admin"]},{id:"use_ai_review_moderation",label:"Use AI Review Moderation",description:"AI-powered spam and inappropriate content detection",category:"feature",icon:x.Z,defaultFor:["admin"]},{id:"use_ai_seo_generator",label:"Use AI SEO Generator",description:"Generate SEO meta descriptions for pages",category:"feature",icon:l.Z,defaultFor:["admin"]},{id:"use_ai_analytics",label:"Use AI Analytics Insights",description:"Get AI-powered insights from sales data",category:"feature",icon:h.Z,superAdminOnly:!0},{id:"manage_ai_settings",label:"Manage AI Settings",description:"Configure AI features and API keys",category:"restricted",icon:p.Z,superAdminOnly:!0}];function j(e){return y.filter(s=>s.category===e)}function v(e){return y.filter(s=>{var a;return null===(a=s.defaultFor)||void 0===a?void 0:a.includes(e)}).map(e=>e.id)}function N(e){return b[e]}let w={fullAdmin:{id:"full_admin",name:"Full Admin Access",description:"All admin abilities except restricted ones",permissions:y.filter(e=>"admin"===e.category&&!e.superAdminOnly).map(e=>e.id)},limitedAdmin:{id:"limited_admin",name:"Limited Admin",description:"Basic admin access without user management",permissions:["manage_products","manage_orders","manage_content","manage_communications"]},fullSeller:{id:"full_seller",name:"Full Seller Access",description:"All seller abilities",permissions:y.filter(e=>"seller"===e.category).map(e=>e.id)},restrictedSeller:{id:"restricted_seller",name:"Restricted Seller",description:"View-only seller access",permissions:["seller_view_orders","seller_reply_reviews","seller_answer_questions"]}}}},function(e){e.O(0,[8590,6053,1,9923,9366,8881,8270,1206,2971,2117,1744],function(){return e(e.s=16690)}),_N_E=e.O()}]);