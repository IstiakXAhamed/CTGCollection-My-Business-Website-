(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{19273:function(e,t,s){Promise.resolve().then(s.bind(s,69725))},69725:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=s(57437),l=s(2265),a=s(27648),n=s(66070),c=s(95252),i=s(16275),d=s(49322),o=s(95805),m=s(44794),x=s(82431),u=s(70525),h=s(94508),f=s(62869),p=s(26e3),g=s(21206);function b(){let[e,t]=(0,l.useState)({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0,pendingOrders:0}),[s,b]=(0,l.useState)([]),[v,j]=(0,l.useState)([]),[y,N]=(0,l.useState)(!0),w=(0,l.useCallback)(async()=>{await Promise.all([k(),Z(),C()])},[]);(0,l.useEffect)(()=>{w()},[w]),(0,p.w)(w,{interval:3e4});let k=async()=>{try{let e=await fetch("/api/admin/stats",{credentials:"include"});if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch stats:",e)}finally{N(!1)}},Z=async()=>{try{let t=await fetch("/api/admin/orders?limit=5",{credentials:"include"});if(t.ok){var e;let s=await t.json();b((null===(e=s.orders)||void 0===e?void 0:e.slice(0,5))||[])}}catch(e){console.error("Failed to fetch orders:",e)}},C=async()=>{try{let e=await fetch("/api/products?limit=50",{credentials:"include"});if(e.ok){let t=((await e.json()).products||[]).filter(e=>{var t;let s=(null===(t=e.variants)||void 0===t?void 0:t.reduce((e,t)=>e+(t.stock||0),0))||0;return s<10&&s>0}).slice(0,5);j(t)}}catch(e){console.error("Failed to fetch low stock:",e)}},O={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},R=[{title:"Total Revenue",value:(0,h.T4)(e.totalRevenue),icon:c.Z,color:"text-green-600",bgColor:"bg-green-100",href:"/admin/orders"},{title:"Total Orders",value:e.totalOrders,icon:i.Z,color:"text-blue-600",bgColor:"bg-blue-100",href:"/admin/orders"},{title:"Pending Orders",value:e.pendingOrders,icon:d.Z,color:"text-orange-600",bgColor:"bg-orange-100",href:"/admin/orders?status=pending"},{title:"Customers",value:e.totalCustomers,icon:o.Z,color:"text-purple-600",bgColor:"bg-purple-100",href:"/admin/customers"},{title:"Products",value:e.totalProducts,icon:m.Z,color:"text-indigo-600",bgColor:"bg-indigo-100",href:"/admin/products"}];return y?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(x.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Welcome back! Here's what's happening."})]}),(0,r.jsxs)(f.z,{onClick:()=>{k(),Z(),C()},variant:"outline",size:"sm",className:"self-start sm:self-auto",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3 lg:gap-4",children:R.map(e=>{let t=e.icon;return(0,r.jsx)(a.default,{href:e.href,children:(0,r.jsx)(n.Zb,{className:"hover:shadow-lg transition cursor-pointer h-full",children:(0,r.jsx)(n.aY,{className:"p-3 sm:p-4 lg:p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-0.5 sm:mb-1 truncate",children:e.title}),(0,r.jsx)("p",{className:"text-base sm:text-lg lg:text-xl font-bold truncate tracking-tight",title:String(e.value),children:e.value})]}),(0,r.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full ".concat(e.bgColor," flex items-center justify-center flex-shrink-0"),children:(0,r.jsx)(t,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6 ".concat(e.color)})})]})})})},e.title)})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"p-3 sm:p-4 lg:p-6 flex flex-row items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-sm sm:text-base lg:text-xl font-semibold",children:"Recent Orders"}),(0,r.jsx)(a.default,{href:"/admin/orders",className:"text-xs sm:text-sm text-blue-600 hover:underline",children:"View All"})]}),(0,r.jsx)(n.aY,{className:"p-3 sm:p-4 lg:p-6 pt-0",children:0===s.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-4 text-sm",children:"No orders yet"}):(0,r.jsx)("div",{className:"space-y-3",children:s.map(e=>{var t;return(0,r.jsxs)("div",{className:"flex items-center justify-between pb-3 border-b last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-xs sm:text-sm truncate",children:e.orderNumber||"#".concat(e.id.slice(0,8))}),(0,r.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Guest"})]}),(0,r.jsxs)("div",{className:"text-right flex-shrink-0 ml-2",children:[(0,r.jsx)("p",{className:"font-semibold text-xs sm:text-sm",children:(0,h.T4)(e.total)}),(0,r.jsx)("span",{className:"text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full ".concat(O[e.status]||"bg-gray-100"),children:e.status})]})]},e.id)})})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"p-3 sm:p-4 lg:p-6 flex flex-row items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-sm sm:text-base lg:text-xl font-semibold flex items-center gap-1 sm:gap-2",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"}),"Low Stock"]}),(0,r.jsx)(a.default,{href:"/admin/products",className:"text-xs sm:text-sm text-blue-600 hover:underline",children:"View All"})]}),(0,r.jsx)(n.aY,{className:"p-3 sm:p-4 lg:p-6 pt-0",children:0===v.length?(0,r.jsx)("p",{className:"text-muted-foreground text-center py-4 text-sm",children:"All products are well stocked!"}):(0,r.jsx)("div",{className:"space-y-3",children:v.map(e=>{var t,s;let l=(null===(t=e.variants)||void 0===t?void 0:t.reduce((e,t)=>e+(t.stock||0),0))||0;return(0,r.jsxs)("div",{className:"flex items-center justify-between pb-3 border-b last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-xs sm:text-sm truncate",children:e.name}),(0,r.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:(null===(s=e.category)||void 0===s?void 0:s.name)||"Uncategorized"})]}),(0,r.jsx)("div",{className:"text-right flex-shrink-0 ml-2",children:(0,r.jsxs)("p",{className:"text-xs sm:text-sm font-semibold ".concat(l<5?"text-red-600":"text-orange-600"),children:[l," left"]})})]},e.id)})})})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{className:"p-3 sm:p-4 lg:p-6",children:(0,r.jsx)("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold",children:"Quick Actions"})}),(0,r.jsx)(n.aY,{className:"p-3 sm:p-4 lg:p-6 pt-0",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:[(0,r.jsxs)(a.default,{href:"/admin/products/new",className:"p-3 sm:p-4 border-2 border-dashed rounded-lg text-center hover:border-blue-600 hover:bg-blue-50 transition",children:[(0,r.jsx)(m.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 text-blue-600"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-semibold",children:"Add Product"})]}),(0,r.jsxs)(a.default,{href:"/admin/orders",className:"p-3 sm:p-4 border-2 border-dashed rounded-lg text-center hover:border-blue-600 hover:bg-blue-50 transition",children:[(0,r.jsx)(i.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 text-blue-600"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-semibold",children:"View Orders"})]}),(0,r.jsxs)(a.default,{href:"/admin/customers",className:"p-3 sm:p-4 border-2 border-dashed rounded-lg text-center hover:border-blue-600 hover:bg-blue-50 transition",children:[(0,r.jsx)(o.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 text-blue-600"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-semibold",children:"Manage Users"})]}),(0,r.jsxs)(a.default,{href:"/admin/coupons",className:"p-3 sm:p-4 border-2 border-dashed rounded-lg text-center hover:border-blue-600 hover:bg-blue-50 transition",children:[(0,r.jsx)(u.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 text-blue-600"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-semibold",children:"Create Coupon"})]})]})})]}),(0,r.jsxs)("div",{className:"pt-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Internal Team Chat"}),(0,r.jsx)(g.B,{})]})]})}},66070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return i}});var r=s(57437),l=s(2265),a=s(94508);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...l})});c.displayName="CardHeader";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});i.displayName="CardTitle";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},26e3:function(e,t,s){"use strict";s.d(t,{w:function(){return l}});var r=s(2265);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{interval:s=3e4,refreshOnFocus:l=!0,enabled:a=!0}=t,n=(0,r.useRef)(e),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{n.current=e},[e]);let i=(0,r.useCallback)(()=>{"visible"===document.visibilityState&&l&&a&&n.current()},[l,a]);return(0,r.useEffect)(()=>{if(a)return c.current=setInterval(()=>{n.current()},s),l&&document.addEventListener("visibilitychange",i),()=>{c.current&&clearInterval(c.current),l&&document.removeEventListener("visibilitychange",i)}},[s,l,a,i]),{refresh:(0,r.useCallback)(()=>{n.current()},[])}}},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},95252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},44794:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},82431:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},16275:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[8590,5650,6053,1,9366,1206,2971,2117,1744],function(){return e(e.s=19273)}),_N_E=e.O()}]);