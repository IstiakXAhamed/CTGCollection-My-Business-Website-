(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8573],{34606:function(e,s,t){Promise.resolve().then(t.bind(t,60695))},60695:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Z}});var a=t(57437),r=t(2265),l=t(99376),i=t(66070),n=t(62869),c=t(95186),o=t(26815),d=t(76818),u=t(32660),m=t(32489),p=t(17689),x=t(99397),g=t(51817),h=t(27648),f=t(33145),b=t(35153),j=t(82023),v=t(29202),y=t(48736),N=t(62720),w=t(62883),k=t(64972),C=t(11239),D=t(41671),S=t(70525),P=t(73559),z=t(12805),A=t(35974),F=t(48614),T=t(36891);let E=[{value:"professional",label:"Professional",emoji:"\uD83D\uDCBC"},{value:"luxury",label:"Luxury",emoji:"✨"},{value:"friendly",label:"Friendly",emoji:"\uD83D\uDE0A"},{value:"urgent",label:"Urgent",emoji:"\uD83D\uDD25"},{value:"casual",label:"Casual",emoji:"\uD83D\uDC4B"}];function I(e){var s,t,l;let{productName:i,category:c,currentDescription:o,onSuggestionAccept:d,onAnalysisResult:u}=e,[m,p]=(0,r.useState)(null),[x,h]=(0,r.useState)({}),[f,b]=(0,r.useState)(null),[I,Z]=(0,r.useState)(null),[_,O]=(0,r.useState)(!1),[R,B]=(0,r.useState)("professional"),[M,V]=(0,r.useState)("en"),Y=async(e,s)=>{if(!i)return alert("Enter product name first"),null;p(e);try{let t=await fetch("/api/ai/product-assist",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:e,productName:i,category:c,tone:R,language:M,...s})});if(!t.ok)return alert("AI generation failed. Check API key."),null;{let e=await t.json();return O(e.fallback||!1),e}}catch(e){return alert("Failed to connect to AI service"),null}finally{p(null)}},L=async()=>{let e=await Y("description");(null==e?void 0:e.suggestion)&&(h(s=>({...s,description:e.suggestion})),b("description"))},W=async()=>{let e=await Y("tags");(null==e?void 0:e.suggestion)&&(h(s=>({...s,tags:e.suggestion})),b("tags"))},q=async()=>{let e=await Y("seo");(null==e?void 0:e.suggestion)&&(h(s=>({...s,seo:e.suggestion})),b("seo"))},U=async()=>{let e=await Y("analyze");e&&(Z({productType:e.productType,suggestedCategory:e.suggestedCategory,priceRange:e.priceRange,suggestedVariants:e.suggestedVariants,keywords:e.keywords,confidence:e.confidence}),null==u||u(e))},X=async()=>{let e=await Y("complete");e&&(e.description&&d("description",e.description),e.category&&d("category",e.category),e.suggestedPrice&&d("basePrice",e.suggestedPrice),e.salePrice&&d("salePrice",e.salePrice),e.tags&&d("tags",e.tags),e.seoTitle&&d("seoTitle",e.seoTitle),e.variants&&d("variants",e.variants),void 0!==e.isFeatured&&d("isFeatured",e.isFeatured),h({complete:"All fields populated by AI!"}),b("complete"))},G=e=>{x[e]&&(d(e,x[e]),b(null))},J=(e,s)=>{d(e,s)};return(0,a.jsxs)("div",{className:"border rounded-xl p-4 bg-gradient-to-br from-purple-50 to-blue-50 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-purple-600"}),(0,a.jsx)("h3",{className:"font-bold text-purple-800",children:"AI Product Assistant"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:_&&(0,a.jsx)(A.C,{variant:"outline",className:"text-amber-600 border-amber-300",children:"Fallback"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 p-3 bg-white/60 rounded-lg border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"flex rounded-lg overflow-hidden border",children:[(0,a.jsx)("button",{type:"button",onClick:()=>V("en"),className:"px-3 py-1 text-xs font-medium transition-all ".concat("en"===M?"bg-purple-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:"\uD83C\uDDFA\uD83C\uDDF8 English"}),(0,a.jsx)("button",{type:"button",onClick:()=>V("bn"),className:"px-3 py-1 text-xs font-medium transition-all ".concat("bn"===M?"bg-purple-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:"\uD83C\uDDE7\uD83C\uDDE9 বাংলা"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Tone:"}),(0,a.jsx)("div",{className:"flex gap-1",children:E.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>B(e.value),className:"px-2 py-1 text-xs rounded-md transition-all ".concat(R===e.value?"bg-purple-600 text-white":"bg-white text-gray-600 border hover:bg-gray-50"),title:e.label,children:e.emoji},e.value))}),(0,a.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:null===(s=E.find(e=>e.value===R))||void 0===s?void 0:s.label})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:L,disabled:!!m,className:"gap-2",children:["description"===m?(0,a.jsx)(g.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"Generate Description"]}),(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:W,disabled:!!m,className:"gap-2",children:["tags"===m?(0,a.jsx)(g.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Suggest Tags"]}),(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:q,disabled:!!m,className:"gap-2",children:["seo"===m?(0,a.jsx)(g.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"SEO Title"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-purple-200",children:[(0,a.jsxs)(n.z,{size:"sm",onClick:U,disabled:!!m,className:"gap-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:["analyze"===m?(0,a.jsx)(g.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Smart Analyze"]}),(0,a.jsxs)(n.z,{size:"sm",onClick:X,disabled:!!m,className:"gap-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:["complete"===m?(0,a.jsx)(g.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(C.Z,{className:"w-4 h-4"}),"Auto-Fill All Fields"]})]}),(0,a.jsx)(F.M,{children:I&&(0,a.jsxs)(T.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 bg-white rounded-lg border border-purple-200 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h4",{className:"font-semibold text-purple-700 flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"AI Analysis Results"]}),(0,a.jsxs)(A.C,{className:"high"===I.confidence?"bg-green-100 text-green-700":"medium"===I.confidence?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700",children:[I.confidence," confidence"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[I.productType&&(0,a.jsxs)("div",{className:"p-2 bg-blue-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:"Product Type:"}),(0,a.jsx)("p",{className:"text-blue-800",children:I.productType})]}),I.suggestedCategory&&(0,a.jsxs)("div",{className:"p-2 bg-green-50 rounded-lg cursor-pointer hover:bg-green-100",onClick:()=>J("category",I.suggestedCategory),children:[(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"Suggested Category:"}),(0,a.jsxs)("p",{className:"text-green-800 flex items-center gap-1",children:[I.suggestedCategory,(0,a.jsx)(D.Z,{className:"w-3 h-3 text-green-500"})]})]}),I.priceRange&&(0,a.jsxs)("div",{className:"p-2 bg-amber-50 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-amber-600 font-medium flex items-center gap-1",children:[(0,a.jsx)(S.Z,{className:"w-3 h-3"}),"Price Range:"]}),(0,a.jsxs)("p",{className:"text-amber-800",children:["৳",I.priceRange.min.toLocaleString()," - ৳",I.priceRange.max.toLocaleString()]})]}),(null===(t=I.suggestedVariants)||void 0===t?void 0:t.sizes)&&I.suggestedVariants.sizes.length>0&&(0,a.jsxs)("div",{className:"p-2 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-purple-600 font-medium flex items-center gap-1",children:[(0,a.jsx)(P.Z,{className:"w-3 h-3"}),"Sizes:"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:I.suggestedVariants.sizes.map(e=>(0,a.jsx)(A.C,{variant:"outline",className:"text-xs",children:e},e))})]}),(null===(l=I.suggestedVariants)||void 0===l?void 0:l.colors)&&I.suggestedVariants.colors.length>0&&(0,a.jsxs)("div",{className:"p-2 bg-pink-50 rounded-lg sm:col-span-2",children:[(0,a.jsxs)("span",{className:"text-pink-600 font-medium flex items-center gap-1",children:[(0,a.jsx)(z.Z,{className:"w-3 h-3"}),"Colors:"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:I.suggestedVariants.colors.map(e=>(0,a.jsx)(A.C,{variant:"outline",className:"text-xs",children:e},e))})]})]}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>Z(null),className:"w-full",children:"Dismiss"})]})}),(0,a.jsxs)(F.M,{children:[f&&x[f]&&"complete"!==f&&(0,a.jsxs)(T.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-white rounded-lg border overflow-hidden",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-purple-600 mb-2 capitalize",children:[f," Suggestion:"]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:x[f]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,a.jsxs)(n.z,{size:"sm",onClick:()=>G(f),className:"gap-2",children:[(0,a.jsx)(D.Z,{className:"w-4 h-4"}),"Accept"]}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>b(null),children:"Dismiss"})]})]}),"complete"===f&&(0,a.jsxs)(T.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("p",{className:"text-green-700 font-medium flex items-center gap-2",children:[(0,a.jsx)(D.Z,{className:"w-5 h-5"}),"All fields have been populated by AI! Review and adjust as needed."]}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>b(null),className:"mt-2",children:"Got it"})]})]})]})}function Z(){var e;let s=(0,l.useRouter)(),{toast:t}=(0,b.pm)(),[j,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)([]),[w,k]=(0,r.useState)({name:"",slug:"",description:"",categoryId:"",basePrice:"",salePrice:"",isFeatured:!1,isBestseller:!1,isActive:!0,hasWarranty:!1,warrantyPeriod:""}),[C,D]=(0,r.useState)([]),[S,P]=(0,r.useState)([{size:"M",color:"Default",stock:0,sku:""}]);(0,r.useEffect)(()=>{z()},[]);let z=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let s=await e.json();N(s.categories||[])}}catch(e){console.error("Failed to fetch categories:",e)}};(0,r.useEffect)(()=>{if(w.name){let e=w.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");k(s=>({...s,slug:e}))}},[w.name]);let A=e=>{D(s=>s.filter((s,t)=>t!==e))},F=(e,s,t)=>{P(a=>a.map((a,r)=>r===e?{...a,[s]:t}:a))},T=e=>{P(s=>s.filter((s,t)=>t!==e))},E=async e=>{e.preventDefault(),v(!0);try{let e={...w,basePrice:parseFloat(w.basePrice),salePrice:w.salePrice?parseFloat(w.salePrice):null,images:C,hasWarranty:w.hasWarranty,warrantyPeriod:w.hasWarranty?w.warrantyPeriod:null,variants:S.map(e=>({...e,stock:parseInt(e.stock.toString())}))},a=await fetch("/api/admin/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(a.ok)t({title:"Success!",description:"Product created successfully"}),s.push("/admin/products");else{let e=await a.json();t({title:"Error",description:e.error||"Failed to create product",variant:"destructive"})}}catch(e){console.error("Failed to create product:",e),t({title:"Error",description:"An error occurred while creating the product",variant:"destructive"})}finally{v(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(h.default,{href:"/admin/products",children:(0,a.jsx)(n.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Add New Product"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Create a new product in your catalog"})]})]}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Basic Information"})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"name",children:"Product Name *"}),(0,a.jsx)(c.I,{id:"name",value:w.name,onChange:e=>k(s=>({...s,name:e.target.value})),placeholder:"e.g., Premium Cotton T-Shirt",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"slug",children:"Slug (Auto-generated)"}),(0,a.jsx)(c.I,{id:"slug",value:w.slug,onChange:e=>k(s=>({...s,slug:e.target.value})),placeholder:"premium-cotton-tshirt",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"description",children:"Description *"}),(0,a.jsx)(d.g,{id:"description",value:w.description,onChange:e=>k(s=>({...s,description:e.target.value})),placeholder:"Detailed product description...",rows:4,required:!0})]}),(0,a.jsx)(I,{productName:w.name,category:null===(e=y.find(e=>e.id===w.categoryId))||void 0===e?void 0:e.name,onSuggestionAccept:(e,s)=>{"description"===e?k(e=>({...e,description:s})):("seo"===e||"tags"===e)&&k(e=>({...e,description:e.description+"\n\n"+s}))}}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"category",children:"Category *"}),(0,a.jsxs)("select",{id:"category",value:w.categoryId,onChange:e=>k(s=>({...s,categoryId:e.target.value})),className:"w-full h-10 px-3 rounded-md border border-input bg-background",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a category"}),y.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Pricing"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"basePrice",children:"Base Price (BDT) *"}),(0,a.jsx)(c.I,{id:"basePrice",type:"number",step:"0.01",value:w.basePrice,onChange:e=>k(s=>({...s,basePrice:e.target.value})),placeholder:"1999.00",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o._,{htmlFor:"salePrice",children:"Sale Price (BDT)"}),(0,a.jsx)(c.I,{id:"salePrice",type:"number",step:"0.01",value:w.salePrice,onChange:e=>k(s=>({...s,salePrice:e.target.value})),placeholder:"1499.00"})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Product Images"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload product images (first image will be the main image)"})]}),(0,a.jsx)(i.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[C.map((e,s)=>(0,a.jsxs)("div",{className:"relative aspect-square border-2 border-dashed rounded-lg overflow-hidden group",children:[(0,a.jsx)(f.default,{src:e,alt:"Product ".concat(s+1),fill:!0,className:"object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>A(s),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})})]},s)),(0,a.jsxs)("label",{className:"aspect-square border-2 border-dashed rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 transition-colors",children:[(0,a.jsx)(p.Z,{className:"w-8 h-8 text-muted-foreground mb-2"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=e.target.files;s&&Array.from(s).forEach(e=>{let s=new FileReader;s.onloadend=()=>{D(e=>[...e,s.result])},s.readAsDataURL(e)})},className:"hidden"})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ll,{children:"Product Variants"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Select sizes and colors, then set stock for each combination"})]})})}),(0,a.jsxs)(i.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(o._,{className:"text-sm font-semibold",children:"\uD83D\uDCCF Available Sizes (click to toggle)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["XS","S","M","L","XL","XXL","3XL","Free Size"].map(e=>{let s=S.some(s=>s.size===e);return(0,a.jsx)("button",{type:"button",onClick:()=>{s?P(s=>s.filter(s=>s.size!==e)):P(s=>[...s,{size:e,color:"Default",stock:0,sku:""}])},className:"px-4 py-2 rounded-lg border-2 font-medium transition-all ".concat(s?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:border-blue-400"),children:e},e)})}),(0,a.jsx)(c.I,{placeholder:"অথবা কাস্টম সাইজ লিখুন (e.g., 32, 34, 36)",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let s=e.target.value.trim();s&&!S.some(e=>e.size===s)&&(P(e=>[...e,{size:s,color:"Default",stock:0,sku:""}]),e.target.value="")}},className:"max-w-xs"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(o._,{className:"text-sm font-semibold",children:"\uD83C\uDFA8 Available Colors"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{name:"Black",hex:"#000000"},{name:"White",hex:"#FFFFFF"},{name:"Red",hex:"#EF4444"},{name:"Blue",hex:"#3B82F6"},{name:"Green",hex:"#22C55E"},{name:"Yellow",hex:"#EAB308"},{name:"Pink",hex:"#EC4899"},{name:"Purple",hex:"#A855F7"},{name:"Orange",hex:"#F97316"},{name:"Gray",hex:"#6B7280"},{name:"Navy",hex:"#1E3A5F"},{name:"Maroon",hex:"#7F1D1D"}].map(e=>{let s=S.some(s=>s.color===e.name);return(0,a.jsxs)("button",{type:"button",onClick:()=>{if(!s){let s=Array.from(new Set(S.map(e=>e.size)));if(0===s.length||1===s.length&&""===s[0])P(s=>[...s.filter(e=>"Default"!==e.color),{size:"M",color:e.name,stock:0,sku:""}]);else{let t=s.map(s=>({size:s,color:e.name,stock:0,sku:""}));P(e=>[...e.filter(e=>"Default"!==e.color),...t])}}},className:"flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ".concat(s?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-400"),children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full border border-gray-300",style:{backgroundColor:e.hex}}),(0,a.jsx)("span",{className:"text-sm",children:e.name}),s&&(0,a.jsx)("span",{className:"text-blue-600",children:"✓"})]},e.name)})}),(0,a.jsx)(c.I,{placeholder:"অথবা কাস্টম কালার লিখুন (e.g., Teal, Coral)",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let s=e.target.value.trim();if(s){let t=Array.from(new Set(S.map(e=>e.size).filter(e=>e)));0===t.length&&t.push("M");let a=t.map(e=>({size:e,color:s,stock:0,sku:""}));P(e=>[...e,...a]),e.target.value=""}}},className:"max-w-xs"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(o._,{className:"text-sm font-semibold",children:["\uD83D\uDCE6 Stock per Variant (",S.length," variants)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.z,{type:"button",size:"sm",variant:"outline",onClick:()=>{P(e=>e.map(e=>({...e,stock:50})))},children:"সব ৫০ সেট করুন"}),(0,a.jsxs)(n.z,{type:"button",size:"sm",onClick:()=>{P(e=>[...e,{size:"",color:"",stock:0,sku:""}])},children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),"ম্যানুয়াল যোগ"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-80 overflow-y-auto",children:S.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-gray-50",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:e.size||"N/A"}),(0,a.jsx)("span",{className:"text-gray-400",children:"\xd7"}),(0,a.jsx)("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:e.color||"N/A"})]})}),(0,a.jsx)(c.I,{type:"number",value:e.stock,onChange:e=>F(s,"stock",parseInt(e.target.value)||0),className:"w-20 text-center",placeholder:"Stock"}),(0,a.jsx)(n.z,{type:"button",size:"icon",variant:"ghost",onClick:()=>T(s),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})})]},s))}),0===S.length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'উপরে সাইজ ও কালার সিলেক্ট করুন অথবা "ম্যানুয়াল যোগ" করুন'})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Product Settings"})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.isFeatured,onChange:e=>k(s=>({...s,isFeatured:e.target.checked})),className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Featured Product"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.isBestseller,onChange:e=>k(s=>({...s,isBestseller:e.target.checked})),className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Bestseller"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.isActive,onChange:e=>k(s=>({...s,isActive:e.target.checked})),className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Active (Visible on site)"})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:w.hasWarranty,onChange:e=>k(s=>({...s,hasWarranty:e.target.checked})),className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-medium",children:"\uD83D\uDEE1️ Product has Warranty"})]}),w.hasWarranty&&(0,a.jsxs)("div",{className:"mt-3 ml-6",children:[(0,a.jsx)(o._,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),(0,a.jsxs)("select",{id:"warrantyPeriod",value:w.warrantyPeriod,onChange:e=>k(s=>({...s,warrantyPeriod:e.target.value})),className:"w-full max-w-xs h-10 px-3 mt-1 rounded-md border border-input bg-background",children:[(0,a.jsx)("option",{value:"",children:"Select warranty period"}),(0,a.jsx)("option",{value:"30 Days",children:"30 Days"}),(0,a.jsx)("option",{value:"3 Months",children:"3 Months"}),(0,a.jsx)("option",{value:"6 Months",children:"6 Months"}),(0,a.jsx)("option",{value:"1 Year",children:"1 Year"}),(0,a.jsx)("option",{value:"2 Years",children:"2 Years"}),(0,a.jsx)("option",{value:"3 Years",children:"3 Years"}),(0,a.jsx)("option",{value:"Lifetime",children:"Lifetime"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(n.z,{type:"submit",disabled:j,className:"min-w-[150px]",children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Product"}),(0,a.jsx)(h.default,{href:"/admin/products",children:(0,a.jsx)(n.z,{type:"button",variant:"outline",children:"Cancel"})})]})]})]})}},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var a=t(57437);t(2265);var r=t(90535),l=t(94508);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},62869:function(e,s,t){"use strict";t.d(s,{d:function(){return c},z:function(){return o}});var a=t(57437),r=t(2265),l=t(37053),i=t(90535),n=t(94508);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:o=!1,...d}=e,u=o?l.g7:"button";return(0,a.jsx)(u,{className:(0,n.cn)(c({variant:r,size:i,className:t})),ref:s,...d})});o.displayName="Button"},66070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var a=t(57437),r=t(2265),l=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var a=t(57437),r=t(2265),l=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},26815:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var a=t(57437),r=t(2265),l=t(370),i=t(90535),n=t(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.f,{ref:s,className:(0,n.cn)(c(),t),...r})});o.displayName=l.f.displayName},76818:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var a=t(57437),r=t(2265),l=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});i.displayName="Textarea"},35153:function(e,s,t){"use strict";t.d(s,{pm:function(){return m}});var a=t(2265);let r=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=n(o,e),c.forEach(e=>{e(o)})}function u(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=a.useState(o);return a.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},94508:function(e,s,t){"use strict";t.d(s,{T4:function(){return i},cn:function(){return l}});var a=t(61994),r=t(53335);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}function i(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}}},function(e){e.O(0,[8590,6891,5650,3145,6513,2971,2117,1744],function(){return e(e.s=34606)}),_N_E=e.O()}]);