(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{305:function(e,t,a){Promise.resolve().then(a.t.bind(a,47960,23)),Promise.resolve().then(a.bind(a,75873)),Promise.resolve().then(a.bind(a,27848)),Promise.resolve().then(a.bind(a,92843)),Promise.resolve().then(a.bind(a,24704)),Promise.resolve().then(a.bind(a,28349)),Promise.resolve().then(a.bind(a,70024)),Promise.resolve().then(a.bind(a,605)),Promise.resolve().then(a.bind(a,90882)),Promise.resolve().then(a.bind(a,17385)),Promise.resolve().then(a.bind(a,46304)),Promise.resolve().then(a.bind(a,59556)),Promise.resolve().then(a.bind(a,69569)),Promise.resolve().then(a.bind(a,86888)),Promise.resolve().then(a.t.bind(a,50911,23))},75873:function(e,t,a){"use strict";a.d(t,{default:function(){return n}});var s=a(57437),r=a(48667),l=a(40257);function n(){let e=l.env.NEXT_PUBLIC_GA_ID;return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=".concat(e)}),(0,s.jsx)(r.default,{id:"google-analytics",strategy:"afterInteractive",children:"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n          gtag('config', '".concat(e,"');\n        ")})]}):null}},27848:function(e,t,a){"use strict";a.d(t,{default:function(){return f}});var s=a(57437),r=a(2265),l=a(48614),n=a(36891),i=a(33245),o=a(49322),c=a(41671),d=a(62720),u=a(32489),m=a(92451),h=a(10407),x=a(62869);let p={info:{bg:"bg-blue-50",border:"border-blue-200",icon:i.Z},warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:o.Z},success:{bg:"bg-green-50",border:"border-green-200",icon:c.Z},promo:{bg:"bg-purple-50",border:"border-purple-200",icon:d.Z}};function f(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(0),[o]=(0,r.useState)(()=>{{let e=sessionStorage.getItem("announcement_session_id");return e||(e=Math.random().toString(36).substring(7),sessionStorage.setItem("announcement_session_id",e)),e}});(0,r.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/announcements?sessionId=".concat(o),{credentials:"include"});if(e.ok){let a=await e.json();t(a.announcements||[])}}catch(e){console.error("Failed to fetch announcements:",e)}},d=async()=>{let s=e[a];if(s){try{await fetch("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({announcementId:s.id,sessionId:o})})}catch(e){console.error("Failed to dismiss:",e)}a<e.length-1?i(a+1):t([])}},f=async()=>{for(let t of e)try{await fetch("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({announcementId:t.id,sessionId:o})})}catch(e){console.error("Failed to dismiss:",e)}t([])};if(0===e.length)return null;let g=e[a],b=p[g.type]||p.info,y=b.icon;return(0,s.jsx)(l.M,{children:(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(n.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"relative max-w-md w-full rounded-2xl p-6 shadow-xl ".concat(b.bg," border-2 ").concat(b.border),children:[(0,s.jsx)("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-white/50 rounded-full transition",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(b.border," border-2 bg-white"),children:(0,s.jsx)(y,{className:"w-5 h-5"})}),(0,s.jsx)("h2",{className:"text-xl font-bold",children:g.title})]}),(0,s.jsx)("p",{className:"text-gray-700 mb-6 whitespace-pre-wrap",children:g.content}),e.length>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("button",{onClick:()=>i(Math.max(0,a-1)),disabled:0===a,className:"p-2 hover:bg-white/50 rounded-full disabled:opacity-50",children:(0,s.jsx)(m.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[a+1," of ",e.length]}),(0,s.jsx)("button",{onClick:()=>i(Math.min(e.length-1,a+1)),disabled:a===e.length-1,className:"p-2 hover:bg-white/50 rounded-full disabled:opacity-50",children:(0,s.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(x.z,{variant:"outline",onClick:d,className:"flex-1",children:e.length>1&&a<e.length-1?"Next":"Got it"}),e.length>1&&(0,s.jsx)(x.z,{variant:"ghost",onClick:f,className:"text-gray-500",children:"Dismiss All"})]})]})})})}},92843:function(e,t,a){"use strict";a.d(t,{ExitIntentPopup:function(){return h}});var s=a(57437),r=a(2265),l=a(48614),n=a(36891),i=a(32489),o=a(87414),c=a(37806),d=a(76858),u=a(62869),m=a(27648);function h(e){let{enabled:t=!0,delayMs:a=5e3,discountPercent:h=10}=e,[x,p]=(0,r.useState)(!1),f=(0,r.useCallback)(()=>{try{return"true"===localStorage.getItem("exit_popup_shown")}catch(e){return!1}},[]);(0,r.useEffect)(()=>{if(!t||f())return;let e=!1,s=setTimeout(()=>{e=!0},a),r=t=>{t.clientY<=0&&e&&!f()&&(p(!0),localStorage.setItem("exit_popup_shown","true"))};return document.addEventListener("mouseleave",r),()=>{clearTimeout(s),document.removeEventListener("mouseleave",r)}},[t,a,f]);let g=()=>{p(!1)};return t?(0,s.jsx)(l.M,{children:x&&(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:g,children:(0,s.jsxs)(n.E.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"relative max-w-lg w-full overflow-hidden rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:g,className:"absolute top-4 right-4 z-10 p-2 bg-white/20 hover:bg-white/40 rounded-full text-white transition","aria-label":"Close popup",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400"}),(0,s.jsxs)("div",{className:"relative p-8 md:p-12 text-white text-center",children:[(0,s.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(o.Z,{className:"w-10 h-10"})}),(0,s.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Wait! Don't Leave Empty-Handed \uD83C\uDF81"}),(0,s.jsxs)("p",{className:"text-lg text-white/90 mb-8",children:["Create an account now and get ",(0,s.jsxs)("span",{className:"text-yellow-300 font-bold",children:[h,"% OFF"]})," your first order!"]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(m.default,{href:"/register",children:(0,s.jsxs)(u.z,{size:"lg",className:"w-full h-14 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold text-lg shadow-lg",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Create Account & Get ",h,"% OFF"]})}),(0,s.jsx)(m.default,{href:"/login",children:(0,s.jsxs)(u.z,{variant:"ghost",className:"text-white/80 hover:text-white hover:bg-white/10",children:["Already have an account? Login",(0,s.jsx)(d.Z,{className:"w-4 h-4 ml-2"})]})})]}),(0,s.jsx)("p",{className:"text-xs text-white/60 mt-6",children:"Discount automatically applied at checkout for new members."})]})]})})}):null}},24704:function(e,t,a){"use strict";var s=a(57437),r=a(2265),l=a(48614),n=a(36891),i=a(87414),o=a(32489),c=a(82023);function d(e){let{onClose:t}=e,[a,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(0),p=[{label:"5% OFF",color:"#FF6B6B",probability:.25},{label:"10% OFF",color:"#4ECDC4",probability:.2},{label:"Free Ship",color:"#45B7D1",probability:.15},{label:"15% OFF",color:"#DDA0DD",probability:.1},{label:"Try Again",color:"#98D8C8",probability:.15},{label:"20% OFF",color:"#F7DC6F",probability:.08},{label:"৳50 OFF",color:"#BB8FCE",probability:.05},{label:"JACKPOT!",color:"#FF8C42",probability:.02}];return(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:t,children:(0,s.jsxs)(n.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-purple-600 flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5"})," Spin to Win!"]}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})})]}),u?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),(0,s.jsx)("h4",{className:"text-xl font-bold text-purple-600 mb-2",children:"You Won!"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-500",children:u}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Check your email for the coupon code!"}),(0,s.jsx)("button",{onClick:t,className:"mt-4 px-6 py-2 bg-purple-600 text-white rounded-lg",children:"Continue Shopping"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full overflow-hidden transition-transform duration-[4000ms] ease-out shadow-lg",style:{transform:"rotate(".concat(h,"deg)")},children:p.map((e,t)=>(0,s.jsx)("div",{className:"absolute w-full h-full",style:{transform:"rotate(".concat(360/p.length*t,"deg)"),clipPath:"polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%)"},children:(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:e.color,transform:"rotate(22.5deg)"},children:(0,s.jsx)("span",{className:"text-[10px] font-bold text-white transform -rotate-[67.5deg] translate-x-4",children:e.label})})},t))}),(0,s.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2 w-0 h-0 border-l-[10px] border-r-[10px] border-t-[20px] border-l-transparent border-r-transparent border-t-red-500 z-10"})]}),(0,s.jsx)("input",{type:"email",placeholder:"Enter your email to spin",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg mb-3 text-sm"}),(0,s.jsx)("button",{onClick:()=>{if(!a||c)return;d(!0);let e=Math.random(),t=0,s=0;for(let a=0;a<p.length;a++)if(e<=(t+=p[a].probability)){s=a;break}let r=360/p.length;x(1800+(360-s*r-r/2)),setTimeout(()=>{m(p[s].label),d(!1),localStorage.setItem("spin_wheel_last",Date.now().toString())},4e3)},disabled:!a||c,className:"w-full py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-bold disabled:opacity-50",children:c?"Spinning...":"SPIN NOW! \uD83C\uDFB0"})]})]})})}t.default=function(e){let{onSpinClick:t}=e,[a,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("spin_wheel_last");if(!e){h(!0);return}let t=parseInt(e);h((Date.now()-t)/36e5>=24)};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"fixed bottom-24 right-6 z-40 flex flex-col items-end gap-2",children:[(0,s.jsx)(l.M,{children:a&&(0,s.jsx)(s.Fragment,{children:m&&(0,s.jsxs)(n.E.button,{initial:{opacity:0,scale:0,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0,y:20},onClick:()=>{t?t():p(!0),u(!1)},className:"relative flex items-center gap-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white px-4 py-2 rounded-full shadow-lg hover:shadow-xl transition-all",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Spin & Win!"}),(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})})}),(0,s.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(!a),className:"w-12 h-12 rounded-full shadow-lg flex items-center justify-center transition-all ".concat(a?"bg-gray-700 text-white":m?"bg-gradient-to-r from-pink-500 to-purple-600 text-white":"bg-gray-400 text-white"),children:(0,s.jsx)(l.M,{mode:"wait",children:a?(0,s.jsx)(n.E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})},"close"):(0,s.jsxs)(n.E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},className:"relative",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),m&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]},"gift")})})]}),(0,s.jsx)(l.M,{children:x&&(0,s.jsx)(d,{onClose:()=>p(!1)})})]})}},28349:function(e,t,a){"use strict";var s=a(57437),r=a(2265),l=a(27648),n=a(85995),i=a(40340),o=a(84286),c=a(88226),d=a(35471),u=a(79219),m=a(37760),h=a(42351),x=a(74767),p=a(50598),f=a(83774),g=a(13041),b=a(89345);let y=[{label:"All Products",href:"/shop"},{label:"Featured",href:"/shop?featured=true"},{label:"On Sale",href:"/shop?sale=true"},{label:"New Arrivals",href:"/shop?new=true"}],j=[{label:"My Account",href:"/dashboard"},{label:"Order Tracking",href:"/dashboard/orders"},{label:"Wishlist",href:"/dashboard/wishlist"},{label:"Cart",href:"/cart"}],w=[{label:"About Us",href:"/about"},{label:"Contact Us",href:"/contact"},{label:"FAQ",href:"/faq"},{label:"Privacy Policy",href:"/privacy"}],v=[{icon:i.Z,title:"Free Shipping",description:"On orders over ৳2000"},{icon:o.Z,title:"Secure Payment",description:"SSL encrypted checkout"},{icon:c.Z,title:"Easy Payment",description:"SSLCommerz & COD"},{icon:d.Z,title:"24/7 Support",description:"Always here to help"}];t.default=function(){let[e,t]=(0,r.useState)(null),a=new Date().getFullYear();(0,r.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("/api/settings");if(e.ok){let a=await e.json();t(a.settings)}}catch(e){console.error("Failed to fetch settings:",e)}},o=[(null==e?void 0:e.facebook)&&{icon:u.Z,href:e.facebook,label:"Facebook"},(null==e?void 0:e.instagram)&&{icon:m.Z,href:e.instagram,label:"Instagram"},(null==e?void 0:e.twitter)&&{icon:h.Z,href:e.twitter,label:"Twitter"},(null==e?void 0:e.youtube)&&{icon:x.Z,href:e.youtube,label:"Youtube"},(null==e?void 0:e.linkedin)&&{icon:p.Z,href:e.linkedin,label:"LinkedIn"}].filter(Boolean),c=o.length>0?o:[{icon:u.Z,href:"#",label:"Facebook"},{icon:m.Z,href:"#",label:"Instagram"},{icon:h.Z,href:"#",label:"Twitter"}];return(0,s.jsxs)("footer",{className:"bg-gray-900 text-white",children:[(0,s.jsx)("div",{className:"border-b border-gray-800",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6 sm:py-8",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:v.map((e,t)=>{let a=e.icon;return(0,s.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-600/10 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(a,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("p",{className:"font-semibold text-sm sm:text-base",children:e.title}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-400 truncate",children:e.description})]})]},t)})})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-6 sm:gap-8",children:[(0,s.jsxs)("div",{className:"col-span-2 lg:col-span-2",children:[(0,s.jsxs)(l.default,{href:"/",className:"inline-flex items-center gap-2 mb-4",children:[(0,s.jsx)(n.T,{width:40,height:40,className:"w-10 h-10 object-contain",priority:!0}),(0,s.jsx)("span",{className:"text-2xl font-bold",children:(null==e?void 0:e.storeName)||"Silk Mart"})]}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 max-w-md",children:(null==e?void 0:e.footerAbout)||"Your premier destination for quality products in Bangladesh. We offer a wide range of fashion, electronics, and lifestyle products with the best prices and fastest delivery."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-400",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{children:(null==e?void 0:e.storeAddress)||"Chittagong, Bangladesh"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-400",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{children:(null==e?void 0:e.storePhone)||"+880 1234 567890"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-gray-400",children:[(0,s.jsx)(b.Z,{className:"w-5 h-5 text-blue-500"}),(0,s.jsx)("span",{children:(null==e?void 0:e.storeEmail)||"support@ctgcollection.com"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-lg mb-4",children:"Shop"}),(0,s.jsx)("ul",{className:"space-y-3",children:y.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-400 hover:text-white transition",children:e.label})},e.href))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-lg mb-4",children:"My Account"}),(0,s.jsx)("ul",{className:"space-y-3",children:j.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-400 hover:text-white transition",children:e.label})},e.href))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-lg mb-4",children:"Company"}),(0,s.jsx)("ul",{className:"space-y-3",children:w.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(l.default,{href:e.href,className:"text-gray-400 hover:text-white transition",children:e.label})},e.href))})]})]})}),(0,s.jsx)("div",{className:"border-t border-gray-800",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm text-center sm:text-left",children:(null==e?void 0:e.copyrightText)||"\xa9 ".concat(a," Silk Mart. All rights reserved.")}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:c.map((e,t)=>{let a=e.icon;return(0,s.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,className:"w-9 h-9 sm:w-10 sm:h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition min-h-[44px] min-w-[44px]",children:(0,s.jsx)(a,{className:"w-4 h-4 sm:w-5 sm:h-5"})},t)})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-xs sm:text-sm flex-wrap justify-center sm:justify-end",children:[(0,s.jsx)("span",{children:"We Accept:"}),(0,s.jsxs)("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-800 rounded text-[10px] sm:text-xs",children:"bKash"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-800 rounded text-[10px] sm:text-xs",children:"Nagad"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-800 rounded text-[10px] sm:text-xs",children:"Visa"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-800 rounded text-[10px] sm:text-xs",children:"COD"})]})]})]})})})]})}},70024:function(e,t,a){"use strict";var s=a(57437),r=a(2265),l=a(99376),n=a(48614),i=a(36891),o=a(82718),c=a(74440),d=a(32489),u=a(44743),m=a(62869),h=a(95186);let x=()=>{let e=sessionStorage.getItem("chat_session_id");return e||(e="chat_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,12)),sessionStorage.setItem("chat_session_id",e)),e};t.default=function(){let e=(0,l.usePathname)(),[t,a]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)([]),[y,j]=(0,r.useState)(""),[w,v]=(0,r.useState)(!1),[N,k]=(0,r.useState)(0),[S,C]=(0,r.useState)(!1),[D,Z]=(0,r.useState)("online"),[T,I]=(0,r.useState)(""),[E,A]=(0,r.useState)("Guest"),[P,_]=(0,r.useState)(""),[F,z]=(0,r.useState)(null),[M,O]=(0,r.useState)(!1),[L,R]=(0,r.useState)(null),[W,H]=(0,r.useState)(null),[B,U]=(0,r.useState)(null),[G,V]=(0,r.useState)(null),[J,q]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(Date.now()),Q=(0,r.useRef)(null),X=(0,r.useRef)(null),$=null==e?void 0:e.startsWith("/admin");(0,r.useEffect)(()=>{let e=localStorage.getItem("chat_cooldown_end");if(e){let t=parseInt(e);t>Date.now()?R(t):localStorage.removeItem("chat_cooldown_end")}},[]),(0,r.useEffect)(()=>{if(!L){H(null);return}let e=()=>{let e=L-Date.now();if(e<=0){R(null),H(null),localStorage.removeItem("chat_cooldown_end"),sessionStorage.removeItem("chat_session_id");return}H("".concat(Math.floor(e/6e4),":").concat(Math.floor(e%6e4/1e3).toString().padStart(2,"0")))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[L]),(0,r.useEffect)(()=>{if(!T)return;let e=async()=>{try{let e=await fetch("/api/admin/chat/restrict?sessionId=".concat(T));if(e.ok){let t=await e.json();if(t.restricted&&t.remainingSeconds>0){let e=Date.now()+1e3*t.remainingSeconds;U({until:e,reason:t.reason})}else U(null),V(null)}}catch(e){console.log("Restriction check failed")}};e();let t=setInterval(e,1e4);return()=>clearInterval(t)},[T]),(0,r.useEffect)(()=>{if(!B){V(null);return}let e=()=>{let e=B.until-Date.now();if(e<=0){U(null),V(null);return}V("".concat(Math.floor(e/6e4),":").concat(Math.floor(e%6e4/1e3).toString().padStart(2,"0")))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[B]),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();if(t.authenticated&&t.user){if("admin"===t.user.role||"superadmin"===t.user.role||"seller"===t.user.role){C(!0);return}A(t.user.name||"Customer"),_(t.user.email||"")}}}catch(e){console.log("Auth check failed")}I(x());try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();Z(t.chatStatus)}}catch(e){console.log("Using default chat status")}b([{id:"welcome",message:"Hello! \uD83D\uDC4B Welcome to CTG Collection. How can we help you today?",senderType:"support",senderName:"Support",createdAt:new Date().toISOString()}]),O(!0)})()},[]);let ee=(0,r.useCallback)(async()=>{if(T&&!S&&!L)try{let e=F?"/api/chat/".concat(T,"?after=").concat(encodeURIComponent(F)):"/api/chat/".concat(T),a=await fetch(e);if(a.ok){let e=await a.json();if(e.messages&&e.messages.length>0){let a=e.messages.filter(e=>"system"===e.senderType);if(a.length>0){b(e=>{let t=new Set(e.map(e=>e.id)),s=a.filter(e=>!t.has(e.id));return s.length>0?[...e,...s]:e});let e=Date.now()+3e5;localStorage.setItem("chat_cooldown_end",e.toString()),R(e),X.current&&clearInterval(X.current);return}b(a=>{let s=new Set(a.map(e=>e.id)),r=e.messages.filter(e=>!s.has(e.id)&&"admin"===e.senderType);return r.length>0?((!t||p)&&k(e=>e+r.length),K(Date.now()),[...a,...r]):a});let s=e.messages.filter(e=>"admin"===e.senderType);s.length>0&&z(s[s.length-1].createdAt)}}}catch(e){console.error("Failed to fetch messages")}},[T,F,S,t,p,L]);(0,r.useEffect)(()=>{if(!T||S||!M||!J){X.current&&(clearInterval(X.current),X.current=null);return}let e=()=>Date.now()-Y>3e5&&(X.current&&(clearInterval(X.current),X.current=null),console.log("Chat polling stopped due to inactivity"),!0);return e()||(X.current=setInterval(()=>{e()||ee()},3e3)),()=>{X.current&&clearInterval(X.current)}},[T,S,M,ee,J,Y,3e5]);let et=()=>{var e;null===(e=Q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{g.length>0&&et()},[g.length]);let ea=async()=>{if(!y.trim()||!T)return;let e="temp_".concat(Date.now());q(!0),K(Date.now());let t={id:e,message:y,senderType:"customer",senderName:E,createdAt:new Date().toISOString()};b(e=>[...e,t]),j(""),v(!0);try{let t=await fetch("/api/chat/".concat(T),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:y,senderType:"customer",senderName:E,customerEmail:P})});if(t.ok){let a=await t.json();b(t=>t.map(t=>t.id===e?{...t,id:a.message.id}:t))}}catch(e){console.error("Failed to send message:",e)}setTimeout(()=>{let e=["Thank you for your message! Our team will get back to you shortly.","Got it! We're looking into this for you.","Thanks for reaching out! A support agent will respond soon."],t=e[Math.floor(Math.random()*e.length)];b(e=>[...e,{id:"auto_".concat(Date.now()),message:t,senderType:"support",senderName:"Support",createdAt:new Date().toISOString()}]),v(!1)},1500)};if(S||$||"offline"===D)return null;let es=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.M,{children:!t&&(0,s.jsxs)(i.E.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{a(!0),f(!1),k(0)},className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full shadow-lg flex items-center justify-center text-white hover:shadow-xl transition-shadow",children:[(0,s.jsx)(o.Z,{className:"w-7 h-7"}),N>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full text-xs flex items-center justify-center font-bold",children:N}),(0,s.jsx)("span",{className:"absolute w-full h-full rounded-full bg-blue-600 animate-ping opacity-25"})]})}),(0,s.jsx)(n.M,{children:t&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1,height:p?"auto":"500px"},exit:{opacity:0,y:100,scale:.8},className:"fixed bottom-6 right-6 z-50 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Live Support"}),(0,s.jsxs)("p",{className:"text-xs text-white/80 flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 ".concat((()=>{switch(D){case"online":return"bg-green-400";case"away":return"bg-yellow-400";default:return"bg-gray-400"}})()," rounded-full")}),(()=>{switch(D){case"online":return"Online";case"away":return"Away - Slow response";default:return"Offline"}})()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>f(!p),className:"p-2 hover:bg-white/10 rounded-lg transition",children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>a(!1),className:"p-2 hover:bg-white/10 rounded-lg transition",children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]})]}),!p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[g.map(e=>(0,s.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("customer"===e.senderType?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] p-3 rounded-2xl ".concat("customer"===e.senderType?"bg-blue-600 text-white rounded-br-none":"bg-white shadow-sm rounded-bl-none"),children:["customer"!==e.senderType&&(0,s.jsx)("p",{className:"text-xs font-semibold text-blue-600 mb-1",children:e.senderName}),(0,s.jsx)("p",{className:"text-sm",children:e.message}),(0,s.jsx)("p",{className:"text-xs mt-1 ".concat("customer"===e.senderType?"text-white/70":"text-gray-400"),children:es(e.createdAt)})]})},e.id)),w&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-white shadow-sm p-3 rounded-2xl rounded-bl-none",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,s.jsx)("div",{ref:Q})]}),(0,s.jsx)("div",{className:"p-4 border-t bg-white",children:L&&W?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("span",{className:"text-2xl",children:"⏳"})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Chat session ended"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"You can start a new chat in"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:W})]}):B&&G?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDEAB"})}),(0,s.jsx)("p",{className:"text-sm text-red-600 font-medium mb-1",children:"Your chat has been restricted"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:B.reason||"Policy violation"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"You can send messages again in"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-1",children:G})]}):(0,s.jsxs)(s.Fragment,{children:["away"===D&&(0,s.jsx)("p",{className:"text-xs text-yellow-600 mb-2 text-center",children:"⚠️ We're currently away. Expect delayed responses."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.I,{value:y,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&ea(),placeholder:"Type your message...",className:"flex-1 rounded-full"}),(0,s.jsx)(m.z,{onClick:ea,size:"icon",className:"rounded-full bg-blue-600 hover:bg-blue-700",disabled:!y.trim(),children:(0,s.jsx)(u.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("p",{className:"text-xs text-center text-gray-400 mt-2",children:["Chatting as ",E]})]})})]})]})})]})}},85995:function(e,t,a){"use strict";a.d(t,{T:function(){return i}});var s=a(57437),r=a(33145),l=a(20922),n=a(94508);function i(e){let{className:t,width:a=40,height:i=40,priority:o=!1,fallbackSrc:c="/logo.png"}=e,{settings:d,loading:u}=(0,l.h)(),m=(null==d?void 0:d.logo)||c;return(0,s.jsx)(r.default,{src:m,alt:(null==d?void 0:d.storeName)||"Silk Mart",width:a,height:i,className:(0,n.cn)("object-contain",t),priority:o})}},605:function(e,t,a){"use strict";a.d(t,{default:function(){return A}});var s=a(57437),r=a(27648),l=a(73247),n=a(88997),i=a(16275),o=a(92369),c=a(40875),d=a(44794),u=a(98728),m=a(47692),h=a(58293),x=a(62869),p=a(85995),f=a(2265),g=a(99376),b=a(62720),y=a(82718),j=a(56439),w=a(94766),v=a(59196),N=a(32489),k=a(18930),S=a(36891),C=a(48614);let D={order:d.Z,promotion:b.Z,chat:y.Z,announcement:j.Z,general:w.Z},Z={order:"bg-blue-100 text-blue-600",promotion:"bg-purple-100 text-purple-600",chat:"bg-green-100 text-green-600",announcement:"bg-orange-100 text-orange-600",general:"bg-gray-100 text-gray-600"};function T(){let[e,t]=(0,f.useState)([]),[a,l]=(0,f.useState)(0),[n,i]=(0,f.useState)(0),[o,c]=(0,f.useState)(!1),[d,u]=(0,f.useState)(!1),[m,h]=(0,f.useState)(!1),p=(0,f.useRef)(null),g=(0,f.useRef)(null);(0,f.useEffect)(()=>{g.current=new Audio("/sounds/notification.mp3"),g.current.volume=.5},[]);let b=(0,f.useCallback)(()=>{g.current&&(g.current.currentTime=0,g.current.play().catch(()=>{})),h(!0),setTimeout(()=>h(!1),1e3)},[]),y=(0,f.useCallback)(async()=>{try{let e=await fetch("/api/notifications?t=".concat(Date.now()),{credentials:"include",cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(e.ok){let a=await e.json(),s=a.unreadCount||0;s>n&&0!==n&&b(),t(a.notifications||[]),l(s),i(s)}}catch(e){console.error("Failed to fetch notifications:",e)}},[n,b]);(0,f.useEffect)(()=>{y();let e=setInterval(y,1e4);return()=>clearInterval(e)},[y]),(0,f.useEffect)(()=>{o&&y()},[o,y]),(0,f.useEffect)(()=>{let e=e=>{p.current&&!p.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let j=async e=>{try{await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"mark_read",notificationId:e})}),t(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t)),l(e=>Math.max(0,e-1))}catch(e){console.error("Failed to mark as read:",e)}},T=async()=>{u(!0);try{await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"mark_all_read"})}),t(e=>e.map(e=>({...e,isRead:!0}))),l(0)}catch(e){console.error("Failed to mark all as read:",e)}finally{u(!1)}},I=async a=>{try{var s;await fetch("/api/notifications?id=".concat(a),{method:"DELETE",credentials:"include"});let r=(null===(s=e.find(e=>e.id===a))||void 0===s?void 0:s.isRead)===!1;t(e=>e.filter(e=>e.id!==a)),r&&l(e=>Math.max(0,e-1))}catch(e){console.error("Failed to delete:",e)}},E=e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/6e4),s=Math.floor(a/60),r=Math.floor(s/24);return a<1?"Just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):r<7?"".concat(r,"d ago"):t.toLocaleDateString()};return(0,s.jsxs)("div",{className:"relative",ref:p,children:[(0,s.jsxs)(S.E.button,{onClick:()=>c(!o),className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",animate:m?"shake":"",variants:{shake:{x:[0,-3,3,-3,3,-2,2,0],rotate:[0,-10,10,-10,10,-5,5,0],transition:{duration:.6}}},children:[(0,s.jsx)(w.Z,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),a>0&&(0,s.jsx)(S.E.span,{initial:{scale:0},animate:{scale:1},className:"absolute -right-0.5 -top-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-lg",children:a>9?"9+":a})]}),(0,s.jsx)(C.M,{children:o&&(0,s.jsxs)(S.E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border dark:border-gray-700 z-50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[a>0&&(0,s.jsxs)(x.z,{size:"sm",variant:"ghost",onClick:T,disabled:d,children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Read All"})]}),(0,s.jsx)("button",{onClick:()=>c(!1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:(0,s.jsx)(N.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:0===e.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,s.jsx)(w.Z,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,s.jsx)("p",{children:"No notifications"})]}):e.map(e=>{let t=D[e.type]||w.Z,a=Z[e.type]||Z.general,l=()=>{e.isRead||j(e.id),c(!1)},n=(0,s.jsx)("div",{className:"p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition ".concat(e.isRead?"":"bg-blue-50/50 dark:bg-blue-900/20"),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat(a),children:(0,s.jsx)(t,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold text-sm truncate dark:text-white",children:e.title}),!e.isRead&&(0,s.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.message}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:E(e.createdAt)})]}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id)},className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full text-gray-400 hover:text-red-600",children:(0,s.jsx)(k.Z,{className:"w-4 h-4"})})]})});return e.link?(0,s.jsx)(r.default,{href:e.link,onClick:l,children:n},e.id):(0,s.jsx)("div",{onClick:l,children:n},e.id)})}),e.length>0&&(0,s.jsx)("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-center",children:(0,s.jsx)(r.default,{href:"/dashboard/notifications",onClick:()=>c(!1),className:"text-sm text-blue-600 hover:underline",children:"View All Notifications"})})]})})]})}var I=a(73390),E=a(92805);function A(){let[e,t]=(0,f.useState)(!1),[a,b]=(0,f.useState)(!1),[y,j]=(0,f.useState)(null),[w,v]=(0,f.useState)(!0),[N,k]=(0,f.useState)(""),[S,C]=(0,f.useState)(!1),D=(0,g.useRouter)(),Z=(0,g.usePathname)(),A=(0,I.x)(e=>e.getTotalItems());(0,f.useEffect)(()=>{C(!0),P()},[]);let P=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();t.authenticated&&t.user&&j(t.user)}}catch(e){console.error("Auth check failed:",e)}finally{v(!1)}},_=async()=>{try{await fetch("/api/auth/me",{method:"POST",credentials:"include"}),j(null),b(!1),localStorage.removeItem("auth-storage"),D.push("/"),D.refresh()}catch(e){console.error("Logout failed:",e)}},F=e=>{e.preventDefault(),N.trim()&&(D.push("/shop?search=".concat(encodeURIComponent(N.trim()))),k(""))};return(0,s.jsx)("nav",{className:"sticky top-0 z-50 w-full max-w-[100vw] border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"w-full max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between gap-4",children:[(0,s.jsxs)(r.default,{href:"/",className:"flex items-center space-x-2 flex-shrink-0",children:[(0,s.jsx)(p.T,{width:56,height:56,className:"w-10 h-10 sm:w-14 sm:h-14",priority:!0}),(0,s.jsx)("span",{className:"text-base sm:text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Silk Mart"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-6 flex-shrink-0",children:[(0,s.jsx)(r.default,{href:"/shop",className:"text-sm font-medium transition-colors whitespace-nowrap ".concat("/shop"!==Z||Z.includes("?")?"hover:text-blue-600":"text-blue-600 font-semibold"),children:"Shop"}),(0,s.jsx)(r.default,{href:"/shop?featured=true",className:"text-sm font-medium transition-colors whitespace-nowrap ".concat(Z.includes("featured=true")?"text-blue-600 font-semibold":"hover:text-blue-600"),children:"Featured"}),(0,s.jsx)(r.default,{href:"/shop?sale=true",className:"text-sm font-medium transition-colors whitespace-nowrap ".concat(Z.includes("sale=true")?"text-blue-600 font-semibold":"hover:text-blue-600"),children:"Sale"}),(0,s.jsx)(r.default,{href:"/about",className:"text-sm font-medium transition-colors whitespace-nowrap ".concat("/about"===Z?"text-blue-600 font-semibold":"hover:text-blue-600"),children:"About"}),(0,s.jsx)(r.default,{href:"/contact",className:"text-sm font-medium transition-colors whitespace-nowrap ".concat("/contact"===Z?"text-blue-600 font-semibold":"hover:text-blue-600"),children:"Contact"})]}),(0,s.jsx)("form",{onSubmit:F,className:"hidden lg:flex flex-1 max-w-sm min-w-[200px] mx-4",children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(l.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)("input",{type:"search",value:N,onChange:e=>k(e.target.value),placeholder:"Search products...",className:"h-10 w-full rounded-full border bg-muted/50 pl-10 pr-4 text-sm focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[y&&"admin"!==y.role&&"superadmin"!==y.role&&"seller"!==y.role&&(0,s.jsx)(T,{}),(0,s.jsx)(x.z,{variant:"ghost",size:"icon",className:"hidden sm:flex",asChild:!0,children:(0,s.jsx)(r.default,{href:"/dashboard/wishlist",children:(0,s.jsx)(n.Z,{className:"h-5 w-5"})})}),(0,s.jsx)(r.default,{href:"/cart",children:(0,s.jsxs)(x.z,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full bg-blue-600 text-[10px] font-bold text-white",children:S?A:0})]})}),w?(0,s.jsx)(x.z,{variant:"ghost",size:"icon",disabled:!0,children:(0,s.jsx)(o.Z,{className:"h-5 w-5 animate-pulse"})}):y?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(x.z,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>b(!a),children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:block max-w-[100px] truncate",children:y.name}),(0,s.jsx)(c.Z,{className:"h-4 w-4"})]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>b(!1)}),(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 rounded-lg bg-white border shadow-lg z-50",children:[(0,s.jsxs)("div",{className:"p-3 border-b",children:[(0,s.jsx)("p",{className:"font-semibold",children:y.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:y.email}),(0,s.jsx)(E.Z,{role:y.role,size:"sm"})]}),(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsxs)(r.default,{href:"/dashboard/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100",onClick:()=>b(!1),children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"My Profile"]}),(0,s.jsxs)(r.default,{href:"/dashboard/orders",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100",onClick:()=>b(!1),children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),"My Orders"]}),("admin"===y.role||"superadmin"===y.role)&&(0,s.jsxs)(r.default,{href:"/admin",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 text-purple-600 font-semibold",onClick:()=>b(!1),children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"Admin Panel"]})]}),(0,s.jsx)("div",{className:"border-t py-2",children:(0,s.jsxs)("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"Logout"]})})]})]})]}):(0,s.jsx)(r.default,{href:"/login",children:(0,s.jsxs)(x.z,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:block",children:"Login"})]})}),(0,s.jsx)(x.z,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!e),children:(0,s.jsx)(h.Z,{className:"h-5 w-5"})})]})]}),e&&(0,s.jsxs)("div",{className:"border-t py-4 md:hidden",children:[(0,s.jsx)("form",{onSubmit:F,className:"px-3 pb-4 border-b mb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)("input",{type:"search",value:N,onChange:e=>k(e.target.value),placeholder:"Search products...",className:"h-12 w-full rounded-xl border bg-muted/50 pl-11 pr-4 text-base focus:border-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600/20"})]})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1 px-1",children:[(0,s.jsx)(r.default,{href:"/shop",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors",onClick:()=>t(!1),children:"Shop"}),(0,s.jsx)(r.default,{href:"/shop?featured=true",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors",onClick:()=>t(!1),children:"⭐ Featured"}),(0,s.jsx)(r.default,{href:"/shop?sale=true",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors text-red-600",onClick:()=>t(!1),children:"\uD83C\uDFF7️ Sale"}),(0,s.jsx)(r.default,{href:"/dashboard/wishlist",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors",onClick:()=>t(!1),children:"❤️ Wishlist"}),(0,s.jsx)("div",{className:"my-2 border-t"}),y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{href:"/dashboard/profile",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors",onClick:()=>t(!1),children:"\uD83D\uDC64 My Profile"}),(0,s.jsx)(r.default,{href:"/dashboard/orders",className:"rounded-xl px-4 py-3 text-base font-medium hover:bg-muted active:bg-muted/80 transition-colors",onClick:()=>t(!1),children:"\uD83D\uDCE6 My Orders"}),("admin"===y.role||"superadmin"===y.role)&&(0,s.jsx)(r.default,{href:"/admin",className:"rounded-xl px-4 py-3 text-base font-medium text-purple-600 hover:bg-purple-50 active:bg-purple-100 transition-colors",onClick:()=>t(!1),children:"⚙️ Admin Panel"}),(0,s.jsx)("button",{onClick:_,className:"rounded-xl px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 active:bg-red-100 text-left transition-colors w-full",children:"\uD83D\uDEAA Logout"})]}):(0,s.jsx)(r.default,{href:"/login",className:"rounded-xl px-4 py-3 text-base font-medium text-blue-600 hover:bg-blue-50 active:bg-blue-100 transition-colors",onClick:()=>t(!1),children:"\uD83D\uDD10 Login / Register"})]})]})]})})}},46304:function(e,t,a){"use strict";a.d(t,{PWAInstallPrompt:function(){return m}});var s=a(57437),r=a(2265),l=a(48614),n=a(36891),i=a(33388),o=a(32489),c=a(74394),d=a(92735),u=a(62869);function m(){let[e,t]=(0,r.useState)(null),[a,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(localStorage.getItem("pwa_prompt_dismissed"))return;if(window.matchMedia("(display-mode: standalone)").matches){x(!0);return}let e=/iPad|iPhone|iPod/.test(navigator.userAgent);f(e);let a=e=>{e.preventDefault(),t(e),setTimeout(()=>{m(!0)},3e4)};return window.addEventListener("beforeinstallprompt",a),e&&setTimeout(()=>{m(!0)},3e4),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]);let g=async()=>{if(e)try{await e.prompt();let{outcome:a}=await e.userChoice;"accepted"===a&&x(!0),m(!1),t(null)}catch(e){console.error("Install error:",e)}},b=()=>{m(!1),localStorage.setItem("pwa_prompt_dismissed","true")};return!a||h?null:(0,s.jsx)(l.M,{children:(0,s.jsx)(n.E.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 z-50",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold",children:"Add to Home Screen"}),(0,s.jsx)("p",{className:"text-sm text-white/80",children:"Quick access anytime"})]})]}),(0,s.jsx)("button",{onClick:b,className:"p-1 hover:bg-white/20 rounded-full transition",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})})]})}),(0,s.jsx)("div",{className:"p-4",children:p?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Install CTG Collection app on your iPhone:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold",children:"1"}),(0,s.jsxs)("span",{children:["Tap ",(0,s.jsx)(c.Z,{className:"w-4 h-4 inline"})," Share button"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold",children:"2"}),(0,s.jsx)("span",{children:'Scroll and tap "Add to Home Screen"'})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold",children:"3"}),(0,s.jsx)("span",{children:'Tap "Add" to confirm'})]})]})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Install our app for faster shopping and offline access!"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(u.z,{onClick:g,className:"flex-1 gap-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Install App"]}),(0,s.jsx)(u.z,{onClick:b,variant:"ghost",children:"Later"})]})]})})]})})})}},90882:function(e,t,a){"use strict";a.d(t,{CompareBar:function(){return b}});var s=a(57437),r=a(2265),l=a(36891),n=a(48614),i=a(84502),o=a(40875),c=a(22135),d=a(32489),u=a(99397),m=a(62869),h=a(33145),x=a(94508),p=a(3011),f=a(89134);let g=(0,p.U)()((0,f.tJ)((e,t)=>({products:[],addProduct:a=>{let{products:s}=t();if(s.length>=4){alert("Maximum 4 products can be compared");return}s.some(e=>e.id===a.id)||e({products:[...s,a]})},removeProduct:a=>{e({products:t().products.filter(e=>e.id!==a)})},clearAll:()=>e({products:[]})}),{name:"compare-products"}));function b(){let{products:e,removeProduct:t,clearAll:a}=g(),[p,f]=(0,r.useState)(!1);return 0===e.length?null:(0,s.jsx)(l.E.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 z-40 bg-white dark:bg-gray-800 shadow-2xl border-t",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 cursor-pointer",onClick:()=>f(!p),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"}),(0,s.jsxs)("span",{className:"font-semibold",children:["Compare (",e.length,"/4)"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.z,{size:"sm",onClick:e=>{e.stopPropagation(),window.location.href="/compare"},disabled:e.length<2,children:"Compare Now"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),a()},className:"text-sm text-gray-500 hover:text-red-500",children:"Clear All"}),p?(0,s.jsx)(o.Z,{className:"w-5 h-5"}):(0,s.jsx)(c.Z,{className:"w-5 h-5"})]})]}),(0,s.jsx)(n.M,{children:p&&(0,s.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"pb-4 overflow-hidden",children:(0,s.jsxs)("div",{className:"flex gap-4 overflow-x-auto py-2",children:[e.map(e=>(0,s.jsxs)("div",{className:"flex-shrink-0 w-32 relative group",children:[(0,s.jsxs)("div",{className:"relative w-32 h-32 bg-gray-100 rounded-lg overflow-hidden",children:[e.image&&(0,s.jsx)(h.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,s.jsx)("p",{className:"text-xs font-medium mt-2 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-blue-600 font-bold",children:(0,x.T4)(e.salePrice||e.price)})]},e.id)),e.length<4&&(0,s.jsx)("div",{className:"flex-shrink-0 w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 mx-auto mb-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Add more"})]})})]})})})]})})}},17385:function(e,t,a){"use strict";a.d(t,{Providers:function(){return c}});var s=a(57437),r=a(2265);let l=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,r.useState)("light"),[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!0),document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),n("light")},[]);let c=e=>{n(e),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e)};return i?(0,s.jsx)(l.Provider,{value:{theme:a,toggleTheme:()=>{c("light"===a?"dark":"light")},setTheme:c},children:t}):null}var i=a(24895),o=a(80605);function c(e){let{children:t}=e;return(0,s.jsx)(o.SessionProvider,{children:(0,s.jsx)(n,{children:(0,s.jsx)(i.V,{children:t})})})}},92805:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var s=a(57437),r=a(76399),l=a(88906),n=a(66927),i=a(92369),o=a(98617),c=a(61476),d=a(94508);function u(e){let{config:t,size:a,showIcon:r,className:l}=e,n=t.icon;return(0,s.jsxs)("div",{className:(0,d.cn)("inline-flex items-center justify-center rounded-full border shadow-sm transition-all duration-300 select-none overflow-hidden relative",t.container,{sm:"px-2 py-0.5 text-xs gap-1",md:"px-3 py-1 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"}[a],l),children:[r&&(0,s.jsx)(n,{className:(0,d.cn)("sm"===a?"w-3 h-3":"md"===a?"w-4 h-4":"w-5 h-5")}),(0,s.jsx)("span",{className:(0,d.cn)("relative z-10",t.text),children:t.label})]})}function m(e){let{role:t,tier:a,className:m,size:h="md",showIcon:x=!0}=e,p=(null==t?void 0:t.toLowerCase())||"customer",f=null==a?void 0:a.toLowerCase(),g={superadmin:{container:"text-white border-red-500 animate-fire shadow-lg",text:"font-bold tracking-wide drop-shadow-md",icon:r.Z,label:"Super Admin"},admin:{container:"text-yellow-900 border-yellow-500 animate-gold shadow-md",text:"font-bold drop-shadow-sm",icon:l.Z,label:"Admin"},seller:{container:"text-blue-900 border-blue-400 animate-water shadow-md",text:"font-semibold",icon:n.Z,label:"Seller"},customer:{container:"text-gray-700 border-gray-200 bg-gray-50",text:"font-medium",icon:i.Z,label:"Customer"}},b={legendary:{container:"text-amber-900 border-amber-500 animate-legendary-tier shadow-xl",text:"font-black tracking-wider",icon:o.Z,label:"Legendary"},obsidian:{container:"animate-obsidian-tier shadow-lg",text:"font-bold tracking-wide",icon:c.Z,label:"Obsidian"},sapphire:{container:"text-blue-900 border-blue-500 animate-sapphire-tier shadow-lg",text:"font-bold tracking-wide",icon:c.Z,label:"Sapphire"},ruby:{container:"text-red-900 border-red-500 animate-ruby-tier shadow-lg",text:"font-bold tracking-wide",icon:c.Z,label:"Ruby"},emerald:{container:"text-emerald-900 border-emerald-500 animate-emerald-tier shadow-lg",text:"font-bold tracking-wide",icon:c.Z,label:"Emerald"},diamond:{container:"text-cyan-900 border-cyan-400 animate-diamond-tier shadow-lg",text:"font-bold tracking-wide",icon:c.Z,label:"Diamond"},platinum:{container:"text-gray-900 border-gray-400 animate-platinum-tier shadow-md",text:"font-semibold",icon:o.Z,label:"Platinum"},gold:{container:"text-yellow-900 border-yellow-500 animate-gold-tier shadow-md",text:"font-semibold",icon:o.Z,label:"Gold"},silver:{container:"text-gray-700 border-gray-300 animate-silver-tier shadow-sm",text:"font-medium",icon:l.Z,label:"Silver"},bronze:{container:"text-orange-900 border-orange-300 animate-bronze-tier shadow-sm",text:"font-medium",icon:l.Z,label:"Bronze"}},y=g[p]||g.customer,j=f?b[f]:null;return"customer"===p&&j?(0,s.jsxs)("div",{className:(0,d.cn)("flex items-center gap-2 flex-wrap",m),children:[(0,s.jsx)(u,{config:y,size:h,showIcon:x}),(0,s.jsx)(u,{config:j,size:h,showIcon:x})]}):(0,s.jsx)(u,{config:y,size:h,showIcon:x,className:m})}},86888:function(e,t,a){"use strict";a.d(t,{WhatsAppChat:function(){return d}});var s=a(57437),r=a(2265),l=a(32489),n=a(82718),i=a(44743),o=a(36891),c=a(48614);function d(e){let{phoneNumber:t="8801991523289",defaultMessage:a="Hi! I have a question about your products.",position:d="bottom-right"}=e,[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(a),[p,f]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();t.authenticated&&["admin","superadmin","seller"].includes(t.user.role)&&f(!1)}}catch(e){console.error("Role check failed",e)}})()},[]),!p)return null;let g=()=>{try{if(!h.trim())return;let e=encodeURIComponent(h),a="https://wa.me/".concat(t,"?text=").concat(e);window.open(a,"_blank","noopener,noreferrer"),m(!1)}catch(e){console.error("WhatsApp chat error:",e)}},b="bottom-right"===d?"right-[5.5rem] md:right-24":"left-4 md:left-6";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.E.button,{onClick:()=>m(!u),className:"fixed bottom-4 md:bottom-6 ".concat(b," z-50 w-14 h-14 rounded-full bg-green-500 text-white shadow-lg hover:bg-green-600 transition-colors flex items-center justify-center"),whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"WhatsApp Chat",children:(0,s.jsx)(c.M,{mode:"wait",children:u?(0,s.jsx)(o.E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})},"close"):(0,s.jsx)(o.E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},children:(0,s.jsx)(n.Z,{className:"w-6 h-6"})},"whatsapp")})}),(0,s.jsx)(c.M,{children:u&&(0,s.jsxs)(o.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-24 ".concat(b," z-50 w-80 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden"),children:[(0,s.jsx)("div",{className:"bg-green-500 p-4 text-white",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(n.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold",children:"CTG Collection"}),(0,s.jsx)("p",{className:"text-sm text-green-100",children:"Usually replies in minutes"})]})]})}),(0,s.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 min-h-[100px]",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"\uD83D\uDC4B Hi! How can we help you today? Click send to start a conversation on WhatsApp."})})}),(0,s.jsxs)("div",{className:"p-4 border-t",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-2 rounded-full border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",onKeyDown:e=>"Enter"===e.key&&g()}),(0,s.jsx)("button",{onClick:g,disabled:!h.trim(),className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:(0,s.jsx)(i.Z,{className:"w-4 h-4"})})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by WhatsApp"})]})]})})]})}},59556:function(e,t,a){"use strict";a.d(t,{Toaster:function(){return g}});var s=a(57437),r=a(2265),l=a(10129),n=a(90535),i=a(32489),o=a(94508);let c=l.zt,d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.l_,{ref:t,className:(0,o.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});d.displayName=l.l_.displayName;let u=(0,n.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=r.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)(l.fC,{ref:t,className:(0,o.cn)(u({variant:r}),a),...n})});m.displayName=l.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.aU,{ref:t,className:(0,o.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=l.aU.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.x8,{ref:t,className:(0,o.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=l.x8.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,o.cn)("text-sm font-semibold",a),...r})});x.displayName=l.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,o.cn)("text-sm opacity-90",a),...r})});p.displayName=l.dk.displayName;var f=a(35153);function g(){let{toasts:e}=(0,f.pm)();return(0,s.jsxs)(c,{children:[e.map(function(e){let{id:t,title:a,description:r,action:l,...n}=e;return(0,s.jsxs)(m,{...n,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(x,{children:a}),r&&(0,s.jsx)(p,{children:r})]}),l,(0,s.jsx)(h,{})]},t)}),(0,s.jsx)(d,{})]})}},24895:function(e,t,a){"use strict";a.d(t,{V:function(){return n},p:function(){return o}});var s=a(57437),r=a(2265);let l=r.createContext(void 0);function n(e){let{children:t}=e,[a,n]=r.useState([]),o=r.useCallback(e=>{let t=Math.random().toString(36).substring(2,9),a={...e,id:t};n(e=>[...e,a]),setTimeout(()=>{n(e=>e.filter(e=>e.id!==t))},e.duration||4e3)},[]),c=r.useCallback(e=>{n(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(l.Provider,{value:{toasts:a,toast:o,dismiss:c},children:[t,(0,s.jsx)(i,{toasts:a,dismiss:c})]})}function i(e){let{toasts:t,dismiss:a}=e;return 0===t.length?null:(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-md",children:t.map(e=>{var t;return(0,s.jsxs)("div",{className:"p-4 rounded-lg shadow-lg transform transition-all duration-300 ".concat(null!==(t=e.className)&&void 0!==t?t:"destructive"===e.variant?"bg-red-500 text-white":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"),onClick:()=>a(e.id),children:[e.title&&(0,s.jsx)("p",{className:"font-semibold ".concat("destructive"===e.variant?"text-white":"text-gray-900 dark:text-white"),children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-sm ".concat("destructive"===e.variant?"text-white/90":"text-gray-600 dark:text-gray-300"),children:e.description})]},e.id)})})}function o(){let e=r.useContext(l);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},35153:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let r=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=i(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(c);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},20922:function(e,t,a){"use strict";a.d(t,{h:function(){return n}});var s=a(2265);let r=null,l=null;function n(){let[e,t]=(0,s.useState)(r),[a,n]=(0,s.useState)(!r);return(0,s.useEffect)(()=>{if(r){t(r),n(!1);return}l||(l=fetch("/api/settings").then(e=>e.json()).then(e=>(r=e.settings,e.settings)).catch(e=>(console.error("Failed to load settings",e),null)).finally(()=>{l=null})),l.then(e=>{e&&t(e),n(!1)})},[]),{settings:e,loading:a}}},73390:function(e,t,a){"use strict";a.d(t,{x:function(){return l}});var s=a(3011),r=a(89134);let l=(0,s.U)()((0,r.tJ)((e,t)=>({items:[],appliedCoupon:null,_hasHydrated:!1,setHasHydrated:t=>{e({_hasHydrated:t})},addItem:a=>{let s=t().items,r=s.find(e=>e.productId===a.productId&&e.variantId===a.variantId);r?e({items:s.map(e=>e.id===r.id?{...e,quantity:e.quantity+a.quantity}:e)}):e({items:[...s,{...a,id:"".concat(a.productId,"-").concat(a.variantId||"default","-").concat(Date.now())}]})},removeItem:a=>{e({items:t().items.filter(e=>e.id!==a)})},updateQuantity:(a,s)=>{s<=0?t().removeItem(a):e({items:t().items.map(e=>e.id===a?{...e,quantity:s}:e)})},clearCart:()=>{e({items:[],appliedCoupon:null})},applyCoupon:t=>{e({appliedCoupon:t})},removeCoupon:()=>{e({appliedCoupon:null})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getDiscount:()=>{let e=t().appliedCoupon;if(!e)return 0;let a=t().getTotalPrice();if("percentage"===e.discountType){let t=a*e.discountValue/100;return e.maxDiscount&&t>e.maxDiscount&&(t=e.maxDiscount),Math.round(t)}return e.discountValue}}),{name:"cart-storage",storage:(0,r.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},47960:function(){}},function(e){e.O(0,[3587,5566,8590,6891,5650,3145,6053,9923,5151,8513,4453,3053,2971,2117,1744],function(){return e(e.s=305)}),_N_E=e.O()}]);