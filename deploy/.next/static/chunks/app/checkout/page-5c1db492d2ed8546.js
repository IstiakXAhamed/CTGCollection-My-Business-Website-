(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{56324:function(e,t,r){Promise.resolve().then(r.bind(r,16348))},16348:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var a=r(57437),s=r(2265),n=r(36891),i=r(51817),l=r(16275),o=r(83774),d=r(40340),c=r(88226),u=r(92934),m=r(62869),h=r(66070),p=r(95186),x=r(26815),g=r(74991),f=r(27648),b=r(99376),j=r(94508);let v=Object.values({Barishal:["Barguna","Barishal","Bhola","Jhalokati","Patuakhali","Pirojpur"],Chattogram:["Bandarban","Brahmanbaria","Chandpur","Chattogram","Comilla","Cox's Bazar","Feni","Khagrachhari","Lakshmipur","Noakhali","Rangamati"],Dhaka:["Dhaka","Faridpur","Gazipur","Gopalganj","Kishoreganj","Madaripur","Manikganj","Munshiganj","Narayanganj","Narsingdi","Rajbari","Shariatpur","Tangail"],Khulna:["Bagerhat","Chuadanga","Jessore","Jhenaidah","Khulna","Kushtia","Magura","Meherpur","Narail","Satkhira"],Mymensingh:["Jamalpur","Mymensingh","Netrokona","Sherpur"],Rajshahi:["Bogra","Chapainawabganj","Joypurhat","Naogaon","Natore","Nawabganj","Pabna","Rajshahi","Sirajganj"],Rangpur:["Dinajpur","Gaibandha","Kurigram","Lalmonirhat","Nilphamari","Panchagarh","Rangpur","Thakurgaon"],Sylhet:["Habiganj","Moulvibazar","Sunamganj","Sylhet"]}).flat().sort(),y=["Bandarban","Brahmanbaria","Chandpur","Chattogram","Comilla","Cox's Bazar","Feni","Khagrachhari","Lakshmipur","Noakhali","Rangamati"],N={INSIDE_CTG:80,OUTSIDE_CTG:130},C=/^(?:\+?880)?0?1[3-9]\d{8}$/;var k=r(73390);function w(){let e=(0,b.useRouter)(),[t,r]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!0),[D,I]=(0,s.useState)(!1),[E,F]=(0,s.useState)([]),[P,R]=(0,s.useState)("cod"),[T,z]=(0,s.useState)({}),[_,O]=(0,s.useState)({bkashEnabled:!0,bkashNumber:"01991523289",nagadEnabled:!0,nagadNumber:"01991523289",rocketEnabled:!0,rocketNumber:"01991523289"}),[M,B]=(0,s.useState)({name:"",email:"",phone:"",address:"",city:"",district:"",postalCode:""}),q=(0,k.x)(e=>e.items),X=(0,k.x)(e=>e._hasHydrated);(0,s.useEffect)(()=>{X&&(console.log("Checkout: cart hydrated with",q.length,"items"),F(q),S(!1))},[q,X]),(0,s.useEffect)(()=>{K(),H();let e=setTimeout(()=>{w&&(F(k.x.getState().items),S(!1))},500);return()=>clearTimeout(e)},[]);let H=async()=>{try{let a=await fetch("/api/settings");if(a.ok){var e,t,r;let s=await a.json();O({bkashEnabled:null===(e=s.bkashEnabled)||void 0===e||e,bkashNumber:s.bkashNumber||"01991523289",nagadEnabled:null===(t=s.nagadEnabled)||void 0===t||t,nagadNumber:s.nagadNumber||"01991523289",rocketEnabled:null===(r=s.rocketEnabled)||void 0===r||r,rocketNumber:s.rocketNumber||"01991523289"})}}catch(e){console.error("Failed to load payment settings:",e)}},K=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();t.authenticated&&t.user&&(I(!0),B(e=>({...e,name:t.user.name||e.name,email:t.user.email||e.email,phone:t.user.phone||e.phone})))}}catch(e){console.error("Failed to load user info:",e)}},Z=(0,s.useMemo)(()=>{var e;return(e=M.district)&&y.some(t=>t.toLowerCase()===e.toLowerCase())?N.INSIDE_CTG:N.OUTSIDE_CTG},[M.district]),A=y.some(e=>e.toLowerCase()===M.district.toLowerCase()),L=(0,k.x)(e=>e.appliedCoupon),J=E.reduce((e,t)=>e+t.price*t.quantity,0),G=0,U=!1;L&&("free_shipping"===L.discountType?(U=!0,G=0):"percentage"===L.discountType?(G=Math.round(L.discountValue/100*J),L.maxDiscount&&G>L.maxDiscount&&(G=L.maxDiscount)):G=L.discountValue);let Y=U?0:Z,V=Math.max(0,J-G+Y),$=()=>{let e={};return M.name.trim()?M.name.trim().length<3&&(e.name="Name must be at least 3 characters"):e.name="Full name is required",M.phone.trim()?!function(e){let t=e.replace(/[\s\-]/g,"");return C.test(t)}(M.phone)&&(e.phone="Enter valid BD phone (01XXXXXXXXX)"):e.phone="Phone number is required",D||M.email.trim()?D||!M.email||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.email)||(e.email="Enter a valid email address"):e.email="Email is required for guest checkout",M.address.trim()?M.address.trim().length<10&&(e.address="Please enter complete address"):e.address="Address is required",M.district||(e.district="Please select a district"),M.city.trim()||(e.city="City/Upazila is required"),z(e),0===Object.keys(e).length},W=async t=>{if(null==t||t.preventDefault(),$()){if(0===E.length){alert("Your cart is empty");return}r(!0);try{var a,s;let t=await fetch("/api/orders/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({shippingDetails:M,paymentMethod:P,cartItems:E.map(e=>({productId:e.productId,name:e.name,quantity:e.quantity,price:e.price,variantId:e.variantId||null,size:e.size,color:e.color})),total:V,subtotal:J,shippingCost:Y,discount:G,couponCode:(null==L?void 0:L.code)||null})}),r=await t.json();if(!t.ok){if(r.requiresAuth){e.push("/login?redirect=/checkout");return}throw Error(r.message||r.error||"Failed to create order")}if(k.x.getState().clearCart(),"cod"===P){e.push("/order/success?orderId=".concat(r.orderId||(null===(a=r.order)||void 0===a?void 0:a.id)));return}if("sslcommerz"===P){let e=await fetch("/api/payment/init",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({orderId:r.orderId||(null===(s=r.order)||void 0===s?void 0:s.id),amount:V,customerInfo:{name:M.name,email:M.email,phone:M.phone}})}),t=await e.json();if(t.success&&t.GatewayPageURL)window.location.href=t.GatewayPageURL;else throw Error(t.message||"Payment initialization failed")}}catch(e){console.error("Checkout error:",e),alert(e.message||"Something went wrong. Please try again.")}finally{r(!1)}}};return w?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-8 h-8 animate-spin text-blue-600"})}):0===E.length?(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)(l.Z,{className:"w-16 h-16 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-xl text-muted-foreground",children:"Your cart is empty"}),(0,a.jsx)(m.z,{asChild:!0,children:(0,a.jsx)(f.default,{href:"/shop",children:"Continue Shopping"})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-6xl",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-1 sm:mb-2",children:"Checkout"}),(0,a.jsxs)("p",{className:"text-sm sm:text-base text-muted-foreground",children:[E.length," items in your order"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),"Shipping Information"]})}),(0,a.jsx)(h.aY,{children:(0,a.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"name",children:"Full Name *"}),(0,a.jsx)(p.I,{id:"name",value:M.name,onChange:e=>B({...M,name:e.target.value}),className:T.name?"border-red-500":""}),T.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"phone",children:"Phone Number *"}),(0,a.jsx)(p.I,{id:"phone",type:"tel",placeholder:"01XXXXXXXXX",value:M.phone,onChange:e=>B({...M,phone:e.target.value}),className:T.phone?"border-red-500":""}),T.phone&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.phone})]})]}),!D&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"email",children:"Email * (for order updates)"}),(0,a.jsx)(p.I,{id:"email",type:"email",placeholder:"your@email.com",value:M.email,onChange:e=>B({...M,email:e.target.value}),className:T.email?"border-red-500":""}),T.email&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"address",children:"Full Address *"}),(0,a.jsx)(p.I,{id:"address",placeholder:"House No, Street, Area/Village",value:M.address,onChange:e=>B({...M,address:e.target.value}),className:T.address?"border-red-500":""}),T.address&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.address})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"district",children:"District *"}),(0,a.jsxs)("select",{id:"district",value:M.district,onChange:e=>B({...M,district:e.target.value}),className:"w-full h-10 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(T.district?"border-red-500":"border-gray-200"),children:[(0,a.jsx)("option",{value:"",children:"Select District"}),v.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),T.district&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.district})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"city",children:"City/Upazila *"}),(0,a.jsx)(p.I,{id:"city",placeholder:"e.g. Agrabad",value:M.city,onChange:e=>B({...M,city:e.target.value}),className:T.city?"border-red-500":""}),T.city&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:T.city})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(x._,{htmlFor:"postalCode",children:"Postal Code"}),(0,a.jsx)(p.I,{id:"postalCode",placeholder:"e.g. 4000",value:M.postalCode,onChange:e=>B({...M,postalCode:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg flex items-center gap-3 ".concat(A?"bg-green-50 border border-green-200":"bg-blue-50 border border-blue-200"),children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 ".concat(A?"text-green-600":"text-blue-600")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium ".concat(A?"text-green-700":"text-blue-700"),children:M.district?A?"Chittagong Division - ৳80 Shipping":"Outside Chittagong - ৳130 Shipping":"Select district to see shipping cost"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Delivery within 3-5 business days"})]})]})]})})]}),(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),"Payment Method"]})}),(0,a.jsx)(h.aY,{children:(0,a.jsxs)(g.E,{value:P,onValueChange:R,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 border rounded-lg p-3 sm:p-4 mb-2 sm:mb-3 cursor-pointer ".concat("sslcommerz"===P?"border-blue-500 bg-blue-50":"hover:bg-gray-50"),children:[(0,a.jsx)(g.m,{value:"sslcommerz",id:"sslcommerz"}),(0,a.jsxs)(x._,{htmlFor:"sslcommerz",className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base",children:"\uD83D\uDCB3 Online Payment (SSLCommerz)"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pay with bKash, Nagad, Cards, or Banking"})]})]}),_.bkashEnabled&&(0,a.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 mb-2 sm:mb-3 cursor-pointer ".concat("bkash"===P?"border-pink-500 bg-pink-50":"hover:bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.m,{value:"bkash",id:"bkash"}),(0,a.jsxs)(x._,{htmlFor:"bkash",className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base text-pink-700",children:"\uD83D\uDCF1 bKash (Send Money)"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Send money to our personal bKash number"})]})]}),"bkash"===P&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-pink-100 rounded-lg text-sm space-y-2",children:[(0,a.jsxs)("p",{className:"font-bold text-pink-800",children:["\uD83D\uDCF2 bKash Number: ",_.bkashNumber]}),(0,a.jsxs)("div",{className:"text-pink-700 text-xs space-y-1",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"How to pay:"})}),(0,a.jsx)("p",{children:"1️⃣ Open bKash App → Send Money"}),(0,a.jsxs)("p",{children:["2️⃣ Enter: ",(0,a.jsx)("strong",{children:_.bkashNumber})]}),(0,a.jsxs)("p",{children:["3️⃣ Amount: ",(0,a.jsxs)("strong",{children:["৳",V]})]}),(0,a.jsxs)("p",{children:["4️⃣ Reference: ",(0,a.jsx)("em",{children:"Your phone number"})]}),(0,a.jsx)("p",{children:"5️⃣ Complete the transaction"}),(0,a.jsx)("p",{className:"mt-2 text-pink-800 font-semibold",children:"⚠️ Keep the Transaction ID for confirmation!"})]})]})]}),_.nagadEnabled&&(0,a.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 mb-2 sm:mb-3 cursor-pointer ".concat("nagad"===P?"border-orange-500 bg-orange-50":"hover:bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.m,{value:"nagad",id:"nagad"}),(0,a.jsxs)(x._,{htmlFor:"nagad",className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base text-orange-700",children:"\uD83D\uDCF1 Nagad (Send Money)"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Send money to our personal Nagad number"})]})]}),"nagad"===P&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-orange-100 rounded-lg text-sm space-y-2",children:[(0,a.jsxs)("p",{className:"font-bold text-orange-800",children:["\uD83D\uDCF2 Nagad Number: ",_.nagadNumber]}),(0,a.jsxs)("div",{className:"text-orange-700 text-xs space-y-1",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"How to pay:"})}),(0,a.jsx)("p",{children:"1️⃣ Open Nagad App → Send Money"}),(0,a.jsxs)("p",{children:["2️⃣ Enter: ",(0,a.jsx)("strong",{children:_.nagadNumber})]}),(0,a.jsxs)("p",{children:["3️⃣ Amount: ",(0,a.jsxs)("strong",{children:["৳",V]})]}),(0,a.jsxs)("p",{children:["4️⃣ Reference: ",(0,a.jsx)("em",{children:"Your phone number"})]}),(0,a.jsx)("p",{children:"5️⃣ Complete the transaction"}),(0,a.jsx)("p",{className:"mt-2 text-orange-800 font-semibold",children:"⚠️ Keep the Transaction ID for confirmation!"})]})]})]}),_.rocketEnabled&&(0,a.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 mb-2 sm:mb-3 cursor-pointer ".concat("rocket"===P?"border-purple-500 bg-purple-50":"hover:bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.m,{value:"rocket",id:"rocket"}),(0,a.jsxs)(x._,{htmlFor:"rocket",className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base text-purple-700",children:"\uD83D\uDE80 Rocket (Send Money)"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Send money to our personal Rocket number"})]})]}),"rocket"===P&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-purple-100 rounded-lg text-sm space-y-2",children:[(0,a.jsxs)("p",{className:"font-bold text-purple-800",children:["\uD83D\uDCF2 Rocket Number: ",_.rocketNumber]}),(0,a.jsxs)("div",{className:"text-purple-700 text-xs space-y-1",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"How to pay:"})}),(0,a.jsx)("p",{children:"1️⃣ Dial *322# or open Rocket App"}),(0,a.jsx)("p",{children:"2️⃣ Select Send Money"}),(0,a.jsxs)("p",{children:["3️⃣ Enter: ",(0,a.jsxs)("strong",{children:[_.rocketNumber,"8"]})," (add 8 at end)"]}),(0,a.jsxs)("p",{children:["4️⃣ Amount: ",(0,a.jsxs)("strong",{children:["৳",V]})]}),(0,a.jsxs)("p",{children:["5️⃣ Reference: ",(0,a.jsx)("em",{children:"Your phone number"})]}),(0,a.jsx)("p",{className:"mt-2 text-purple-800 font-semibold",children:"⚠️ Keep the Transaction ID for confirmation!"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 border rounded-lg p-3 sm:p-4 cursor-pointer ".concat("cod"===P?"border-green-500 bg-green-50":"hover:bg-gray-50"),children:[(0,a.jsx)(g.m,{value:"cod",id:"cod"}),(0,a.jsxs)(x._,{htmlFor:"cod",className:"flex-1 cursor-pointer",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base text-green-700",children:"\uD83D\uDCB5 Cash on Delivery"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pay when you receive the product"})]})]})]})})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(h.Zb,{className:"sticky top-24",children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Order Summary"})}),(0,a.jsxs)(h.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:E.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex-1",children:[e.name," \xd7 ",e.quantity,(e.size||e.color)&&(0,a.jsxs)("span",{className:"text-xs block",children:[e.size&&"Size: ".concat(e.size),e.size&&e.color&&" \xb7 ",e.color&&"Color: ".concat(e.color)]})]}),(0,a.jsx)("span",{className:"font-semibold",children:(0,j.T4)(e.price*e.quantity)})]},e.id))}),(0,a.jsxs)("div",{className:"border-t pt-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,a.jsx)("span",{children:(0,j.T4)(J)})]}),L&&(G>0||U)&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[U?"\uD83D\uDE9A Free Shipping":"Discount",(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100",children:L.code})]}),(0,a.jsx)("span",{className:"font-semibold",children:U?"FREE (was ".concat((0,j.T4)(Z),")"):"-".concat((0,j.T4)(G))})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:["Shipping",M.district&&!U&&(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat(A?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:A?"CTG":"Outside"}),U&&(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"\uD83C\uDF89 FREE"})]}),(0,a.jsx)("span",{className:U?"text-green-600 font-semibold":"",children:U?"Free":(0,j.T4)(Y)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{className:"text-blue-600",children:(0,j.T4)(V)})]})]}),(0,a.jsx)(m.z,{onClick:W,size:"lg",className:"w-full",disabled:t,children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 mr-2"}),"Place Order"]})}),(0,a.jsx)(m.z,{asChild:!0,variant:"outline",size:"lg",className:"w-full",children:(0,a.jsx)(f.default,{href:"/cart",children:"← Back to Cart"})}),(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"By placing your order, you agree to our Terms of Service and Privacy Policy"})]})]})})]})]})})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return d}});var a=r(57437),s=r(2265),n=r(37053),i=r(90535),l=r(94508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...c})});d.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var a=r(57437),s=r(2265),n=r(94508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(57437),s=r(2265),n=r(94508);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},26815:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),s=r(2265),n=r(370),i=r(90535),l=r(94508);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),r),...s})});d.displayName=n.f.displayName},74991:function(e,t,r){"use strict";r.d(t,{E:function(){return o},m:function(){return d}});var a=r(57437),s=r(2265),n=r(42325),i=r(40519),l=r(94508);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.fC,{className:(0,l.cn)("grid gap-2",r),...s,ref:t})});o.displayName=n.fC.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:(0,a.jsx)(n.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=n.ck.displayName},94508:function(e,t,r){"use strict";r.d(t,{T4:function(){return i},cn:function(){return n}});var a=r(61994),s=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}function i(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}},83774:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},73390:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var a=r(3011),s=r(89134);let n=(0,a.U)()((0,s.tJ)((e,t)=>({items:[],appliedCoupon:null,_hasHydrated:!1,setHasHydrated:t=>{e({_hasHydrated:t})},addItem:r=>{let a=t().items,s=a.find(e=>e.productId===r.productId&&e.variantId===r.variantId);s?e({items:a.map(e=>e.id===s.id?{...e,quantity:e.quantity+r.quantity}:e)}):e({items:[...a,{...r,id:"".concat(r.productId,"-").concat(r.variantId||"default","-").concat(Date.now())}]})},removeItem:r=>{e({items:t().items.filter(e=>e.id!==r)})},updateQuantity:(r,a)=>{a<=0?t().removeItem(r):e({items:t().items.map(e=>e.id===r?{...e,quantity:a}:e)})},clearCart:()=>{e({items:[],appliedCoupon:null})},applyCoupon:t=>{e({appliedCoupon:t})},removeCoupon:()=>{e({appliedCoupon:null})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getDiscount:()=>{let e=t().appliedCoupon;if(!e)return 0;let r=t().getTotalPrice();if("percentage"===e.discountType){let t=r*e.discountValue/100;return e.maxDiscount&&t>e.maxDiscount&&(t=e.maxDiscount),Math.round(t)}return e.discountValue}}),{name:"cart-storage",storage:(0,s.FL)(()=>localStorage),onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},29114:function(e,t,r){"use strict";r.d(t,{gm:function(){return n}});var a=r(2265);r(57437);var s=a.createContext(void 0);function n(e){let t=a.useContext(s);return e||t||"ltr"}},99255:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});var a,s=r(2265),n=r(61188),i=(a||(a=r.t(s,2)))[" useId ".trim().toString()]||(()=>void 0),l=0;function o(e){let[t,r]=s.useState(i());return(0,n.b)(()=>{e||r(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}},26606:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var a=r(2265);function s(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}},89134:function(e,t,r){"use strict";function a(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var a;let s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),n=null!=(a=r.getItem(e))?a:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}r.d(t,{FL:function(){return a},tJ:function(){return n}});let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},n=(e,t)=>(r,n,i)=>{let l,o={storage:a(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},d=!1,c=new Set,u=new Set,m=o.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},n,i);let h=()=>{let e=o.partialize({...n()});return m.setItem(o.name,{state:e,version:o.version})},p=i.setState;i.setState=(e,t)=>(p(e,t),h());let x=e((...e)=>(r(...e),h()),n,i);i.getInitialState=()=>x;let g=()=>{var e,t;if(!m)return;d=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:x)});let a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:x))||void 0;return s(m.getItem.bind(m))(o.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){let t=o.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,s]=e;if(r(l=o.merge(s,null!=(t=n())?t:x),!0),a)return h()}).then(()=>{null==a||a(l,void 0),l=n(),d=!0,u.forEach(e=>e(l))}).catch(e=>{null==a||a(void 0,e)})};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>d,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||g(),l||x}},3011:function(e,t,r){"use strict";r.d(t,{U:function(){return o}});var a=r(2265);let s=e=>{let t;let r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,s,n);return n},n=e=>e?s(e):s,i=e=>e,l=e=>{let t=n(e),r=e=>(function(e,t=i){let r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e=>e?l(e):l}},function(e){e.O(0,[8590,6891,5650,6053,9923,8881,2971,2117,1744],function(){return e(e.s=56324)}),_N_E=e.O()}]);