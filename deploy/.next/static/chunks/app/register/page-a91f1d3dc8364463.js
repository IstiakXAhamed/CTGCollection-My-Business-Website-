(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{62885:function(e,t,r){Promise.resolve().then(r.bind(r,52833))},52833:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(57437),s=r(2265),n=r(36891),l=r(51817),i=r(92369),o=r(89345),c=r(13041),d=r(66337),u=r(62869),f=r(95186),m=r(26815),h=r(66070),x=r(27648),p=r(33145),g=r(99376),b=r(80605);function y(){let e=(0,g.useRouter)(),[t,r]=(0,s.useState)({name:"",email:"",password:"",phone:""}),[y,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let t=await fetch("/api/auth/me",{credentials:"include"});if(t.ok){let r=await t.json();if(r.authenticated&&r.user){"admin"===r.user.role||"superadmin"===r.user.role||"seller"===r.user.role?e.replace("/admin"):e.replace("/dashboard");return}}}catch(e){}k(!1)})()},[e]);let C=async r=>{r.preventDefault(),v(""),N(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw Error(a.message||"Registration failed");a.requiresVerification?e.push("/verify-email?email=".concat(encodeURIComponent(t.email))):e.push("/login?registered=true")}catch(e){v(e.message)}finally{N(!1)}};return w?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 animate-spin text-white"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 flex items-center justify-center p-4",children:(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,a.jsxs)(h.Zb,{className:"bg-white/95 backdrop-blur-sm shadow-xl border-0",children:[(0,a.jsxs)(h.Ol,{className:"space-y-1 pb-2",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsxs)(x.default,{href:"/",className:"flex items-center gap-2",children:[(0,a.jsx)(p.default,{src:"/logo.png",alt:"Silk Mart",width:48,height:48,className:"w-10 h-10 object-contain",priority:!0}),(0,a.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Silk Mart"})]})}),(0,a.jsx)(h.ll,{className:"text-2xl text-center font-bold text-gray-900",children:"Create an account"}),(0,a.jsx)(h.SZ,{className:"text-center text-gray-500",children:"Enter your details to register"})]}),(0,a.jsxs)(h.aY,{children:[(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[y&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm font-medium",children:y}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)(f.I,{id:"name",type:"text",placeholder:"John Doe",className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 text-gray-900",value:t.name,onChange:e=>r({...t,name:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"email",className:"text-gray-700 font-medium",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)(f.I,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 text-gray-900",value:t.email,onChange:e=>r({...t,email:e.target.value}),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"Phone (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)(f.I,{id:"phone",type:"tel",placeholder:"+880 1XXX XXXXXX",className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 text-gray-900",value:t.phone,onChange:e=>r({...t,phone:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)(f.I,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500 text-gray-900",value:t.password,onChange:e=>r({...t,password:e.target.value}),required:!0,minLength:6})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Must be at least 6 characters"})]}),(0,a.jsx)(u.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold h-11",size:"lg",disabled:j,children:j?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 animate-spin"})," Creating account..."]}):"Create Account"}),(0,a.jsxs)("div",{className:"relative my-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-white px-2 text-gray-500 font-medium",children:"Or continue with"})})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>(0,b.signIn)("google",{callbackUrl:"/"}),className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-200 rounded-lg bg-white hover:bg-gray-50 transition-colors text-gray-700 font-medium shadow-sm",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})]}),(0,a.jsxs)("div",{className:"mt-6 text-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Already have an account? "}),(0,a.jsx)(x.default,{href:"/login",className:"text-blue-600 hover:text-blue-700 font-bold hover:underline",children:"Sign in"})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(x.default,{href:"/",className:"text-sm text-gray-500 hover:text-gray-900 transition-colors",children:"← Back to Home"})})]})]})})})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var a=r(57437),s=r(2265),n=r(37053),l=r(90535),i=r(94508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:t,...d})});c.displayName="Button"},66070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var a=r(57437),s=r(2265),n=r(94508);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},95186:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(57437),s=r(2265),n=r(94508);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},26815:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var a=r(57437),s=r(2265),n=r(370),l=r(90535),i=r(94508);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),r),...s})});c.displayName=n.f.displayName},94508:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},cn:function(){return n}});var a=r(61994),s=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}function l(e){return new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e)}},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66337:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},13041:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},92369:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},370:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var a=r(2265);r(54887);var s=r(37053),n=r(57437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,s.Z8)(`Primitive.${t}`),l=a.forwardRef((e,a)=>{let{asChild:s,...l}=e,i=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(i,{...l,ref:a})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),i=a.forwardRef((e,t)=>(0,n.jsx)(l.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i}},function(e){e.O(0,[8590,6891,5650,3145,5151,2971,2117,1744],function(){return e(e.s=62885)}),_N_E=e.O()}]);